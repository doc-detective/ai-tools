#!/usr/bin/env node
var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var wu=g((NN,Uk)=>{Uk.exports={checkLink_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]},click_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},config_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"config",description:"Configuration options for Doc Detective operations.",type:"object",additionalProperties:!1,dynamicDefaults:{configId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/config_v3.schema.json"]},configId:{description:"Identifier for the configuration.",type:"string"},configPath:{description:"Path to the configuration file.",type:"string",readOnly:!0},input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",default:".",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},output:{description:"Path of the directory in which to store the output of Doc Detective commands. If a file path is specified, Doc Detective attempts to honor the file name specified, but file path behavior is controlled by the configured reporters.",type:"string",default:"."},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specifications and source files.",type:"boolean",default:!0},relativePathBase:{description:"Whether paths should be interpreted as relative to the current working directory (`cwd`) or to the file in which they're specified (`file`).",type:"string",enum:["cwd","file"],default:"file"},loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]},origin:{description:"Default protocol and domain to use for relative URLs.",type:"string"},beforeAny:{description:"Path(s) to test specifications to perform before those specified by `input`. Useful for setting up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},afterAll:{description:"Path(s) to test specifications to perform after those specified by `input`. Useful for cleaning up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on defined markup.",default:!0},allowUnsafeSteps:{type:"boolean",description:"Whether or not to run potentially unsafe steps, such as those that might modify files or system state."},crawl:{description:"If `true`, crawls sitemap.xml files specified by URL to find additional files to test.",type:"boolean",default:!1},processDitaMaps:{description:"If `true`, processes DITA maps and includes generated files as inputs.",type:"boolean",default:!0},logLevel:{description:"Amount of detail to output when performing an operation.",type:"string",enum:["silent","error","warning","info","debug"],default:"info"},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},fileTypes:{description:"Configuration for file types and their markup detection.",default:["markdown","asciidoc","html","dita"],anyOf:[{type:"array",minItems:1,items:{anyOf:[{$comment:"Simple mode: Reference predefined templates by name.",title:"File type (predefined)",type:"string",enum:["markdown","asciidoc","html","dita"]},{$comment:"Custom mode: Extend predefined templates or write whole new ones.",title:"File type (custom)",type:"object",anyOf:[{required:["extensions"]},{required:["extends"]}],properties:{name:{description:"Name of the file type.",type:"string"},extends:{description:"Base template to extend.",type:"string",enum:["markdown","asciidoc","html"]},extensions:{description:"File extensions to use with type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},inlineStatements:{description:"Statements to include tests and steps inside the content of the file, such as within Markdown.",type:"object",properties:{testStart:{description:"Regular expressions that indicate the start of a test. If capture groups are used, the first capture group is used for the statement. If no capture groups are used, the entire match is used for the statement.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},testEnd:{description:"Regular expressions that indicate that the current test is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreStart:{description:"Regular expressions that indicates that the following content should be ignored for testing purposes.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreEnd:{description:"Regular expressions that indicate that the ignored section of content is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},step:{description:"Regular expressions that indicate a step in a test.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]}},title:"Inline statement definition"},markup:{description:"Markup definitions for the file type.",type:"array",minItems:1,items:{type:"object",properties:{name:{description:"Name of the markup definition",type:"string"},regex:{description:"Regular expressions to match the markup type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},batchMatches:{description:"If `true`, all matches are combined into a single string.",type:"boolean",default:!1},actions:{description:"Actions to perform when the markup type is detected.",anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{type:"array",items:{anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}]}}]}},title:"Markup definition"}}}},{title:"File type (executable)",$comment:"Executable mode: Convert executable inputs directly into tests.",type:"object",required:["extensions"],properties:{extensions:{description:"File extensions to use with type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},runShell:{description:"`runShell` step to perform for this file type. Use $1 as a placeholder for the file path.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}]}}}]}}]},integrations:{description:"Options for connecting to external services.",type:"object",additionalProperties:!1,properties:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},docDetectiveApi:{type:"object",description:"Configuration for Doc Detective Orchestration API integration.",additionalProperties:!1,properties:{apiKey:{type:"string",description:"API key for authenticating with the Doc Detective Orchestration API."}},title:"Doc Detective Orchestration API"},heretto:{type:"array",description:"Configuration for Heretto CMS integrations. Each entry specifies a Heretto instance and a scenario to build and test.",items:{type:"object",additionalProperties:!1,required:["name","organizationId","username","apiToken"],properties:{name:{type:"string",description:"Unique identifier for this Heretto integration. Used in logs and results."},organizationId:{type:"string",description:"The organization subdomain used to access Heretto CCMS (e.g., 'thunderbird' for thunderbird.heretto.com)."},username:{type:"string",description:"Heretto CCMS username (email address) for API authentication."},apiToken:{format:"password",minLength:1,type:"string",description:"API token generated in Heretto CCMS for authentication. See https://help.heretto.com/en/heretto-ccms/api/ccms-api-authentication/basic-authentication#ariaid-title3"},scenarioName:{type:"string",description:"Name of the scenario to build and test.",default:"Doc Detective"},outputPath:{type:"string",description:"Local path where Heretto content was downloaded. Set automatically during processing.",readOnly:!0},fileMapping:{type:"object",description:"Mapping of local file paths to Heretto file metadata. Set automatically during content loading.",readOnly:!0,additionalProperties:{type:"object",properties:{fileId:{type:"string",description:"The UUID of the file in Heretto."},filePath:{type:"string",description:"The path of the file in Heretto."}}}},uploadOnChange:{type:"boolean",description:"If `true`, uploads changed screenshots and other media files back to Heretto CMS after test execution.",default:!1},resourceDependencies:{type:"object",description:"Mapping of Heretto file paths to their UUIDs and metadata. Set automatically during content loading by fetching ditamap resource dependencies.",readOnly:!0,additionalProperties:{type:"object",properties:{uuid:{type:"string",description:"The UUID of the file in Heretto."},fullPath:{type:"string",description:"The full xmldb path of the file in Heretto."},name:{type:"string",description:"The file name."},parentFolderId:{type:"string",description:"The UUID of the parent folder in Heretto."}}}}},title:"Heretto CMS integration"},title:"Heretto CMS integrations"}},title:"Integrations options"},telemetry:{description:"Options around sending telemetry for Doc Detective usage.",type:"object",additionalProperties:!1,properties:{send:{description:"If `true`, sends Doc Detective telemetry.",type:"boolean",default:!0},userId:{description:"Identifier for the organization, group, or individual running Doc Detective.",type:"string"}},required:["send"],default:{send:!0},title:"Telemetry options"},concurrentRunners:{type:["integer","boolean"],default:1,minimum:1,description:"Number of concurrent test runners. Set to true to use CPU core count (capped at 4).",not:{const:!1}},environment:{type:"object",description:"Environment information for the system running Doc Detective.",readOnly:!0,additionalProperties:!1,required:["platform"],properties:{workingDirectory:{description:"The current working directory of the process running Doc Detective.",type:"string"},platform:{description:"The operating system type running Doc Detective.",type:"string",enum:["linux","mac","windows"]},arch:{description:"The processor architecture of the system running Doc Detective.",type:"string",enum:["arm32","arm64","x32","x64"]}},title:"Environment details"},debug:{description:"Enable debugging mode. `true` allows pausing on breakpoints, waiting for user input before continuing. `stepThrough` pauses at every step, waiting for user input before continuing. `false` disables all debugging.",anyOf:[{type:"boolean"},{type:"string",enum:["stepThrough"]}],default:!1}},components:{schemas:{environment:{type:"object",description:"Environment information for the system running Doc Detective.",readOnly:!0,additionalProperties:!1,required:["platform"],properties:{workingDirectory:{description:"The current working directory of the process running Doc Detective.",type:"string"},platform:{description:"The operating system type running Doc Detective.",type:"string",enum:["linux","mac","windows"]},arch:{description:"The processor architecture of the system running Doc Detective.",type:"string",enum:["arm32","arm64","x32","x64"]}},title:"Environment details"},markupDefinition:{type:"object",properties:{name:{description:"Name of the markup definition",type:"string"},regex:{description:"Regular expressions to match the markup type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},batchMatches:{description:"If `true`, all matches are combined into a single string.",type:"boolean",default:!1},actions:{description:"Actions to perform when the markup type is detected.",anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{type:"array",items:{anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}]}}]}},title:"Markup definition"},markupActionString:{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},inlineStatements:{description:"Statements to include tests and steps inside the content of the file, such as within Markdown.",type:"object",properties:{testStart:{description:"Regular expressions that indicate the start of a test. If capture groups are used, the first capture group is used for the statement. If no capture groups are used, the entire match is used for the statement.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},testEnd:{description:"Regular expressions that indicate that the current test is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreStart:{description:"Regular expressions that indicates that the following content should be ignored for testing purposes.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreEnd:{description:"Regular expressions that indicate that the ignored section of content is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},step:{description:"Regular expressions that indicate a step in a test.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]}},title:"Inline statement definition"},stringOrArray:{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}}},examples:[{},{input:".",output:".",recursive:!0,loadVariables:".env",fileTypes:["markdown"]},{fileTypes:[{extends:"markdown",extensions:["md","markdown","mdx"],inlineStatements:{testStart:"<!--\\s*testStart\\s*(.*?)\\s*-->",testEnd:"<!-- testEnd -->",ignoreStart:"<!-- ignoreStart -->",ignoreEnd:"<!-- ignoreEnd -->",step:"<!--\\s*step\\s*(.*?)\\s*-->"},markup:[{name:"onscreenText",regex:"\\*\\*.+?\\*\\*",actions:"find"}]}]},{fileTypes:[{name:"Jupyter Notebooks",extensions:"ipynb",runShell:{command:"jupyter",args:["nbconvert","--to","script","--execute","$1","--stdout"]}},{name:"JavaScript",extensions:"js",runShell:{command:"node $1"}},{name:"Python",extensions:"py",runShell:{command:"python $1"}}]},{environment:{platform:"windows",arch:"x64"}},{concurrentRunners:1},{concurrentRunners:!0},{concurrentRunners:4},{debug:!1},{debug:!0},{debug:"stepThrough"},{integrations:{docDetectiveApi:{apiKey:"your-api-key-here"}}},{crawl:!0},{processDitaMaps:!0},{integrations:{heretto:[{name:"example",organizationId:"your-organization-id",username:"your-username",apiToken:"your-api-token"}]}}]},context_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]},dragAndDrop_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]},find_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]},goTo_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]},loadCookie_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]},loadVariables_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]},httpRequest_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]},openApi_v3:{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},record_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]},resolvedTests_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"resolvedTests",description:"A collection of resolved tests ready to be performed.",type:"object",dynamicDefaults:{resolvedTestsId:"uuid"},properties:{resolvedTestsId:{type:"string",description:"Unique identifier for the resolved tests."},config:{$schema:"http://json-schema.org/draft-07/schema#",title:"config",description:"Configuration options for Doc Detective operations.",type:"object",additionalProperties:!1,dynamicDefaults:{configId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/config_v3.schema.json"]},configId:{description:"Identifier for the configuration.",type:"string"},configPath:{description:"Path to the configuration file.",type:"string",readOnly:!0},input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",default:".",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},output:{description:"Path of the directory in which to store the output of Doc Detective commands. If a file path is specified, Doc Detective attempts to honor the file name specified, but file path behavior is controlled by the configured reporters.",type:"string",default:"."},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specifications and source files.",type:"boolean",default:!0},relativePathBase:{description:"Whether paths should be interpreted as relative to the current working directory (`cwd`) or to the file in which they're specified (`file`).",type:"string",enum:["cwd","file"],default:"file"},loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]},origin:{description:"Default protocol and domain to use for relative URLs.",type:"string"},beforeAny:{description:"Path(s) to test specifications to perform before those specified by `input`. Useful for setting up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},afterAll:{description:"Path(s) to test specifications to perform after those specified by `input`. Useful for cleaning up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on defined markup.",default:!0},allowUnsafeSteps:{type:"boolean",description:"Whether or not to run potentially unsafe steps, such as those that might modify files or system state."},crawl:{description:"If `true`, crawls sitemap.xml files specified by URL to find additional files to test.",type:"boolean",default:!1},processDitaMaps:{description:"If `true`, processes DITA maps and includes generated files as inputs.",type:"boolean",default:!0},logLevel:{description:"Amount of detail to output when performing an operation.",type:"string",enum:["silent","error","warning","info","debug"],default:"info"},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},fileTypes:{description:"Configuration for file types and their markup detection.",default:["markdown","asciidoc","html","dita"],anyOf:[{type:"array",minItems:1,items:{anyOf:[{$comment:"Simple mode: Reference predefined templates by name.",title:"File type (predefined)",type:"string",enum:["markdown","asciidoc","html","dita"]},{$comment:"Custom mode: Extend predefined templates or write whole new ones.",title:"File type (custom)",type:"object",anyOf:[{required:["extensions"]},{required:["extends"]}],properties:{name:{description:"Name of the file type.",type:"string"},extends:{description:"Base template to extend.",type:"string",enum:["markdown","asciidoc","html"]},extensions:{description:"File extensions to use with type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},inlineStatements:{description:"Statements to include tests and steps inside the content of the file, such as within Markdown.",type:"object",properties:{testStart:{description:"Regular expressions that indicate the start of a test. If capture groups are used, the first capture group is used for the statement. If no capture groups are used, the entire match is used for the statement.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},testEnd:{description:"Regular expressions that indicate that the current test is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreStart:{description:"Regular expressions that indicates that the following content should be ignored for testing purposes.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreEnd:{description:"Regular expressions that indicate that the ignored section of content is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},step:{description:"Regular expressions that indicate a step in a test.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]}},title:"Inline statement definition"},markup:{description:"Markup definitions for the file type.",type:"array",minItems:1,items:{type:"object",properties:{name:{description:"Name of the markup definition",type:"string"},regex:{description:"Regular expressions to match the markup type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},batchMatches:{description:"If `true`, all matches are combined into a single string.",type:"boolean",default:!1},actions:{description:"Actions to perform when the markup type is detected.",anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{type:"array",items:{anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}]}}]}},title:"Markup definition"}}}},{title:"File type (executable)",$comment:"Executable mode: Convert executable inputs directly into tests.",type:"object",required:["extensions"],properties:{extensions:{description:"File extensions to use with type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},runShell:{description:"`runShell` step to perform for this file type. Use $1 as a placeholder for the file path.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}]}}}]}}]},integrations:{description:"Options for connecting to external services.",type:"object",additionalProperties:!1,properties:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},docDetectiveApi:{type:"object",description:"Configuration for Doc Detective Orchestration API integration.",additionalProperties:!1,properties:{apiKey:{type:"string",description:"API key for authenticating with the Doc Detective Orchestration API."}},title:"Doc Detective Orchestration API"},heretto:{type:"array",description:"Configuration for Heretto CMS integrations. Each entry specifies a Heretto instance and a scenario to build and test.",items:{type:"object",additionalProperties:!1,required:["name","organizationId","username","apiToken"],properties:{name:{type:"string",description:"Unique identifier for this Heretto integration. Used in logs and results."},organizationId:{type:"string",description:"The organization subdomain used to access Heretto CCMS (e.g., 'thunderbird' for thunderbird.heretto.com)."},username:{type:"string",description:"Heretto CCMS username (email address) for API authentication."},apiToken:{format:"password",minLength:1,type:"string",description:"API token generated in Heretto CCMS for authentication. See https://help.heretto.com/en/heretto-ccms/api/ccms-api-authentication/basic-authentication#ariaid-title3"},scenarioName:{type:"string",description:"Name of the scenario to build and test.",default:"Doc Detective"},outputPath:{type:"string",description:"Local path where Heretto content was downloaded. Set automatically during processing.",readOnly:!0},fileMapping:{type:"object",description:"Mapping of local file paths to Heretto file metadata. Set automatically during content loading.",readOnly:!0,additionalProperties:{type:"object",properties:{fileId:{type:"string",description:"The UUID of the file in Heretto."},filePath:{type:"string",description:"The path of the file in Heretto."}}}},uploadOnChange:{type:"boolean",description:"If `true`, uploads changed screenshots and other media files back to Heretto CMS after test execution.",default:!1},resourceDependencies:{type:"object",description:"Mapping of Heretto file paths to their UUIDs and metadata. Set automatically during content loading by fetching ditamap resource dependencies.",readOnly:!0,additionalProperties:{type:"object",properties:{uuid:{type:"string",description:"The UUID of the file in Heretto."},fullPath:{type:"string",description:"The full xmldb path of the file in Heretto."},name:{type:"string",description:"The file name."},parentFolderId:{type:"string",description:"The UUID of the parent folder in Heretto."}}}}},title:"Heretto CMS integration"},title:"Heretto CMS integrations"}},title:"Integrations options"},telemetry:{description:"Options around sending telemetry for Doc Detective usage.",type:"object",additionalProperties:!1,properties:{send:{description:"If `true`, sends Doc Detective telemetry.",type:"boolean",default:!0},userId:{description:"Identifier for the organization, group, or individual running Doc Detective.",type:"string"}},required:["send"],default:{send:!0},title:"Telemetry options"},concurrentRunners:{type:["integer","boolean"],default:1,minimum:1,description:"Number of concurrent test runners. Set to true to use CPU core count (capped at 4).",not:{const:!1}},environment:{type:"object",description:"Environment information for the system running Doc Detective.",readOnly:!0,additionalProperties:!1,required:["platform"],properties:{workingDirectory:{description:"The current working directory of the process running Doc Detective.",type:"string"},platform:{description:"The operating system type running Doc Detective.",type:"string",enum:["linux","mac","windows"]},arch:{description:"The processor architecture of the system running Doc Detective.",type:"string",enum:["arm32","arm64","x32","x64"]}},title:"Environment details"},debug:{description:"Enable debugging mode. `true` allows pausing on breakpoints, waiting for user input before continuing. `stepThrough` pauses at every step, waiting for user input before continuing. `false` disables all debugging.",anyOf:[{type:"boolean"},{type:"string",enum:["stepThrough"]}],default:!1}},components:{schemas:{environment:{type:"object",description:"Environment information for the system running Doc Detective.",readOnly:!0,additionalProperties:!1,required:["platform"],properties:{workingDirectory:{description:"The current working directory of the process running Doc Detective.",type:"string"},platform:{description:"The operating system type running Doc Detective.",type:"string",enum:["linux","mac","windows"]},arch:{description:"The processor architecture of the system running Doc Detective.",type:"string",enum:["arm32","arm64","x32","x64"]}},title:"Environment details"},markupDefinition:{type:"object",properties:{name:{description:"Name of the markup definition",type:"string"},regex:{description:"Regular expressions to match the markup type.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},batchMatches:{description:"If `true`, all matches are combined into a single string.",type:"boolean",default:!1},actions:{description:"Actions to perform when the markup type is detected.",anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{type:"array",items:{anyOf:[{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}]}}]}},title:"Markup definition"},markupActionString:{type:"string",enum:["checkLink","click","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"]},inlineStatements:{description:"Statements to include tests and steps inside the content of the file, such as within Markdown.",type:"object",properties:{testStart:{description:"Regular expressions that indicate the start of a test. If capture groups are used, the first capture group is used for the statement. If no capture groups are used, the entire match is used for the statement.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},testEnd:{description:"Regular expressions that indicate that the current test is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreStart:{description:"Regular expressions that indicates that the following content should be ignored for testing purposes.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},ignoreEnd:{description:"Regular expressions that indicate that the ignored section of content is complete.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]},step:{description:"Regular expressions that indicate a step in a test.",anyOf:[{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}]}},title:"Inline statement definition"},stringOrArray:{anyOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]}}},examples:[{},{input:".",output:".",recursive:!0,loadVariables:".env",fileTypes:["markdown"]},{fileTypes:[{extends:"markdown",extensions:["md","markdown","mdx"],inlineStatements:{testStart:"<!--\\s*testStart\\s*(.*?)\\s*-->",testEnd:"<!-- testEnd -->",ignoreStart:"<!-- ignoreStart -->",ignoreEnd:"<!-- ignoreEnd -->",step:"<!--\\s*step\\s*(.*?)\\s*-->"},markup:[{name:"onscreenText",regex:"\\*\\*.+?\\*\\*",actions:"find"}]}]},{fileTypes:[{name:"Jupyter Notebooks",extensions:"ipynb",runShell:{command:"jupyter",args:["nbconvert","--to","script","--execute","$1","--stdout"]}},{name:"JavaScript",extensions:"js",runShell:{command:"node $1"}},{name:"Python",extensions:"py",runShell:{command:"python $1"}}]},{environment:{platform:"windows",arch:"x64"}},{concurrentRunners:1},{concurrentRunners:!0},{concurrentRunners:4},{debug:!1},{debug:!0},{debug:"stepThrough"},{integrations:{docDetectiveApi:{apiKey:"your-api-key-here"}}},{crawl:!0},{processDitaMaps:!0},{integrations:{heretto:[{name:"example",organizationId:"your-organization-id",username:"your-username",apiToken:"your-api-token"}]}}]},specs:{description:"Test specifications that were performed.",type:"array",minItems:1,items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"specification",type:"object",dynamicDefaults:{specId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/spec_v3.schema.json"]},specId:{type:"string",description:"Unique identifier for the test specification."},description:{type:"string",description:"Description of the test specification."},specPath:{type:"string",description:"Path to the test specification."},contentPath:{type:"string",description:"Path to the content that the specification is associated with."},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},tests:{description:"[Tests](test) to perform.",type:"array",minItems:1,items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"test",type:"object",description:"A Doc Detective test.",properties:{testId:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},contentPath:{type:"string",description:"Path to the content that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex.",default:!0},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},before:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},after:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}},contexts:{title:"Resolved contexts",type:"array",readOnly:!0,description:"Resolved contexts to run the test in. This is a resolved version of the `runOn` property. It is not user-defined and should not be used in test specifications.",items:{type:"object",properties:{platform:{type:"string",description:"Platform to run the test on. This is a resolved version of the `platforms` property."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}}},title:"Resolved context"}}},dynamicDefaults:{testId:"uuid"},anyOf:[{required:["steps"]},{required:["contexts"]}],additionalProperties:!1,components:{schemas:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}}}},examples:[{steps:[{checkLink:"https://www.duckduckgo.com"}]},{steps:[{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",click:!0,type:{keys:["shorthair cats","$ENTER$"]}}}]},{testId:"Do all the things! - Test",description:"This test includes every property across all actions.",before:"setup.json",after:"cleanup.json",runOn:[{platforms:["linux"],browsers:{name:"firefox",window:{},viewport:{}}}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0},{testId:"c61b02e8-7485-44d3-8065-f873673379c6",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",validateAgainstSchema:"both",useExample:"none",exampleKey:"",name:"Acme"}],steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}],detectSteps:!0}]}]}}},required:["tests"],examples:[{tests:[{steps:[{checkLink:{url:"https://www.duckduckgo.com"}}]}]},{specId:"Do all the things! - Spec",runOn:[{platforms:["windows","mac"],browsers:{name:"firefox",window:{},viewport:{}}}],tests:[{testId:"Do all the things! - Test",description:"This test includes nearly every property across all actions.",runOn:[{platforms:"linux",browsers:"firefox"}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0}]},{specId:"Make a request from an OpenAPI definition",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",name:"Acme"}],tests:[{steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}]}]}]}]}}},required:["specs"],examples:[{config:{input:["/home/hawkeyexl/Workspaces/resolver/dev/doc-content-yaml.md"],logLevel:"debug",output:".",recursive:!0,relativePathBase:"file",detectSteps:!0,fileTypes:[{name:"markdown",extensions:["md","markdown","mdx"],inlineStatements:{testStart:["{\\/\\*\\s*test\\s+?([\\s\\S]*?)\\s*\\*\\/}","<!--\\s*test\\s*([\\s\\S]*?)\\s*-->","\\[comment\\]:\\s+#\\s+\\(test\\s*(.*?)\\s*\\)","\\[comment\\]:\\s+#\\s+\\(test start\\s*(.*?)\\s*\\)"],testEnd:["{\\/\\*\\s*test end\\s*\\*\\/}","<!--\\s*test end\\s*([\\s\\S]*?)\\s*-->","\\[comment\\]:\\s+#\\s+\\(test end\\)"],ignoreStart:["{\\/\\*\\s*test ignore start\\s*\\*\\/}","<!--\\s*test ignore start\\s*-->"],ignoreEnd:["{\\/\\*\\s*test ignore end\\s*\\*\\/}","<!--\\s*test ignore end\\s*-->"],step:["{\\/\\*\\s*step\\s+?([\\s\\S]*?)\\s*\\*\\/}","<!--\\s*step\\s*([\\s\\S]*?)\\s*-->","\\[comment\\]:\\s+#\\s+\\(step\\s*(.*?)\\s*\\)"]},markup:[{name:"checkHyperlink",regex:['(?<!\\!)\\[[^\\]]+\\]\\(\\s*(https?:\\/\\/[^\\s)]+)(?:\\s+"[^"]*")?\\s*\\)'],actions:["checkLink"]},{name:"clickOnscreenText",regex:["\\b(?:[Cc]lick|[Tt]ap|[Ll]eft-click|[Cc]hoose|[Ss]elect|[Cc]heck)\\b\\s+\\*\\*((?:(?!\\*\\*).)+)\\*\\*"],actions:["click"]},{name:"findOnscreenText",regex:["\\*\\*((?:(?!\\*\\*).)+)\\*\\*"],actions:["find"]},{name:"goToUrl",regex:['\\b(?:[Gg]o\\s+to|[Oo]pen|[Nn]avigate\\s+to|[Vv]isit|[Aa]ccess|[Pp]roceed\\s+to|[Ll]aunch)\\b\\s+\\[[^\\]]+\\]\\(\\s*(https?:\\/\\/[^\\s)]+)(?:\\s+"[^"]*")?\\s*\\)'],actions:["goTo"]},{name:"screenshotImage",regex:['!\\[[^\\]]*\\]\\(\\s*([^\\s)]+)(?:\\s+"[^"]*")?\\s*\\)\\s*\\{(?=[^}]*\\.screenshot)[^}]*\\}'],actions:["screenshot"]},{name:"typeText",regex:['\\b(?:press|enter|type)\\b\\s+"([^"]+)"'],actions:["type"]}]},{name:"asciidoc",extensions:["adoc","asciidoc","asc"],inlineStatements:{testStart:["\\/\\/\\s+\\(\\s*test\\s+([\\s\\S]*?)\\s*\\)"],testEnd:["\\/\\/\\s+\\(\\s*test end\\s*\\)"],ignoreStart:["\\/\\/\\s+\\(\\s*test ignore start\\s*\\)"],ignoreEnd:["\\/\\/\\s+\\(\\s*test ignore end\\s*\\)"],step:["\\/\\/\\s+\\(\\s*step\\s+([\\s\\S]*?)\\s*\\)"]},markup:[]},{name:"html",extensions:["html","htm"],inlineStatements:{testStart:["<!--\\s*test\\s+?([\\s\\S]*?)\\s*-->"],testEnd:["<!--\\s*test end\\s*([\\s\\S]*?)\\s*-->"],ignoreStart:["<!--\\s*test ignore start\\s*-->"],ignoreEnd:["<!--\\s*test ignore end\\s*-->"],step:["<!--\\s*step\\s+?([\\s\\S]*?)\\s*-->"]},markup:[]}],telemetry:{send:!0},configId:"3e467e5d-27cb-41f3-800f-aeb3c20dcb4c",environment:{arch:"x64",platform:"linux",workingDirectory:"/home/hawkeyexl/Workspaces/resolver"}},specs:[{specId:"cc656bba-132f-4f0f-b093-2cfbdd784f69",contentPath:"/home/hawkeyexl/Workspaces/resolver/dev/doc-content-yaml.md",tests:[{testId:"doc-detective-docs",detectSteps:!1,runOn:[],openApi:[],contexts:[{steps:[{checkLink:"https://doc-detective.com"},{checkLink:"https://doc-detective.com/docs/get-started/intro"},{goTo:"https://doc-detective.com/docs/get-started/actions/type"},{find:"Special keys"},{screenshot:"reference.png"}],contextId:"eec1d123-7dfd-4362-b41a-942f36e0da5a"}]}],runOn:[],openApi:[]}]}]},report_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"report",type:"object",dynamicDefaults:{reportId:"uuid"},properties:{reportId:{type:"string",description:"Unique identifier for the test specification."},specs:{description:"Test specifications that were performed.",type:"array",minItems:1,items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"specification",type:"object",dynamicDefaults:{specId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/spec_v3.schema.json"]},specId:{type:"string",description:"Unique identifier for the test specification."},description:{type:"string",description:"Description of the test specification."},specPath:{type:"string",description:"Path to the test specification."},contentPath:{type:"string",description:"Path to the content that the specification is associated with."},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},tests:{description:"[Tests](test) to perform.",type:"array",minItems:1,items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"test",type:"object",description:"A Doc Detective test.",properties:{testId:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},contentPath:{type:"string",description:"Path to the content that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex.",default:!0},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},before:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},after:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}},contexts:{title:"Resolved contexts",type:"array",readOnly:!0,description:"Resolved contexts to run the test in. This is a resolved version of the `runOn` property. It is not user-defined and should not be used in test specifications.",items:{type:"object",properties:{platform:{type:"string",description:"Platform to run the test on. This is a resolved version of the `platforms` property."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}}},title:"Resolved context"}}},dynamicDefaults:{testId:"uuid"},anyOf:[{required:["steps"]},{required:["contexts"]}],additionalProperties:!1,components:{schemas:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}}}},examples:[{steps:[{checkLink:"https://www.duckduckgo.com"}]},{steps:[{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",click:!0,type:{keys:["shorthair cats","$ENTER$"]}}}]},{testId:"Do all the things! - Test",description:"This test includes every property across all actions.",before:"setup.json",after:"cleanup.json",runOn:[{platforms:["linux"],browsers:{name:"firefox",window:{},viewport:{}}}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0},{testId:"c61b02e8-7485-44d3-8065-f873673379c6",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",validateAgainstSchema:"both",useExample:"none",exampleKey:"",name:"Acme"}],steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}],detectSteps:!0}]}]}}},required:["tests"],examples:[{tests:[{steps:[{checkLink:{url:"https://www.duckduckgo.com"}}]}]},{specId:"Do all the things! - Spec",runOn:[{platforms:["windows","mac"],browsers:{name:"firefox",window:{},viewport:{}}}],tests:[{testId:"Do all the things! - Test",description:"This test includes nearly every property across all actions.",runOn:[{platforms:"linux",browsers:"firefox"}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0}]},{specId:"Make a request from an OpenAPI definition",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",name:"Acme"}],tests:[{steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}]}]}]}]}}},required:["specs"],examples:[{specs:[{tests:[{steps:[{checkLink:{url:"https://www.duckduckgo.com"}}]}]}]},{specs:[{specId:"Do all the things! - Spec",runOn:[{platforms:["windows","mac"],browsers:{name:"firefox",window:{},viewport:{}}}],tests:[{testId:"Do all the things! - Test",description:"This test includes nearly every property across all actions.",runOn:[{platforms:"linux",browsers:"firefox"}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0}]}]},{specs:[{specId:"Make a request from an OpenAPI definition",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",name:"Acme"}],tests:[{steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}]}]}]}]},runCode_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]},runShell_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]},saveCookie_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]},screenshot_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]},sourceIntegration_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",description:"Information about the source integration for a file, enabling upload of changed files back to the source CMS.",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]},spec_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"specification",type:"object",dynamicDefaults:{specId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/spec_v3.schema.json"]},specId:{type:"string",description:"Unique identifier for the test specification."},description:{type:"string",description:"Description of the test specification."},specPath:{type:"string",description:"Path to the test specification."},contentPath:{type:"string",description:"Path to the content that the specification is associated with."},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},tests:{description:"[Tests](test) to perform.",type:"array",minItems:1,items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"test",type:"object",description:"A Doc Detective test.",properties:{testId:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},contentPath:{type:"string",description:"Path to the content that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex.",default:!0},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},before:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},after:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}},contexts:{title:"Resolved contexts",type:"array",readOnly:!0,description:"Resolved contexts to run the test in. This is a resolved version of the `runOn` property. It is not user-defined and should not be used in test specifications.",items:{type:"object",properties:{platform:{type:"string",description:"Platform to run the test on. This is a resolved version of the `platforms` property."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}}},title:"Resolved context"}}},dynamicDefaults:{testId:"uuid"},anyOf:[{required:["steps"]},{required:["contexts"]}],additionalProperties:!1,components:{schemas:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}}}},examples:[{steps:[{checkLink:"https://www.duckduckgo.com"}]},{steps:[{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",click:!0,type:{keys:["shorthair cats","$ENTER$"]}}}]},{testId:"Do all the things! - Test",description:"This test includes every property across all actions.",before:"setup.json",after:"cleanup.json",runOn:[{platforms:["linux"],browsers:{name:"firefox",window:{},viewport:{}}}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0},{testId:"c61b02e8-7485-44d3-8065-f873673379c6",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",validateAgainstSchema:"both",useExample:"none",exampleKey:"",name:"Acme"}],steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}],detectSteps:!0}]}]}}},required:["tests"],examples:[{tests:[{steps:[{checkLink:{url:"https://www.duckduckgo.com"}}]}]},{specId:"Do all the things! - Spec",runOn:[{platforms:["windows","mac"],browsers:{name:"firefox",window:{},viewport:{}}}],tests:[{testId:"Do all the things! - Test",description:"This test includes nearly every property across all actions.",runOn:[{platforms:"linux",browsers:"firefox"}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0}]},{specId:"Make a request from an OpenAPI definition",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",name:"Acme"}],tests:[{steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}]}]}]},step_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]},stopRecord_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]},test_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"test",type:"object",description:"A Doc Detective test.",properties:{testId:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},contentPath:{type:"string",description:"Path to the content that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex.",default:!0},runOn:{type:"array",description:"Contexts to run the test in. Overrides contexts defined at the config and spec levels.",items:{anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"context",type:"object",description:"A context in which to perform tests. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For example, if a browser isn't specified but is required by steps in the test, Doc Detective will search for and use a supported browser available in the current environment.",additionalProperties:!1,dynamicDefaults:{contextId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/context_v3.schema.json"]},contextId:{type:"string",description:"Unique identifier for the context."},platforms:{description:"Platforms to run tests on.",anyOf:[{type:"string",enum:["linux","mac","windows"]},{type:"array",items:{type:"string",enum:["linux","mac","windows"]}}]},browsers:{description:"Browsers to run tests on.",anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},{type:"array",items:{anyOf:[{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}]}}]}},components:{schemas:{platform:{type:"string",enum:["linux","mac","windows"]},browserName:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"}}},examples:[{platforms:"linux",browsers:"chrome"},{platforms:["windows","mac","linux"],browsers:["chrome","firefox","webkit"]},{browsers:{name:"chrome",headless:!0}},{browsers:[{name:"chrome",headless:!0},{name:"firefox"}]},{platforms:["mac","linux"],browsers:{name:"chrome",headless:!0}},{platforms:["windows","mac","linux"],browsers:[{name:"chrome",headless:!0,window:{width:1920,height:1080},viewport:{width:1600,height:900}},{name:"firefox",window:{width:1366,height:768}},{name:"webkit",headless:!1,viewport:{width:1440,height:900}}]},{platforms:"mac",browsers:[{name:"safari",window:{width:1280,height:800}}]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},before:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},after:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}},contexts:{title:"Resolved contexts",type:"array",readOnly:!0,description:"Resolved contexts to run the test in. This is a resolved version of the `runOn` property. It is not user-defined and should not be used in test specifications.",items:{type:"object",properties:{platform:{type:"string",description:"Platform to run the test on. This is a resolved version of the `platforms` property."},browser:{type:"object",description:"Browser configuration.",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"Name of the browser.",enum:["chrome","firefox","safari","webkit"],$comment:"`safari` is just a shortcut for `webkit`. Included for visibility and to reduce questions."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode.",default:!0},window:{type:"object",description:"Browser dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the browser window in pixels."},height:{type:"integer",description:"Height of the browser window in pixels."}},title:"Browser Window"},viewport:{type:"object",description:"Viewport dimensions.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the viewport in pixels."},height:{type:"integer",description:"Height of the viewport in pixels."}},title:"Browser Viewport"}},title:"Browser"},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}},steps:{description:"Steps to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails. By default, if a step fails, the test stops and the remaining steps are not executed.",type:"array",minItems:1,items:{$schema:"http://json-schema.org/draft-07/schema#",title:"step",description:"A step in a test.",type:"object",components:{schemas:{common:{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}}},anyOf:[{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["checkLink"],properties:{checkLink:{$schema:"http://json-schema.org/draft-07/schema#",title:"checkLink",anyOf:[{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}],components:{schemas:{string:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"string",pattern:"(^(http://|https://|\\/).*|\\$[A-Za-z0-9_]+$)",transform:["trim"]},object:{title:"Check link (detailed)",description:"Check if an HTTP or HTTPS URL returns an acceptable status code from a GET request.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to check. Can be a full URL or a path. If a path is provided, `origin` must be specified.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",anyOf:[{type:"integer"},{type:"array",items:{anyOf:[{type:"integer"}]}}],default:[200,301,302,307,308]}}}}},examples:["https://www.google.com","/search",{url:"https://www.google.com",statusCodes:200},{url:"/search",origin:"www.google.com",statusCodes:[200]}]}},title:"checkLink"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["click"],properties:{click:{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]}},title:"click"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["find"],properties:{find:{$schema:"http://json-schema.org/draft-07/schema#",title:"find",description:"Find an element based on display text or a selector, then optionally interact with it.",anyOf:[{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}],components:{schemas:{string:{title:"Find element (simple)",type:"string",description:"Identifier for the element to find. Can be a selector, element text, ARIA name, ID, or test ID."},object:{title:"Find element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],additionalProperties:!1,properties:{elementText:{type:"string",description:"Display text of the element to find. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to find. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view.",type:"boolean",default:!0},click:{description:"Click the element.",anyOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"click",description:"Click or tap an element.",anyOf:[{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}},{type:"boolean"}],components:{schemas:{string:{title:"Click element (simple)",type:"string",description:"Identifier for the element to click. Can be a selector, element text, ARIA name, ID, or test ID."},button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},object:{title:"Click element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]},elementText:{type:"string",description:"Display text of the element to click. If combined with other element finding fields, the element must match all specified criteria."},selector:{type:"string",description:"Selector of the element to click. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to click. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}},examples:[!0,"right",{button:"left",elementText:"Element text"},{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}]},{type:"object",properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}},title:"Find element and click"}]},type:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`type`](type). To type in the element, make the element active with the `click` parameter.",allOf:[{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},{not:{type:"object",required:["selector","elementText","elementId","elementTestId","elementClass","elementAttribute","elementAria"],title:"Find element and type"}}]}}}}},examples:["Find me!",{selector:"[title=Search]"},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"},{selector:"[title=Search]",click:{button:"right"}},{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}},{elementId:"/^user-[0-9]+$/",elementClass:["admin","/^level-[1-5]$/"],elementAttribute:{"data-active":!0,"data-score":"/^[0-9]+$/"},timeout:8e3,moveTo:!1}]}},title:"find"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["goTo"],properties:{goTo:{$schema:"http://json-schema.org/draft-07/schema#",title:"goTo",anyOf:[{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}],components:{schemas:{string:{title:"Go to URL (simple)",description:"Navigate to an HTTP or HTTPS URL. Can be a full URL or a path. If a path is provided, navigates relative to the current URL, if any.",type:"string",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{description:"Navigate to an HTTP or HTTPS URL.",type:"object",additionalProperties:!1,required:["url"],properties:{url:{type:"string",description:"URL to navigate to. Can be a full URL or a path. If a path is provided and `origin` is specified, prepends `origin` to `url`. If a path is provided but `origin` isn't specified, attempts to navigate relative to the current URL, if any.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},timeout:{type:"integer",description:"Maximum time in milliseconds to wait for the page to be ready. If exceeded, the goTo action fails.",default:3e4,minimum:0},waitUntil:{type:"object",description:"Configuration for waiting conditions after navigation.",additionalProperties:!1,properties:{networkIdleTime:{description:"Wait for network activity to be idle (no new requests) for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:500},domIdleTime:{description:"Wait for DOM mutations to stop for this duration in milliseconds. Set to `null` to skip this check.",anyOf:[{type:"integer",minimum:0},{type:"null"}],default:1e3},find:{type:"object",description:"Wait for a specific element to be present in the DOM. At least one of selector or elementText must be specified.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{selector:{type:"string",description:"CSS selector for the element to wait for."},elementText:{type:"string",description:"Text content the element must contain. Supports exact match or regex pattern using /pattern/ syntax."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}}}}}},title:"Go to URL (detailed)"}}},examples:["https://www.google.com","/search",{url:"https://www.google.com"},{url:"/search",origin:"https://www.google.com"},{url:"https://www.example.com",waitUntil:{networkIdleTime:500}},{url:"https://www.example.com/dashboard",waitUntil:{find:{selector:"[data-testid='dashboard-loaded']"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:500,domIdleTime:1e3,find:{selector:".main-content",elementText:"Dashboard"}}},{url:"https://www.example.com/app",timeout:6e4,waitUntil:{networkIdleTime:null}},{url:"https://www.example.com/status",waitUntil:{find:{elementText:"System operational"}}},{url:"http://localhost:8092",waitUntil:{find:{selector:"button",elementText:"Standard Button",elementTestId:"standard-btn",elementAria:"Sample Standard Button",elementId:"standard-btn",elementClass:["btn"],elementAttribute:{type:"button",value:"Standard Button"}}}}]}},title:"goTo"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["httpRequest"],properties:{httpRequest:{$schema:"http://json-schema.org/draft-07/schema#",title:"httpRequest",description:"Perform a generic HTTP request, for example to an API.",anyOf:[{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}],components:{schemas:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{title:"HTTP request (detailed)",type:"object",anyOf:[{required:["url"]},{required:["openApi"]}],additionalProperties:!1,properties:{url:{title:"HTTP request (simple)",type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{anyOf:[{allOf:[{type:"string",description:"ID of the operation to use for the request."},{title:"Operation ID",description:"Operation ID from the OpenAPI schema. Only valid if the OpenAPI description path is specified elsewhere and the operation ID is unique among all specified OpenAPI descriptions."}]},{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",required:["operationId"],title:"OpenAPI definition (httpRequest)"}]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{anyOf:[{type:"integer"}]},default:[200,201]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},request:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers to include in the HTTP request.",default:{},anyOf:[{title:"Request headers (object)",description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{}},{title:"Request headers (string)",description:"Headers to include in the HTTP request, as return-separated values. For example, `Content-Type: application/json\nAuthorization: Bearer token`.",type:"string"}]},parameters:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{},title:"Request parameters"},body:{description:"The body of the HTTP request.",anyOf:[{title:"Request body (object)",description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,properties:{}},{title:"Request body (array)",description:"JSON array to include as the body of the HTTP request.",type:"array",items:{}},{title:"Request body (string)",description:"String to include as the body of the HTTP request.",type:"string"}],default:{}}},title:"Request"},response:{type:"object",additionalProperties:!1,properties:{headers:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{},title:"Response headers"},body:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",anyOf:[{type:"object",additionalProperties:!0,properties:{},title:"Response body object",description:"JSON key/value pairs expected in the response."},{title:"Response body array",description:"JSON array expected in the response.",type:"array",items:{}},{title:"Response body string",description:"String expected in the response.",type:"string"}],default:{}},required:{type:"array",description:"Array of field paths that must exist in the response body. Uses dot notation for nested fields (e.g., 'user.name') and bracket notation for array indices (e.g., 'items[0].id'). Fields must be present but may have any value including null.",items:{type:"string"},default:[]}},title:"Response"},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in the response body.",default:!0},path:{type:"string",description:"File path to save the command's output, relative to `directory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"}}}}},examples:["https://reqres.in/api/users",{url:"https://reqres.in/api/users"},{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]},{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]},{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"},{openApi:"getUserById"},{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}},{url:"https://www.api-server.com",method:"post",request:{headers:"Content-Type: application/json\\nAuthorization: Bearer token"}},{url:"https://api.example.com/users/123",response:{required:["id","email","createdAt"]}},{url:"https://api.example.com/users/123",response:{required:["user.profile.name","user.profile.avatar","user.settings.notifications"]}},{url:"https://api.example.com/orders",response:{required:["orders[0].id","orders[0].total","orders[0].items[0].productId"]}},{url:"https://api.example.com/users",response:{required:["sessionToken","expiresAt","user.id"],body:{status:"success",user:{role:"admin"}}}}]}},title:"httpRequest"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runShell"],properties:{runShell:{$schema:"http://json-schema.org/draft-07/schema#",title:"runShell",description:"Perform a native shell command.",anyOf:[{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}],components:{schemas:{string:{title:"Run shell command (simple)",description:"Command to perform in the machine's default shell.",type:"string",transform:["trim"]},object:{type:"object",required:["command"],additionalProperties:!1,properties:{command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's stdout or stderr. If the expected content can't be found in the command's stdout or stderr, the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run shell command (detailed)"}}},examples:["docker run hello-world",{command:"echo",args:["$USER"]},{command:"echo",args:["hello-world"]},{command:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{command:"false",exitCodes:[1]},{command:"echo",args:["setup"],exitCodes:[0],stdio:"/.*?/"},{command:"docker run hello-world",workingDirectory:".",exitCodes:[0],stdio:"Hello from Docker!",path:"docker-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runShell"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["runCode"],properties:{runCode:{$schema:"http://json-schema.org/draft-07/schema#",title:"runCode",description:"Assemble and run code.",anyOf:[{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}],components:{schemas:{object:{type:"object",required:["code","language"],properties:{language:{type:"string",description:"Language of the code to run.",enum:["python","bash","javascript"]},code:{description:"Code to run.",type:"string"},args:{type:"array",description:"Arguments for the command.",items:{anyOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{anyOf:[{type:"integer"}]},default:[0]},stdio:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},path:{type:"string",description:"File path to save the command's output, relative to `directory`."},directory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `path`, this value is ignored.",default:0,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `path` if it exists.\nIf `aboveVariation`, overwrites the existing output at `path` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4}},title:"Run code (detailed)"}}},examples:[{language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],stdio:"Hello from Docker!"},{language:"javascript",code:"return false",exitCodes:[1]},{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}]}},title:"runCode"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["type"],properties:{type:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]}},title:"type"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["screenshot"],properties:{screenshot:{$schema:"http://json-schema.org/draft-07/schema#",title:"screenshot",description:"Takes a screenshot in PNG format.",anyOf:[{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},{type:"boolean",title:"Capture screenshot",description:"If `true`, captures a screenshot. If `false`, doesn't capture a screenshot."}],components:{schemas:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{path:{title:"Screenshot (simple)",description:"File path of the PNG file. Accepts absolute paths. If not specified, the file name is the ID of the step.",type:"string",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory.",transform:["trim"]},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the existing screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:.05,minimum:0,maximum:1},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `aboveVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","aboveVariation"],default:"aboveVariation"},crop:{anyOf:[{title:"Crop by element (simple)",type:"string",description:"Display text or selector of the element to screenshot."},{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}}]},sourceIntegration:{description:"Information about the source integration for this screenshot, enabling upload of changed files back to the source CMS. Set automatically during test resolution for files from integrations.",$schema:"http://json-schema.org/draft-07/schema#",title:"sourceIntegration",type:"object",additionalProperties:!1,required:["type","integrationName"],properties:{type:{type:"string",description:"The type of integration. Currently supported: 'heretto'. Additional types may be added in the future.",enum:["heretto"]},integrationName:{type:"string",description:"The name of the integration configuration in the config file. Used to look up authentication credentials."},fileId:{type:"string",description:"The unique identifier (UUID) of the file in the source CMS. If not provided, the file will be looked up by path."},filePath:{type:"string",description:"The path of the file in the source CMS. Used for lookup if fileId is not available."},contentPath:{type:"string",description:"The local path to the file that references this source. Used for resolving relative paths."}},examples:[{type:"heretto",integrationName:"my-heretto",fileId:"8f3ed200-cbba-11e1-ac51-c82a1446d15c",filePath:"/db/organizations/example/repositories/docs/images/screenshot.png"},{type:"heretto",integrationName:"my-heretto",filePath:"images/screenshot.png",contentPath:"/tmp/doc-detective/heretto_abc123/topic.dita"}]}},title:"Capture screenshot (detailed)"},crop_element:{title:"Crop by element (detailed)",type:"object",description:"Crop the screenshot to a specific element.",additionalProperties:!1,anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text of the element to screenshot."},selector:{type:"string",description:"Selector of the element to screenshot."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},padding:{anyOf:[{title:"Padding (simple)",type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}]}}},padding:{type:"object",additionalProperties:!1,properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}},title:"Padding (detailed)",description:"Padding in pixels to add to the bounds of the element."}}},examples:[!0,"image.png","static/images/image.png","/User/manny/projects/doc-detective/static/images/image.png",{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"},{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}]}},title:"screenshot"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["saveCookie"],properties:{saveCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"saveCookie",description:"Save a specific browser cookie to a file or environment variable for later reuse.",anyOf:[{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save. Will be saved to a default file path or environment variable.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to save.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name to store the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to save the cookie, relative to directory. Uses Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory to save the cookie file. If not specified, uses output directory.",transform:["trim"]},overwrite:{type:"boolean",title:"Overwrite existing file",description:"Whether to overwrite existing cookie file.",default:!1},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by (optional).",transform:["trim"]}},required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],title:"Save cookie (detailed)"}}},examples:["session_token","test_env_cookie",{name:"auth_cookie",path:"auth-cookie.txt"},{name:"session_token",variable:"SESSION_TOKEN"},{name:"test_cookie",path:"test-cookie.txt",overwrite:!0},{name:"user_session",path:"user-session.txt",directory:"./test-data",overwrite:!0},{name:"login_token",path:"login-token.txt",domain:"app.example.com"}]}},title:"saveCookie"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["record"],properties:{record:{$schema:"http://json-schema.org/draft-07/schema#",title:"record",description:"Start recording the current browser viewport. Must be followed by a `stopRecord` step. Only runs in Chrome browsers when they are visible. Supported extensions: [ '.mp4', '.webm', '.gif' ]",anyOf:[{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"},{type:"boolean",title:"Record (boolean)",description:"If `true`, records the current browser viewport. If `false`, doesn't record the current browser viewport."}],components:{schemas:{string:{title:"Record (simple)",type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},object:{type:"object",properties:{path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)",transform:["trim"]},directory:{type:"string",description:"Directory of the file. If the directory doesn't exist, creates the directory.",transform:["trim"]},overwrite:{type:"string",description:"If `true`, overwrites the existing recording at `path` if it exists.",enum:["true","false"]}},title:"Record (detailed)"}}},examples:[!0,"results.mp4",{path:"results.mp4",directory:"static/media",overwrite:"true"}]}},title:"record"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{type:"object",required:["stopRecord"],properties:{stopRecord:{$schema:"http://json-schema.org/draft-07/schema#",title:"stopRecord",description:"Stop the current recording.",anyOf:[{type:"boolean",nullable:!0}],examples:[!0]}},title:"stopRecord"}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadVariables",type:"object",required:["loadVariables"],properties:{loadVariables:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadVariables",type:"string",description:"Load environment variables from the specified `.env` file.",examples:[".env"]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"dragAndDrop",type:"object",required:["dragAndDrop"],properties:{dragAndDrop:{$schema:"http://json-schema.org/draft-07/schema#",title:"dragAndDrop",description:"Drag and drop an element from source to target.",type:"object",required:["source","target"],properties:{source:{description:"The element to drag.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},target:{description:"The target location to drop the element.",anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},duration:{type:"integer",description:"Duration of the drag operation in milliseconds.",default:1e3,minimum:0}},components:{schemas:{elementSpecification:{anyOf:[{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}]},string:{title:"Element (simple)",type:"string",description:"Display text, selector, or regex pattern (enclosed in forward slashes) of the element."},object:{title:"Element (detailed)",type:"object",anyOf:[{required:["selector"]},{required:["elementText"]},{required:["elementId"]},{required:["elementTestId"]},{required:["elementClass"]},{required:["elementAttribute"]},{required:["elementAria"]}],properties:{elementText:{type:"string",description:"Display text or regex pattern (enclosed in forward slashes) of the element. If combined with `selector`, the element must match both the text and the selector."},selector:{type:"string",description:"Selector of the element. If combined with `elementText`, the element must match both the text and the selector."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3}}}}},examples:[{source:"Table",target:"#canvas"},{source:".draggable-block",target:".drop-zone",duration:2e3},{source:{selector:".widget",elementText:"Data Table"},target:{selector:"#design-canvas"},duration:500},{source:{selector:".draggable",timeout:1e4},target:{elementText:"Drop Zone",timeout:5e3}},{source:"/Widget Item.*/",target:"#canvas"},{source:{selector:".draggable",elementText:"/Button [0-9]+/"},target:{elementText:"/Drop Zone.*/"}}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"loadCookie",type:"object",required:["loadCookie"],properties:{loadCookie:{$schema:"http://json-schema.org/draft-07/schema#",title:"loadCookie",description:"Load a specific cookie from a file or environment variable into the browser.",anyOf:[{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}],components:{schemas:{string:{type:"string",title:"Cookie name or file path",description:"Name of the specific cookie to load from default location, or file path to cookie file.",pattern:"^[A-Za-z0-9_./\\-]+$",transform:["trim"]},object:{type:"object",additionalProperties:!1,required:["name"],anyOf:[{required:["path"],not:{required:["variable"]}},{required:["variable"],not:{anyOf:[{required:["path"]},{required:["directory"]}]}}],properties:{$schema:{description:"Optional self-describing schema URI for linters",type:"string",format:"uri-reference"},name:{type:"string",title:"Cookie name",description:"Name of the specific cookie to load.",pattern:"^[A-Za-z0-9_.-]+$",transform:["trim"]},variable:{type:"string",title:"Environment variable name",description:"Environment variable name containing the cookie as JSON string.",pattern:"^[A-Za-z_][A-Za-z0-9_]*$",transform:["trim"]},path:{type:"string",title:"Cookie file path",description:"File path to cookie file, relative to directory. Supports Netscape cookie format.",transform:["trim"]},directory:{type:"string",title:"Directory path",description:"Directory containing the cookie file.",transform:["trim"]},domain:{type:"string",title:"Cookie domain",description:"Specific domain to filter the cookie by when loading from multi-cookie file (optional).",transform:["trim"]}},title:"Load cookie (detailed)"}}},examples:["session_token","./test-data/auth-session.txt","test_env_cookie",{name:"auth_cookie",variable:"AUTH_COOKIE"},{name:"test_cookie",path:"test-cookie.txt"},{name:"session_token",path:"session-token.txt",directory:"./test-data"},{name:"user_session",path:"saved-cookies.txt",domain:"app.example.com"}]}}}]},{allOf:[{type:"object",dynamicDefaults:{stepId:"uuid"},properties:{$schema:{description:"JSON Schema for this object.",type:"string",enum:["https://raw.githubusercontent.com/doc-detective/common/refs/heads/main/dist/schemas/step_v3.schema.json"]},stepId:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},unsafe:{type:"boolean",description:"Whether or not the step may be unsafe. Unsafe steps may perform actions that could modify the system or environment in unexpected ways. Unsafe steps are only performed within Docker containers or if unsafe steps are enabled with the `allowUnsafeSteps` config property or the `--allow-unsafe` flag.",default:!1},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Outputs (step)"},variables:{type:"object",description:"Environment variables to set from user-defined expressions.",default:{},patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},title:"Variables (step)"},breakpoint:{type:"boolean",description:"Whether or not this step should act as a breakpoint when debugging is enabled. When `true`, execution will pause at this step when debug mode is enabled.",default:!1}},title:"Common"},{title:"wait",type:"object",required:["wait"],properties:{wait:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]}}}]}],examples:[{stepId:"uuid",description:"Description of the step.",checkLink:"https://www.google.com",outputs:{outputKey:"outputValue"},variables:{variableKey:"variableValue"}},{checkLink:"https://www.google.com"},{stepId:"path-only",checkLink:"/search"},{stepId:"status-code",checkLink:{url:"https://www.google.com",statusCodes:[200]}},{goTo:{url:"https://www.google.com"}},{goTo:"https://www.google.com"},{wait:5e3},{runCode:{language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],stdio:"Hello from Python!",path:"python-output.txt",directory:"output",maxVariation:.1,overwrite:"aboveVariation"}},{stopRecord:!0},{screenshot:!0},{screenshot:"image.png"},{screenshot:"static/images/image.png"},{screenshot:"/User/manny/projects/doc-detective/static/images/image.png"},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:"#elementToScreenshot"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation"}},{screenshot:{path:"image.png",directory:"static/images",maxVariation:.1,overwrite:"aboveVariation",crop:{selector:"#elementToScreenshot",elementText:"Element text",padding:{top:0,right:0,bottom:0,left:0}}}},{record:!0},{record:"video.mp4"},{record:"static/media/video.mp4"},{record:"/User/manny/projects/doc-detective/static/media/video.mp4"},{record:{path:"video.mp4",directory:"static/media",overwrite:!0}},{loadVariables:"variables.env"},{saveCookie:"session_token"},{saveCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data",overwrite:!0}},{loadCookie:"session_token"},{loadCookie:{name:"auth_cookie",path:"auth-session.txt",directory:"./test-data"}},{find:"Find me!"},{find:{selector:"[title=Search]"}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:"shorthair cat"}},{find:{selector:"[title=Search]",click:{button:"right"}}},{find:{selector:"[title=Search]",timeout:1e4,elementText:"Search",moveTo:!0,click:!0,type:{keys:["shorthair cat"],inputDelay:100}}},{click:!0},{click:"right"},{click:{button:"left",elementText:"Element text"}},{click:{selector:"#elementToScreenshot",elementText:"Element text",button:"middle"}},{httpRequest:"https://reqres.in/api/users"},{httpRequest:{url:"https://reqres.in/api/users"}},{httpRequest:{url:"https://reqres.in/api/users/2",method:"put",request:{body:{name:"morpheus",job:"zion resident"}}}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201]}},{httpRequest:{url:"https://www.api-server.com",method:"post",timeout:3e4,request:{body:{field:"value"},headers:{header:"value"},parameters:{param:"value"}},response:{body:{field:"value"},headers:{header:"value"}},statusCodes:[200]}},{httpRequest:{url:"https://reqres.in/api/users",method:"post",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],path:"response.json",directory:"media",maxVariation:.05,overwrite:"aboveVariation"}},{httpRequest:{openApi:"getUserById"}},{httpRequest:{openApi:{name:"Reqres",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},request:{parameters:{id:123}}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}}},{httpRequest:{openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",headers:{Authorization:"Bearer $TOKEN"}}}},{stepId:"breakpoint-example",description:"Step with breakpoint enabled",goTo:"https://www.example.com",breakpoint:!0},{checkLink:"https://www.google.com",breakpoint:!1},{dragAndDrop:{source:{selector:"#sourceElement"},target:{selector:"#targetElement"}}}]}}},title:"Resolved context"}}},dynamicDefaults:{testId:"uuid"},anyOf:[{required:["steps"]},{required:["contexts"]}],additionalProperties:!1,components:{schemas:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI description and configuration.",additionalProperties:!1,anyOf:[{required:["descriptionPath"]},{required:["operationId"]}],properties:{name:{type:"string",description:"Name of the OpenAPI description, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."},definition:{type:"object",readOnly:!0,description:"OpenAPI definition object loaded from the `descriptionPath`. This is a resolved version of the OpenAPI description and should not be user-defined.",additionalProperties:!0,title:"OpenAPI definition"},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI description."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI description. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI description as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI description as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI description. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},headers:{type:"object",description:"Request headers to add to requests. For example, to set `Authorization` headers for all requests from the specified OpenAPI document. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"},title:"OpenAPI request headers"}},components:{schemas:{operationId:{type:"string",description:"ID of the operation to use for the request."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI description."}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"},{name:"Reqres",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none"},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0},{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both",exampleKey:"example1",statusCode:201,validateAgainstSchema:"none",mockResponse:!0,headers:{Authorization:"Bearer 12345"}}]},{type:"object",not:{required:["operationId"]},required:["name","descriptionPath"],title:"OpenAPI description (test)"}]}}}},examples:[{steps:[{checkLink:"https://www.duckduckgo.com"}]},{steps:[{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",click:!0,type:{keys:["shorthair cats","$ENTER$"]}}}]},{testId:"Do all the things! - Test",description:"This test includes every property across all actions.",before:"setup.json",after:"cleanup.json",runOn:[{platforms:["linux"],browsers:{name:"firefox",window:{},viewport:{}}}],steps:[{loadVariables:".env"},{runShell:{command:"echo",args:["$USER"],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{checkLink:{url:"https://www.duckduckgo.com"}},{httpRequest:{method:"post",url:"https://reqres.in/api/users",request:{body:{name:"morpheus",job:"leader"}},response:{body:{name:"morpheus",job:"leader"}},statusCodes:[200,201],maxVariation:0,overwrite:"aboveVariation"},variables:{}},{goTo:{url:"https://www.duckduckgo.com"}},{find:{selector:"[title=Search]",elementText:"Search",timeout:1e4,moveTo:!0,click:!0,type:{keys:["shorthair cat"]}},variables:{}},{type:{keys:["$ENTER$"]}},{screenshot:{maxVariation:0,overwrite:"aboveVariation"}}],detectSteps:!0},{testId:"c61b02e8-7485-44d3-8065-f873673379c6",openApi:[{descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",validateAgainstSchema:"both",useExample:"none",exampleKey:"",name:"Acme"}],steps:[{httpRequest:{openApi:{operationId:"getUserById",validateAgainstSchema:"both",useExample:"none",exampleKey:""},request:{parameters:{id:123}},response:{},maxVariation:0,overwrite:"aboveVariation"},variables:{}}],detectSteps:!0}]},type_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"typeKeys",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's keyword. For example, to type the Escape key, enter `$ESCAPE$`.",anyOf:[{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}],components:{schemas:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},object:{title:"Type keys (detailed)",type:"object",properties:{keys:{title:"Type keys (simple)",description:"Sequence of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},inputDelay:{type:"number",description:"Delay in milliseconds between each key press during a recording",default:100},selector:{type:"string",description:"Selector for the element to type into. If not specified, the typing occurs in the active element."},elementText:{type:"string",description:"Display text of the element to type into. If combined with other element finding fields, the element must match all specified criteria."},elementId:{type:"string",description:"ID attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementTestId:{type:"string",description:"data-testid attribute of the element to find. Supports exact match or regex pattern using /pattern/ syntax."},elementClass:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Class or array of classes that the element must have. Each class supports exact match or regex pattern using /pattern/ syntax. Element must have all specified classes."},elementAttribute:{type:"object",description:"Object of attribute key-value pairs that the element must have. Values can be strings (supporting /pattern/ regex), numbers, or booleans. Boolean true matches attribute presence, false matches absence.",additionalProperties:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},elementAria:{type:"string",description:"Computed accessible name of the element per ARIA specification. Supports exact match or regex pattern using /pattern/ syntax."}},required:["keys"],additionalProperties:!1}}},examples:["kittens",["$ENTER$"],["kittens","$ENTER$"],{keys:"kittens"},{keys:["$ENTER$"]},{keys:["kittens","$ENTER$"],inputDelay:500}]},wait_v3:{$schema:"http://json-schema.org/draft-07/schema#",title:"wait",description:"Pause (in milliseconds) before performing the next action.",default:5e3,anyOf:[{type:"number",title:"Wait (simple)"},{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]},{type:"boolean",title:"Wait (boolean)"}],components:{schemas:{string:{title:"Wait (environment variable)",type:"string",pattern:"(\\$[A-Za-z0-9_]+)",transform:["trim"]}}},examples:[5e3,"$WAIT_DURATION",!0]},checkLink_v2:{title:"checkLink",type:"object",description:"Check if a URL returns an acceptable status code from a GET request.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"checkLink",description:"Action to perform."},url:{type:"string",description:"URL to check.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200,201,202]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"checkLink",url:"https://www.google.com"},{action:"checkLink",url:"https://www.google.com",statusCodes:[200]},{action:"checkLink",url:"/search",origin:"www.google.com",statusCodes:[200]}]},config_v2:{title:"config",description:"Configuration options for Doc Detective operations.",type:"object",additionalProperties:!1,properties:{defaultCommand:{description:"Default command to run when no command is specified.",type:"string",enum:["runTests","runCoverage"]},input:{default:".",description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},output:{default:".",description:"Path of the of the file or directory in which to store the output of Doc Detective commands. If a file path is specified, the output is written to that file. If a file of that name already exists, Doc Detective creates appends an integer to the result file name. If a directory path is specified, the output file name is dependent on the command being run.",type:"string"},recursive:{default:!0,description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specificaions and source files.",type:"boolean"},relativePathBase:{description:"Whether paths should be interpreted as relative to the current working directory (`cwd`) or to the file in which they're specified (`file`).",type:"string",enum:["cwd","file"],default:"cwd"},envVariables:{description:"Path to a `.env` file to load before performing a Doc Detective operation.",type:"string"},runTests:{type:"object",additionalProperties:!1,description:"Options for running tests. When running tests, values set here override general configuration options.",properties:{input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},output:{description:"Path of the of the file or directory in which to store the output of Doc Detective commands. If a file path is specified, the output is written to that file. If a file of that name already exists, Doc Detective creates appends an integer to the result file name. If a directory path is specified, the output file name is dependent on the command being run.",type:"string",default:"."},setup:{description:"Path(s) to test specifications to perform before those specified by `input`. Useful for setting up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},cleanup:{description:"Path(s) to test specifications to perform after those specified by `input`. Useful for cleaning up testing environments.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specificaions and source files.",type:"boolean"},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex.",default:!1},mediaDirectory:{description:"DEPRECATED.",type:"string",default:"."},downloadDirectory:{description:"Path of the directory in which to store downloaded files.",type:"string",default:"."},contexts:{type:"array",description:"Application/platform sets to run tests in. If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it.",items:{oneOf:[{title:"context",type:"object",description:`An application and supported platforms.

If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For browsers, context priority is Firefox > Chrome > Chromium.`,properties:{app:{type:"object",description:"The application to run.",additionalProperties:!1,required:["name"],properties:{name:{type:"string",description:"Name of the application.",enum:["chrome","firefox","safari","edge"]},path:{type:"string",description:"Absolute path or command for the application. If not specified, defaults to typical install paths per platform. If specified but the path is invalid, the context is skipped."},options:{type:"object",description:"Options to pass to the app. Only works when `name` is `firefox` or `chrome`.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the window in pixels."},height:{type:"integer",description:"Height of the window in pixels."},viewport_height:{type:"integer",description:"Height of the viewport in pixels. Overrides `height`."},viewport_width:{type:"integer",description:"Width of the viewport in pixels. Overrides `width`."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode. Not supported by Safari."},driverPath:{type:"string",description:"Path to the browser driver. If not specified, defaults to internally managed dependencies."}}}}},platforms:{description:"Supported platforms for the application.",type:"array",items:{type:"string",enum:["linux","mac","windows"]}}},required:["app","platforms"],additionalProperties:!1,examples:[{app:{name:"chrome"},platforms:["linux"]},{app:{name:"chrome",options:{viewport_width:800,viewport_height:600}},platforms:["linux"]},{app:{name:"firefox",options:{width:800,height:600,headless:!1,driverPath:"/usr/bin/geckodriver"}},platforms:["linux","windows","mac"]},{app:{name:"safari"},platforms:["mac"]},{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}]}]},default:[{app:{name:"firefox",options:{width:1200,height:800,headless:!0}},platforms:["linux","mac","windows"]}]}}},runCoverage:{description:"Options for performing test coverage analysis on documentation source files.  When performing coveration analysis, values set here override general configuration options.",type:"object",additionalProperties:!1,properties:{input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},output:{description:"Path of the of the file or directory in which to store the output of Doc Detective commands. If a file path is specified, the output is written to that file. If a file of that name already exists, Doc Detective creates appends an integer to the result file name. If a directory path is specified, the output file name is dependent on the command being run.",type:"string",default:"."},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specificaions and source files.",type:"boolean"},markup:{default:["onscreenText","emphasis","image","hyperlink","codeInline","codeBlock","interaction"],description:"Markup types to include when performing this operation. If no markup types are specified, the operation includes all markup types as defined in `fileTypes`.",type:"array",items:{oneOf:[{type:"string"}]}}}},suggestTests:{description:"Options for suggesting tests based on documentation source files.  When suggesting tests, values set here override general condiguration options.",type:"object",additionalProperties:!1,properties:{input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},output:{description:"Path of the of the file or directory in which to store the output of Doc Detective commands. If a file path is specified, the output is written to that file. If a file of that name already exists, Doc Detective creates appends an integer to the result file name. If a directory path is specified, the output file name is dependent on the command being run.",type:"string",default:"."},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specificaions and source files.",type:"boolean"},markup:{default:["onscreenText","emphasis","image","hyperlink","codeInline","codeBlock","interaction"],description:"Markup types to include when performing this operation. If no markup types are specified, the operation includes all markup types as defined in `fileTypes`.",type:"array",items:{oneOf:[{type:"string"}]}}}},fileTypes:{description:"Information on supported file types and how to parse the markup within them.",type:"array",items:{oneOf:[{type:"object",additionalProperties:!1,properties:{name:{description:"Name of the file type.",type:"string"},extensions:{description:"File extensions to support with this configuration.",type:"array",items:{oneOf:[{type:"string"}]}},testStartStatementOpen:{description:"Opening of an in-document test start statement.",type:"string"},testStartStatementClose:{description:"Close of an in-document test start statement.",type:"string"},testIgnoreStatement:{description:"Text for an in-document test ignore statement.",type:"string"},testEndStatement:{description:"Text for an in-document test end statement.",type:"string"},stepStatementOpen:{description:"Opening of an in-document step statement.",type:"string"},stepStatementClose:{description:"Close of an in-document step statement.",type:"string"},markup:{description:"Markup types and associated regex patterns to find in documentation source files.",type:"array",items:{oneOf:[{type:"object",additionalProperties:!1,properties:{name:{description:"Name of the markup type.",type:"string"},regex:{description:"Regex patterns to find the markup type in documentation source files.",type:"array",minItems:1,items:{oneOf:[{type:"string"}]}},actions:{description:"Actions that apply to the markup type.",type:"array",items:{oneOf:[{type:"string",enum:["checkLink","find","goTo","httpRequest","runShell","saveScreenshot","setVariables","startRecording","stopRecording","typeKeys","wait"]},{type:"object",additionalProperties:!1,properties:{name:{description:"Name of the action.",type:"string",enum:["checkLink","find","goTo","httpRequest","runShell","saveScreenshot","setVariables","startRecording","stopRecording","typeKeys","wait"]},params:{description:"Parameters for the action.",type:"object",additionalProperties:!0}},required:["name"]},{title:"checkLink",type:"object",description:"Check if a URL returns an acceptable status code from a GET request.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"checkLink",description:"Action to perform."},url:{type:"string",description:"URL to check.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200,201,202]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"checkLink",url:"https://www.google.com"},{action:"checkLink",url:"https://www.google.com",statusCodes:[200]},{action:"checkLink",url:"/search",origin:"www.google.com",statusCodes:[200]}]},{title:"find",type:"object",description:"Check if an element exists with the specified CSS selector.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"find",description:"Action to perform."},selector:{description:"Selector that uniquely identifies the element.",type:"string"},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},matchText:{type:"string",description:"Text that the element should contain. If the element doesn't contain the text, the step fails. Accepts both strings an regular expressions. To use a regular expression, the expression should start and end with a `/`. For example, `/search/`."},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view. Only runs the if the test is being recorded.",oneOf:[{type:"boolean"}],default:!1},click:{description:"Click the element.",oneOf:[{type:"boolean",default:!1},{type:"object",additionalProperties:!1,properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}}}]},typeKeys:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`typeKeys`](typeKeys). To type in the element, make the element active with the `click` parameter.",oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}}}]},setVariables:{type:"array",description:"Extract environment variables from the element's text.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the element's text.",type:"string"}},required:["name","regex"]}]},default:[]}},required:["action","selector"],dynamicDefaults:{id:"uuid"},additionalProperties:!1,examples:[{action:"find",selector:"[title=Search]"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:"shorthair cat"},{action:"find",selector:"[title=Search]",click:{button:"right"}},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"],delay:100}},{action:"find",selector:"[title=ResultsCount]",setVariables:[{name:"resultsCount",regex:".*"}]}]},{title:"goTo",type:"object",description:"Navigate to a specified URL.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"goTo",description:"Action to perform."},url:{type:"string",description:"URL to navigate to.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!",action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516756",description:"This is a test!",action:"goTo",url:"/search",origin:"https://www.google.com"}]},{title:"httpRequest",type:"object",description:"Perform a generic HTTP request, for example to an API.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"httpRequest",description:"Aciton to perform."},url:{type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",required:["operationId"]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},requestHeaders:{description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{},default:{}},responseHeaders:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{}},requestParams:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{}},responseParams:{description:"DEPRECATED.",type:"object",additionalProperties:!0,default:{},properties:{}},requestData:{description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,default:{},properties:{}},responseData:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",type:"object",additionalProperties:!0,default:{},properties:{}},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in `responseData`.",default:!0},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},envsFromResponseData:{description:"Environment variables to set based on response variables, as an object of the environment variable name and the jq filter applied to the response data to identify the variable's value.",type:"array",default:[],items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},jqFilter:{description:"jq filter to apply to the response data. If the filter doesn't return a value, the environment variable isn't set.",type:"string"}},required:["name","jqFilter"]}]}}},dynamicDefaults:{id:"uuid"},anyOf:[{required:["url"]},{required:["openApi"]}],required:["action"],additionalProperties:!1,examples:[{action:"httpRequest",url:"https://reqres.in/api/users"},{action:"httpRequest",url:"https://reqres.in/api/users/2",method:"put",requestData:{name:"morpheus",job:"zion resident"}},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"httpRequest",url:"https://www.api-server.com",method:"post",timeout:3e4,requestHeaders:{header:"value"},requestParams:{param:"value"},requestData:{field:"value"},responseHeaders:{header:"value"},responseData:{field:"value"},statusCodes:[200]},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201],savePath:"response.json",saveDirectory:"media",maxVariation:5,overwrite:"byVariation"},{action:"httpRequest",openApi:{name:"Reqres",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",requestHeaders:{Authorization:"Bearer $TOKEN"}}}]},{title:"runShell",type:"object",description:"Perform a native shell command.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runShell",description:"The action to perform."},command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","command"],examples:[{action:"runShell",command:"echo",args:["$USER"]},{action:"runShell",command:"echo",args:["hello-world"],id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!"},{action:"runShell",command:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runShell",command:"false",exitCodes:[1]},{action:"runShell",command:"echo",args:["setup"],exitCodes:[0],output:"/.*?/",setVariables:[{name:"TEST",regex:".*"}]},{action:"runShell",command:"docker run hello-world",workingDirectory:".",exitCodes:[0],output:"Hello from Docker!",savePath:"docker-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},{title:"saveScreenshot",type:"object",description:"Takes a screenshot in PNG format.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"saveScreenshot",description:"The action to perform."},path:{type:"string",description:"File path of the PNG file, relative to `directory`. If not specified, the file name is the ID of the step.",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the exisitng screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:5,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `byVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},crop:{type:"object",description:"Crops the screenshot.",properties:{selector:{type:"string",description:"Selector of the element to crop the image to."},padding:{oneOf:[{type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}}}]}},required:["selector"],additionalProperties:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"saveScreenshot"},{action:"saveScreenshot",path:"results.png"},{action:"saveScreenshot",path:"results.png",directory:"static/images"},{action:"saveScreenshot",path:"results.png",directory:"static/images",maxVariation:10,overwrite:"byVariation"},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element"}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:10}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:{top:10,right:20,bottom:30,left:40}}}]},{title:"setVariables",type:"object",description:"Load environment variables from a `.env` file.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"setVariables",description:"Action to perform."},path:{type:"string",description:"Path to the `.env` file."}},dynamicDefaults:{id:"uuid"},required:["action","path"],additionalProperties:!1,examples:[{action:"setVariables",path:".env"}]},{title:"startRecording",type:"object",description:"Start recording the current browser viewport. Must be followed by a `stopRecording` action. Only runs when the context `app` is `chrome` and `headless` is `false`. Supported extensions: [ '.mp4', '.webm', '.gif' ]",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"startRecording",description:"The action to perform."},path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the file. Attempts to create the directory if it doesn't exist."},overwrite:{type:"boolean",description:"If `true`, overwrites the existing file at `path` if it exists.",default:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"startRecording"},{action:"startRecording",path:"results.mp4"},{action:"startRecording",path:"results.mp4",directory:"static/media",overwrite:!0}]},{title:"stopRecording",type:"object",description:"Stop the current recording.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"stopRecording",description:"The action to perform."}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"stopRecording"}]},{title:"typeKeys",type:"object",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's enum. For example, to type the Escape key, enter `$ESCAPE$`.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"typeKeys",description:"The action to perform."},keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}},dynamicDefaults:{id:"uuid"},required:["action","keys"],additionalProperties:!1,examples:[{action:"typeKeys",keys:"kittens"},{action:"typeKeys",keys:["$ENTER$"]},{action:"typeKeys",keys:["kittens","$ENTER$"],delay:500}]},{title:"wait",type:"object",description:"Pause before performing the next action.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"wait",description:"The action to perform."},duration:{type:"number",description:"Milliseconds to wait.",default:5e3}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"wait"},{action:"wait",duration:5e3}]}]}}},required:["name","regex"]}]}}},required:["extensions","testStartStatementOpen","testStartStatementClose","testIgnoreStatement","testEndStatement","stepStatementOpen","stepStatementClose","markup"]}]},default:[{name:"Markdown",extensions:[".md",".markdown",".mdx"],testStartStatementOpen:"[comment]: # (test start",testStartStatementClose:")",testIgnoreStatement:"[comment]: # (test ignore)",testEndStatement:"[comment]: # (test end)",stepStatementOpen:"[comment]: # (step",stepStatementClose:")",markup:[{name:"onscreenText",regex:["\\*\\*.+?\\*\\*"],actions:["find"]},{name:"emphasis",regex:["(?<!\\*)\\*(?!\\*).+?(?<!\\*)\\*(?!\\*)"]},{name:"image",regex:["!\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"hyperlink",regex:["(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"navigationLink",regex:["(?:[Cc]hose|[Oo]pen|[Cc]lick|[Nn]avigate to|[Gg]o to)(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["goTo"]},{name:"orderedList",regex:[`(?<=
) *?[0-9][0-9]?[0-9]?.\\s*.*`]},{name:"unorderedList",regex:[`(?<=
) *?\\*.\\s*.*`,`(?<=
) *?-.\\s*.*`]},{name:"codeInline",regex:["(?<!`)`(?!`).+?(?<!`)`(?!`)"]},{name:"interaction",regex:["[cC]lick","[tT]ap","[tT]ouch","[sS]elect","[cC]hoose","[tT]oggle","[eE]nable","[dD]isable","[tT]urn [oO][ff|n]","[tT]ype","[eE]nter","[sS]end","[aA]dd","[rR]emove","[dD]elete","[uU]pload","[dD]ownload","[sS]croll","[sS]earch","[fF]ilter","[sS]ort","[cC]opy","[pP]aste","[cC]ut","[rR]eplace","[cC]lear","[rR]efresh","[rR]evert","[rR]estore","[rR]eset","[lL]ogin","[lL]ogout","[sS]ign [iI]n","[sS]ign [oO]ut","[sS]ubmit","[cC]ancel","[cC]lose","[aA]ccept","[dD]ecline","[dD]eny","[rR]eject","[rR]etry","[rR]estart","[rR]esume"]}]},{name:"AsciiDoc",extensions:[".adoc",".asciidoc, .asc"],testStartStatementOpen:"// (test start",testStartStatementClose:")",testIgnoreStatement:"// (test ignore)",testEndStatement:"// (test end)",stepStatementOpen:"// (step",stepStatementClose:")",markup:[]},{name:"HTML/XML",extensions:[".html",".htm",".xml",".xhtml"],testStartStatementOpen:"<!-- test start",testStartStatementClose:"-->",testIgnoreStatement:"<!-- test ignore -->",testEndStatement:"<!-- test end -->",stepStatementOpen:"<!-- step",stepStatementClose:"-->",markup:[]}]},integrations:{description:"Options for connecting to external services.",type:"object",additionalProperties:!1,properties:{openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",properties:{operationId:{type:"null",$commment:"Only allow operationId at the step level."}},required:["name","descriptionPath"]}]}}}},telemetry:{description:"Options around sending telemetry for Doc Detective usage.",type:"object",additionalProperties:!1,properties:{send:{description:"If `true`, sends Doc Detective telemetry.",type:"boolean",default:!0},userId:{description:"Identifier for the organization, group, or individual running Doc Detective.",type:"string"}},required:["send"],default:{send:!0}},logLevel:{description:"Amount of detail to output when performing an operation.",type:"string",enum:["silent","error","warning","info","debug"],default:"info"}},definitions:{input:{description:"Path(s) to test specifications and documentation source files. May be paths to specific files or to directories to scan for files.",anyOf:[{type:"string"},{type:"array",items:{anyOf:[{type:"string"}]}}]},recursive:{description:"If `true` searches `input`, `setup`, and `cleanup` paths recursively for test specificaions and source files.",type:"boolean"},output:{description:"Path of the of the file or directory in which to store the output of Doc Detective commands. If a file path is specified, the output is written to that file. If a file of that name already exists, Doc Detective creates appends an integer to the result file name. If a directory path is specified, the output file name is dependent on the command being run.",type:"string",default:"."},markupToInclude:{description:"Markup types to include when performing this operation. If no markup types are specified, the operation includes all markup types as defined in `fileTypes`.",type:"array",items:{oneOf:[{type:"string"}]}}},examples:[{},{input:".",output:"."},{defaultCommand:"runTests",envVariables:"",input:".",output:".",recursive:!0,logLevel:"info",runTests:{input:".",output:".",setup:"",cleanup:"",recursive:!0,downloadDirectory:".",contexts:[{app:{name:"firefox",path:""},platforms:["linux","mac","windows"]}]}},{integrations:{openApi:[{name:"Acme",descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com",mockResponse:!0}]}},{envVariables:"",input:".",output:".",recursive:!0,logLevel:"info",runTests:{input:".",output:".",setup:"",cleanup:"",recursive:!0,downloadDirectory:".",contexts:[{app:{name:"firefox",path:""},platforms:["linux","mac","windows"]}]},runCoverage:{recursive:!0,input:".",output:".",markup:[]},fileTypes:[{name:"Markdown",extensions:[".md",".markdown",".mdx"],testStartStatementOpen:"[comment]: # (test start",testStartStatementClose:")",testIgnoreStatement:"[comment]: # (test ignore)",testEndStatement:"[comment]: # (test end)",stepStatementOpen:"[comment]: # (step",stepStatementClose:")",markup:[{name:"onscreenText",regex:["\\*\\*.+?\\*\\*"],actions:["find"]},{name:"emphasis",regex:["(?<!\\*)\\*(?!\\*).+?(?<!\\*)\\*(?!\\*)"]},{name:"image",regex:["!\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"hyperlink",regex:["(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"navigationLink",regex:["(?:[Cc]hose|[Oo]pen|[Cc]lick|[Nn]avigate to|[Gg]o to)(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["goTo"]},{name:"orderedList",regex:[`(?<=
) *?[0-9][0-9]?[0-9]?.\\s*.*`]},{name:"unorderedList",regex:[`(?<=
) *?\\*.\\s*.*`,`(?<=
) *?-.\\s*.*`]},{name:"codeInline",regex:["(?<!`)`(?!`).+?(?<!`)`(?!`)"]},{name:"codeBlock",regex:["(?=(```))(\\w|\\W)*(?<=```)"]},{name:"interaction",regex:["[cC]lick","[tT]ap","[tT]ouch","[sS]elect","[cC]hoose","[tT]oggle","[eE]nable","[dD]isable","[tT]urn [oO][ff|n]","[tT]ype","[eE]nter","[sS]end","[aA]dd","[rR]emove","[dD]elete","[uU]pload","[dD]ownload","[sS]croll","[sS]earch","[fF]ilter","[sS]ort","[cC]opy","[pP]aste","[cC]ut","[rR]eplace","[cC]lear","[rR]efresh","[rR]evert","[rR]estore","[rR]eset","[lL]ogin","[lL]ogout","[sS]ign [iI]n","[sS]ign [oO]ut","[sS]ubmit","[cC]ancel","[cC]lose","[aA]ccept","[dD]ecline","[dD]eny","[rR]eject","[rR]etry","[rR]estart","[rR]esume"]}]}],integrations:{},telemetry:{send:!0,userId:"Doc Detective"}},{envVariables:"",input:["."],output:".",recursive:!0,relativePathBase:"cwd",logLevel:"info",runTests:{input:["."],output:".",setup:["."],cleanup:["."],recursive:!0,downloadDirectory:".",contexts:[{app:{name:"firefox",options:{width:1200,height:800,headless:!0}},platforms:["linux","mac","windows"]}]},runCoverage:{recursive:!0,input:["."],output:".",markup:[]},fileTypes:[{name:"Markdown",extensions:[".md",".markdown",".mdx"],testStartStatementOpen:"[comment]: # (test start",testStartStatementClose:")",testIgnoreStatement:"[comment]: # (test ignore)",testEndStatement:"[comment]: # (test end)",stepStatementOpen:"[comment]: # (step",stepStatementClose:")",markup:[{name:"onscreenText",regex:["\\*\\*.+?\\*\\*"],actions:["find"]},{name:"emphasis",regex:["(?<!\\*)\\*(?!\\*).+?(?<!\\*)\\*(?!\\*)"]},{name:"image",regex:["!\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"hyperlink",regex:["(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["checkLink"]},{name:"navigationLink",regex:["(?:[Cc]hose|[Oo]pen|[Cc]lick|[Nn]avigate to|[Gg]o to)(?<!!)\\[.+?\\]\\(.+?\\)"],actions:["goTo"]},{name:"orderedList",regex:[`(?<=
) *?[0-9][0-9]?[0-9]?.\\s*.*`]},{name:"unorderedList",regex:[`(?<=
) *?\\*.\\s*.*`,`(?<=
) *?-.\\s*.*`]},{name:"codeInline",regex:["(?<!`)`(?!`).+?(?<!`)`(?!`)"]},{name:"codeBlock",regex:["(?=(```))(\\w|\\W)*(?<=```)"]},{name:"interaction",regex:["[cC]lick","[tT]ap","[tT]ouch","[sS]elect","[cC]hoose","[tT]oggle","[eE]nable","[dD]isable","[tT]urn [oO][ff|n]","[tT]ype","[eE]nter","[sS]end","[aA]dd","[rR]emove","[dD]elete","[uU]pload","[dD]ownload","[sS]croll","[sS]earch","[fF]ilter","[sS]ort","[cC]opy","[pP]aste","[cC]ut","[rR]eplace","[cC]lear","[rR]efresh","[rR]evert","[rR]estore","[rR]eset","[lL]ogin","[lL]ogout","[sS]ign [iI]n","[sS]ign [oO]ut","[sS]ubmit","[cC]ancel","[cC]lose","[aA]ccept","[dD]ecline","[dD]eny","[rR]eject","[rR]etry","[rR]estart","[rR]esume"]}]},{name:"AsciiDoc",extensions:[".adoc",".asciidoc, .asc"],testStartStatementOpen:"// (test start",testStartStatementClose:")",testIgnoreStatement:"// (test ignore)",testEndStatement:"// (test end)",stepStatementOpen:"// (step",stepStatementClose:")",markup:[]},{name:"HTML/XML",extensions:[".html",".htm",".xml",".xhtml"],testStartStatementOpen:"<!-- test start",testStartStatementClose:"-->",testIgnoreStatement:"<!-- test ignore -->",testEndStatement:"<!-- test end -->",stepStatementOpen:"<!-- step",stepStatementClose:"-->",markup:[]}],integrations:{},telemetry:{send:!0,userId:"Doc Detective"}}]},context_v2:{title:"context",type:"object",description:`An application and supported platforms.

If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For browsers, context priority is Firefox > Chrome > Chromium.`,properties:{app:{type:"object",description:"The application to run.",additionalProperties:!1,required:["name"],properties:{name:{type:"string",description:"Name of the application.",enum:["chrome","firefox","safari","edge"]},path:{type:"string",description:"Absolute path or command for the application. If not specified, defaults to typical install paths per platform. If specified but the path is invalid, the context is skipped."},options:{type:"object",description:"Options to pass to the app. Only works when `name` is `firefox` or `chrome`.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the window in pixels."},height:{type:"integer",description:"Height of the window in pixels."},viewport_height:{type:"integer",description:"Height of the viewport in pixels. Overrides `height`."},viewport_width:{type:"integer",description:"Width of the viewport in pixels. Overrides `width`."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode. Not supported by Safari."},driverPath:{type:"string",description:"Path to the browser driver. If not specified, defaults to internally managed dependencies."}}}}},platforms:{description:"Supported platforms for the application.",type:"array",items:{type:"string",enum:["linux","mac","windows"]}}},required:["app","platforms"],additionalProperties:!1,examples:[{app:{name:"chrome"},platforms:["linux"]},{app:{name:"chrome",options:{viewport_width:800,viewport_height:600}},platforms:["linux"]},{app:{name:"firefox",options:{width:800,height:600,headless:!1,driverPath:"/usr/bin/geckodriver"}},platforms:["linux","windows","mac"]},{app:{name:"safari"},platforms:["mac"]},{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}]},find_v2:{title:"find",type:"object",description:"Check if an element exists with the specified CSS selector.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"find",description:"Action to perform."},selector:{description:"Selector that uniquely identifies the element.",type:"string"},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},matchText:{type:"string",description:"Text that the element should contain. If the element doesn't contain the text, the step fails. Accepts both strings an regular expressions. To use a regular expression, the expression should start and end with a `/`. For example, `/search/`."},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view. Only runs the if the test is being recorded.",oneOf:[{type:"boolean"}],default:!1},click:{description:"Click the element.",oneOf:[{type:"boolean",default:!1},{type:"object",additionalProperties:!1,properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}}}]},typeKeys:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`typeKeys`](typeKeys). To type in the element, make the element active with the `click` parameter.",oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}}}]},setVariables:{type:"array",description:"Extract environment variables from the element's text.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the element's text.",type:"string"}},required:["name","regex"]}]},default:[]}},required:["action","selector"],dynamicDefaults:{id:"uuid"},additionalProperties:!1,examples:[{action:"find",selector:"[title=Search]"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:"shorthair cat"},{action:"find",selector:"[title=Search]",click:{button:"right"}},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"],delay:100}},{action:"find",selector:"[title=ResultsCount]",setVariables:[{name:"resultsCount",regex:".*"}]}]},goTo_v2:{title:"goTo",type:"object",description:"Navigate to a specified URL.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"goTo",description:"Action to perform."},url:{type:"string",description:"URL to navigate to.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!",action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516756",description:"This is a test!",action:"goTo",url:"/search",origin:"https://www.google.com"}]},httpRequest_v2:{title:"httpRequest",type:"object",description:"Perform a generic HTTP request, for example to an API.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"httpRequest",description:"Aciton to perform."},url:{type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",required:["operationId"]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},requestHeaders:{description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{},default:{}},responseHeaders:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{}},requestParams:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{}},responseParams:{description:"DEPRECATED.",type:"object",additionalProperties:!0,default:{},properties:{}},requestData:{description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,default:{},properties:{}},responseData:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",type:"object",additionalProperties:!0,default:{},properties:{}},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in `responseData`.",default:!0},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},envsFromResponseData:{description:"Environment variables to set based on response variables, as an object of the environment variable name and the jq filter applied to the response data to identify the variable's value.",type:"array",default:[],items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},jqFilter:{description:"jq filter to apply to the response data. If the filter doesn't return a value, the environment variable isn't set.",type:"string"}},required:["name","jqFilter"]}]}}},dynamicDefaults:{id:"uuid"},anyOf:[{required:["url"]},{required:["openApi"]}],required:["action"],additionalProperties:!1,examples:[{action:"httpRequest",url:"https://reqres.in/api/users"},{action:"httpRequest",url:"https://reqres.in/api/users/2",method:"put",requestData:{name:"morpheus",job:"zion resident"}},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"httpRequest",url:"https://www.api-server.com",method:"post",timeout:3e4,requestHeaders:{header:"value"},requestParams:{param:"value"},requestData:{field:"value"},responseHeaders:{header:"value"},responseData:{field:"value"},statusCodes:[200]},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201],savePath:"response.json",saveDirectory:"media",maxVariation:5,overwrite:"byVariation"},{action:"httpRequest",openApi:{name:"Reqres",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",requestHeaders:{Authorization:"Bearer $TOKEN"}}}]},moveTo_v2:{title:"moveTo",type:"object",description:"Move the mouse to a specific location.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"moveTo",description:"The action to perform."},selector:{description:"Selector for the element to move to.",type:"string"},alignment:{description:"Alignment of the element to move to.",type:"string",enum:["top","bottom","left","right","center"],default:"center"},offset:{description:"Offset from the element to move to.",type:"object",properties:{x:{description:"Offset from the element to move to in x direction. Negative values move left, positive values move right.",type:"number",default:0},y:{description:"Offset from the element to move to in y direction. Negative values move up, positive values move down.",type:"number",default:0}},default:{},additionalProperties:!1},duration:{description:"Duration of the move in milliseconds.",type:"number",minimum:0,default:500}},dynamicDefaults:{id:"uuid"},required:["action","selector"],additionalProperties:!1,examples:[{action:"moveTo",selector:"#searchInput"},{action:"moveTo",selector:"#searchInput",alignment:"left"},{action:"moveTo",selector:"#searchInput",alignment:"left",offset:{x:10,y:10}},{action:"moveTo",selector:"#searchInput",alignment:"left",offset:{x:10,y:10},duration:1e3}]},openApi_v2:{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},runShell_v2:{title:"runShell",type:"object",description:"Perform a native shell command.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runShell",description:"The action to perform."},command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","command"],examples:[{action:"runShell",command:"echo",args:["$USER"]},{action:"runShell",command:"echo",args:["hello-world"],id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!"},{action:"runShell",command:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runShell",command:"false",exitCodes:[1]},{action:"runShell",command:"echo",args:["setup"],exitCodes:[0],output:"/.*?/",setVariables:[{name:"TEST",regex:".*"}]},{action:"runShell",command:"docker run hello-world",workingDirectory:".",exitCodes:[0],output:"Hello from Docker!",savePath:"docker-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},runCode_v2:{title:"runCode",type:"object",description:"Assemble and run code.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runCode",description:"The action to perform."},language:{type:"string",description:"Language of the code to run. If not specified, the code is run in the shell.",enum:["python","bash","javascript"]},code:{type:"string",description:"Code to run."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},properties:{stdout:{type:"string",description:"Standard output of the command.",readOnly:!0},stderr:{type:"string",description:"Standard error of the command.",readOnly:!0},exitCode:{type:"integer",description:"Exit code of the command.",readOnly:!0}}}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","code","language"],examples:[{action:"runCode",language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{action:"runCode",language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runCode",language:"javascript",code:"return false",exitCodes:[1]},{action:"runCode",language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],output:"Hello from Python!",savePath:"python-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},saveScreenshot_v2:{title:"saveScreenshot",type:"object",description:"Takes a screenshot in PNG format.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"saveScreenshot",description:"The action to perform."},path:{type:"string",description:"File path of the PNG file, relative to `directory`. If not specified, the file name is the ID of the step.",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the exisitng screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:5,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `byVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},crop:{type:"object",description:"Crops the screenshot.",properties:{selector:{type:"string",description:"Selector of the element to crop the image to."},padding:{oneOf:[{type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}}}]}},required:["selector"],additionalProperties:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"saveScreenshot"},{action:"saveScreenshot",path:"results.png"},{action:"saveScreenshot",path:"results.png",directory:"static/images"},{action:"saveScreenshot",path:"results.png",directory:"static/images",maxVariation:10,overwrite:"byVariation"},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element"}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:10}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:{top:10,right:20,bottom:30,left:40}}}]},setVariables_v2:{title:"setVariables",type:"object",description:"Load environment variables from a `.env` file.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"setVariables",description:"Action to perform."},path:{type:"string",description:"Path to the `.env` file."}},dynamicDefaults:{id:"uuid"},required:["action","path"],additionalProperties:!1,examples:[{action:"setVariables",path:".env"}]},startRecording_v2:{title:"startRecording",type:"object",description:"Start recording the current browser viewport. Must be followed by a `stopRecording` action. Only runs when the context `app` is `chrome` and `headless` is `false`. Supported extensions: [ '.mp4', '.webm', '.gif' ]",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"startRecording",description:"The action to perform."},path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the file. Attempts to create the directory if it doesn't exist."},overwrite:{type:"boolean",description:"If `true`, overwrites the existing file at `path` if it exists.",default:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"startRecording"},{action:"startRecording",path:"results.mp4"},{action:"startRecording",path:"results.mp4",directory:"static/media",overwrite:!0}]},stopRecording_v2:{title:"stopRecording",type:"object",description:"Stop the current recording.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"stopRecording",description:"The action to perform."}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"stopRecording"}]},spec_v2:{title:"specification",type:"object",properties:{id:{type:"string",description:"Unique identifier for the test specification."},description:{type:"string",description:"Description of the test specification."},file:{type:"string",description:"Path to the file that the specification is associated with."},contexts:{type:"array",description:"Application/platform sets to run tests in. Overrides `contexts` defined at the config-level.",items:{oneOf:[{title:"context",type:"object",description:`An application and supported platforms.

If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For browsers, context priority is Firefox > Chrome > Chromium.`,properties:{app:{type:"object",description:"The application to run.",additionalProperties:!1,required:["name"],properties:{name:{type:"string",description:"Name of the application.",enum:["chrome","firefox","safari","edge"]},path:{type:"string",description:"Absolute path or command for the application. If not specified, defaults to typical install paths per platform. If specified but the path is invalid, the context is skipped."},options:{type:"object",description:"Options to pass to the app. Only works when `name` is `firefox` or `chrome`.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the window in pixels."},height:{type:"integer",description:"Height of the window in pixels."},viewport_height:{type:"integer",description:"Height of the viewport in pixels. Overrides `height`."},viewport_width:{type:"integer",description:"Width of the viewport in pixels. Overrides `width`."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode. Not supported by Safari."},driverPath:{type:"string",description:"Path to the browser driver. If not specified, defaults to internally managed dependencies."}}}}},platforms:{description:"Supported platforms for the application.",type:"array",items:{type:"string",enum:["linux","mac","windows"]}}},required:["app","platforms"],additionalProperties:!1,examples:[{app:{name:"chrome"},platforms:["linux"]},{app:{name:"chrome",options:{viewport_width:800,viewport_height:600}},platforms:["linux"]},{app:{name:"firefox",options:{width:800,height:600,headless:!1,driverPath:"/usr/bin/geckodriver"}},platforms:["linux","windows","mac"]},{app:{name:"safari"},platforms:["mac"]},{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",properties:{operationId:{type:"null",$commment:"Only allow operationId at the step level."}},required:["name","descriptionPath"]}]}},tests:{description:"[Tests](test) to perform.",type:"array",minItems:1,items:{oneOf:[{title:"test",type:"object",description:"A Doc Detective test.",properties:{id:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},file:{type:"string",description:"Path to the file that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex. Defaults to `true`."},contexts:{type:"array",description:"Application/platform sets to run the test in. Overrides `contexts` defined at the config-level and spec-level.",items:{oneOf:[{title:"context",type:"object",description:`An application and supported platforms.

If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For browsers, context priority is Firefox > Chrome > Chromium.`,properties:{app:{type:"object",description:"The application to run.",additionalProperties:!1,required:["name"],properties:{name:{type:"string",description:"Name of the application.",enum:["chrome","firefox","safari","edge"]},path:{type:"string",description:"Absolute path or command for the application. If not specified, defaults to typical install paths per platform. If specified but the path is invalid, the context is skipped."},options:{type:"object",description:"Options to pass to the app. Only works when `name` is `firefox` or `chrome`.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the window in pixels."},height:{type:"integer",description:"Height of the window in pixels."},viewport_height:{type:"integer",description:"Height of the viewport in pixels. Overrides `height`."},viewport_width:{type:"integer",description:"Width of the viewport in pixels. Overrides `width`."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode. Not supported by Safari."},driverPath:{type:"string",description:"Path to the browser driver. If not specified, defaults to internally managed dependencies."}}}}},platforms:{description:"Supported platforms for the application.",type:"array",items:{type:"string",enum:["linux","mac","windows"]}}},required:["app","platforms"],additionalProperties:!1,examples:[{app:{name:"chrome"},platforms:["linux"]},{app:{name:"chrome",options:{viewport_width:800,viewport_height:600}},platforms:["linux"]},{app:{name:"firefox",options:{width:800,height:600,headless:!1,driverPath:"/usr/bin/geckodriver"}},platforms:["linux","windows","mac"]},{app:{name:"safari"},platforms:["mac"]},{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",properties:{operationId:{type:"null",$commment:"Only allow operationId at the step level."}},required:["name","descriptionPath"]}]}},setup:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},cleanup:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Actions to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails.",type:"array",minItems:1,items:{anyOf:[{title:"checkLink",type:"object",description:"Check if a URL returns an acceptable status code from a GET request.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"checkLink",description:"Action to perform."},url:{type:"string",description:"URL to check.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200,201,202]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"checkLink",url:"https://www.google.com"},{action:"checkLink",url:"https://www.google.com",statusCodes:[200]},{action:"checkLink",url:"/search",origin:"www.google.com",statusCodes:[200]}]},{title:"goTo",type:"object",description:"Navigate to a specified URL.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"goTo",description:"Action to perform."},url:{type:"string",description:"URL to navigate to.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!",action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516756",description:"This is a test!",action:"goTo",url:"/search",origin:"https://www.google.com"}]},{title:"httpRequest",type:"object",description:"Perform a generic HTTP request, for example to an API.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"httpRequest",description:"Aciton to perform."},url:{type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",required:["operationId"]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},requestHeaders:{description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{},default:{}},responseHeaders:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{}},requestParams:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{}},responseParams:{description:"DEPRECATED.",type:"object",additionalProperties:!0,default:{},properties:{}},requestData:{description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,default:{},properties:{}},responseData:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",type:"object",additionalProperties:!0,default:{},properties:{}},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in `responseData`.",default:!0},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},envsFromResponseData:{description:"Environment variables to set based on response variables, as an object of the environment variable name and the jq filter applied to the response data to identify the variable's value.",type:"array",default:[],items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},jqFilter:{description:"jq filter to apply to the response data. If the filter doesn't return a value, the environment variable isn't set.",type:"string"}},required:["name","jqFilter"]}]}}},dynamicDefaults:{id:"uuid"},anyOf:[{required:["url"]},{required:["openApi"]}],required:["action"],additionalProperties:!1,examples:[{action:"httpRequest",url:"https://reqres.in/api/users"},{action:"httpRequest",url:"https://reqres.in/api/users/2",method:"put",requestData:{name:"morpheus",job:"zion resident"}},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"httpRequest",url:"https://www.api-server.com",method:"post",timeout:3e4,requestHeaders:{header:"value"},requestParams:{param:"value"},requestData:{field:"value"},responseHeaders:{header:"value"},responseData:{field:"value"},statusCodes:[200]},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201],savePath:"response.json",saveDirectory:"media",maxVariation:5,overwrite:"byVariation"},{action:"httpRequest",openApi:{name:"Reqres",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",requestHeaders:{Authorization:"Bearer $TOKEN"}}}]},{title:"runCode",type:"object",description:"Assemble and run code.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runCode",description:"The action to perform."},language:{type:"string",description:"Language of the code to run. If not specified, the code is run in the shell.",enum:["python","bash","javascript"]},code:{type:"string",description:"Code to run."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},properties:{stdout:{type:"string",description:"Standard output of the command.",readOnly:!0},stderr:{type:"string",description:"Standard error of the command.",readOnly:!0},exitCode:{type:"integer",description:"Exit code of the command.",readOnly:!0}}}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","code","language"],examples:[{action:"runCode",language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{action:"runCode",language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runCode",language:"javascript",code:"return false",exitCodes:[1]},{action:"runCode",language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],output:"Hello from Python!",savePath:"python-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},{title:"runShell",type:"object",description:"Perform a native shell command.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runShell",description:"The action to perform."},command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","command"],examples:[{action:"runShell",command:"echo",args:["$USER"]},{action:"runShell",command:"echo",args:["hello-world"],id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!"},{action:"runShell",command:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runShell",command:"false",exitCodes:[1]},{action:"runShell",command:"echo",args:["setup"],exitCodes:[0],output:"/.*?/",setVariables:[{name:"TEST",regex:".*"}]},{action:"runShell",command:"docker run hello-world",workingDirectory:".",exitCodes:[0],output:"Hello from Docker!",savePath:"docker-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},{title:"saveScreenshot",type:"object",description:"Takes a screenshot in PNG format.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"saveScreenshot",description:"The action to perform."},path:{type:"string",description:"File path of the PNG file, relative to `directory`. If not specified, the file name is the ID of the step.",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the exisitng screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:5,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `byVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},crop:{type:"object",description:"Crops the screenshot.",properties:{selector:{type:"string",description:"Selector of the element to crop the image to."},padding:{oneOf:[{type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}}}]}},required:["selector"],additionalProperties:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"saveScreenshot"},{action:"saveScreenshot",path:"results.png"},{action:"saveScreenshot",path:"results.png",directory:"static/images"},{action:"saveScreenshot",path:"results.png",directory:"static/images",maxVariation:10,overwrite:"byVariation"},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element"}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:10}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:{top:10,right:20,bottom:30,left:40}}}]},{title:"setVariables",type:"object",description:"Load environment variables from a `.env` file.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"setVariables",description:"Action to perform."},path:{type:"string",description:"Path to the `.env` file."}},dynamicDefaults:{id:"uuid"},required:["action","path"],additionalProperties:!1,examples:[{action:"setVariables",path:".env"}]},{title:"startRecording",type:"object",description:"Start recording the current browser viewport. Must be followed by a `stopRecording` action. Only runs when the context `app` is `chrome` and `headless` is `false`. Supported extensions: [ '.mp4', '.webm', '.gif' ]",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"startRecording",description:"The action to perform."},path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the file. Attempts to create the directory if it doesn't exist."},overwrite:{type:"boolean",description:"If `true`, overwrites the existing file at `path` if it exists.",default:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"startRecording"},{action:"startRecording",path:"results.mp4"},{action:"startRecording",path:"results.mp4",directory:"static/media",overwrite:!0}]},{title:"stopRecording",type:"object",description:"Stop the current recording.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"stopRecording",description:"The action to perform."}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"stopRecording"}]},{title:"typeKeys",type:"object",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's enum. For example, to type the Escape key, enter `$ESCAPE$`.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"typeKeys",description:"The action to perform."},keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}},dynamicDefaults:{id:"uuid"},required:["action","keys"],additionalProperties:!1,examples:[{action:"typeKeys",keys:"kittens"},{action:"typeKeys",keys:["$ENTER$"]},{action:"typeKeys",keys:["kittens","$ENTER$"],delay:500}]},{title:"find",type:"object",description:"Check if an element exists with the specified CSS selector.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"find",description:"Action to perform."},selector:{description:"Selector that uniquely identifies the element.",type:"string"},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},matchText:{type:"string",description:"Text that the element should contain. If the element doesn't contain the text, the step fails. Accepts both strings an regular expressions. To use a regular expression, the expression should start and end with a `/`. For example, `/search/`."},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view. Only runs the if the test is being recorded.",oneOf:[{type:"boolean"}],default:!1},click:{description:"Click the element.",oneOf:[{type:"boolean",default:!1},{type:"object",additionalProperties:!1,properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}}}]},typeKeys:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`typeKeys`](typeKeys). To type in the element, make the element active with the `click` parameter.",oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}}}]},setVariables:{type:"array",description:"Extract environment variables from the element's text.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the element's text.",type:"string"}},required:["name","regex"]}]},default:[]}},required:["action","selector"],dynamicDefaults:{id:"uuid"},additionalProperties:!1,examples:[{action:"find",selector:"[title=Search]"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:"shorthair cat"},{action:"find",selector:"[title=Search]",click:{button:"right"}},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"],delay:100}},{action:"find",selector:"[title=ResultsCount]",setVariables:[{name:"resultsCount",regex:".*"}]}]},{title:"wait",type:"object",description:"Pause before performing the next action.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"wait",description:"The action to perform."},duration:{type:"number",description:"Milliseconds to wait.",default:5e3}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"wait"},{action:"wait",duration:5e3}]}]}}},dynamicDefaults:{id:"uuid"},required:["steps"],additionalProperties:!1,examples:[{steps:[{action:"checkLink",url:"https://www.duckduckgo.com"}]},{steps:[{action:"goTo",url:"https://www.duckduckgo.com"},{action:"find",selector:"[title=Search]",click:!0,typeKeys:{keys:["shorthair cats","$ENTER$"]}}]},{id:"Do all the things! - Test",description:"This test includes every property across all actions.",contexts:[{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}],setup:"setup.json",cleanup:"cleanup.json",steps:[{action:"setVariables",path:".env"},{action:"runShell",command:"echo",args:["$USER"]},{action:"checkLink",url:"https://www.duckduckgo.com"},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"goTo",url:"https://www.duckduckgo.com"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"]}},{action:"typeKeys",keys:["$ENTER$"]},{action:"saveScreenshot"}]},{openApi:[{name:"Acme",descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com"}],steps:[{action:"httpRequest",openApi:{operationId:"getUserById"},requestParams:{id:123}}]}]}]}}},required:["tests"],examples:[{tests:[{steps:[{action:"checkLink",url:"https://www.duckduckgo.com"}]}]},{id:"Do all the things! - Spec",contexts:[{app:{name:"chrome",path:"/usr/bin/firefox"},platforms:["windows","mac"]}],tests:[{id:"Do all the things! - Test",description:"This test includes nearly every property across all actions.",contexts:[{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}],steps:[{action:"setVariables",path:".env"},{action:"runShell",command:"echo",args:["$USER"]},{action:"checkLink",url:"https://www.duckduckgo.com"},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"goTo",url:"https://www.duckduckgo.com"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"]}},{action:"typeKeys",keys:["$ENTER$"]},{action:"saveScreenshot"}]}]},{id:"Make a request from an OpenAPI definition",openApi:[{name:"Acme",descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com"}],tests:[{steps:[{action:"httpRequest",openApi:{operationId:"getUserById"},requestParams:{id:123}}]}]}]},test_v2:{title:"test",type:"object",description:"A Doc Detective test.",properties:{id:{type:"string",description:"Unique identifier for the test."},description:{type:"string",description:"Description of the test."},file:{type:"string",description:"Path to the file that the test is associated with."},detectSteps:{type:"boolean",description:"Whether or not to detect steps in input files based on markup regex. Defaults to `true`."},contexts:{type:"array",description:"Application/platform sets to run the test in. Overrides `contexts` defined at the config-level and spec-level.",items:{oneOf:[{title:"context",type:"object",description:`An application and supported platforms.

If no contexts are specified but a context is required by one or more tests, Doc Detective attempts to identify a supported context in the current environment and run tests against it. For browsers, context priority is Firefox > Chrome > Chromium.`,properties:{app:{type:"object",description:"The application to run.",additionalProperties:!1,required:["name"],properties:{name:{type:"string",description:"Name of the application.",enum:["chrome","firefox","safari","edge"]},path:{type:"string",description:"Absolute path or command for the application. If not specified, defaults to typical install paths per platform. If specified but the path is invalid, the context is skipped."},options:{type:"object",description:"Options to pass to the app. Only works when `name` is `firefox` or `chrome`.",additionalProperties:!1,properties:{width:{type:"integer",description:"Width of the window in pixels."},height:{type:"integer",description:"Height of the window in pixels."},viewport_height:{type:"integer",description:"Height of the viewport in pixels. Overrides `height`."},viewport_width:{type:"integer",description:"Width of the viewport in pixels. Overrides `width`."},headless:{type:"boolean",description:"If `true`, runs the browser in headless mode. Not supported by Safari."},driverPath:{type:"string",description:"Path to the browser driver. If not specified, defaults to internally managed dependencies."}}}}},platforms:{description:"Supported platforms for the application.",type:"array",items:{type:"string",enum:["linux","mac","windows"]}}},required:["app","platforms"],additionalProperties:!1,examples:[{app:{name:"chrome"},platforms:["linux"]},{app:{name:"chrome",options:{viewport_width:800,viewport_height:600}},platforms:["linux"]},{app:{name:"firefox",options:{width:800,height:600,headless:!1,driverPath:"/usr/bin/geckodriver"}},platforms:["linux","windows","mac"]},{app:{name:"safari"},platforms:["mac"]},{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}]}]}},openApi:{type:"array",items:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",properties:{operationId:{type:"null",$commment:"Only allow operationId at the step level."}},required:["name","descriptionPath"]}]}},setup:{type:"string",description:"Path to a test specification to perform before this test, while maintaining this test's context. Useful for setting up testing environments. Only the `steps` property is used from the first test in the setup spec."},cleanup:{type:"string",description:"Path to a test specification to perform after this test, while maintaining this test's context. Useful for cleaning up testing environments. Only the `steps` property is used from the first test in the cleanup spec."},steps:{description:"Actions to perform as part of the test. Performed in the sequence defined. If one or more actions fail, the test fails.",type:"array",minItems:1,items:{anyOf:[{title:"checkLink",type:"object",description:"Check if a URL returns an acceptable status code from a GET request.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"checkLink",description:"Action to perform."},url:{type:"string",description:"URL to check.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200,201,202]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"checkLink",url:"https://www.google.com"},{action:"checkLink",url:"https://www.google.com",statusCodes:[200]},{action:"checkLink",url:"/search",origin:"www.google.com",statusCodes:[200]}]},{title:"goTo",type:"object",description:"Navigate to a specified URL.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"goTo",description:"Action to perform."},url:{type:"string",description:"URL to navigate to.",pattern:"(^(http://|https://|/).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},origin:{type:"string",description:"Protocol and domain to navigate to. Prepended to `url`.",transform:["trim"]}},dynamicDefaults:{id:"uuid"},required:["action","url"],additionalProperties:!1,examples:[{action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!",action:"goTo",url:"https://www.google.com"},{id:"ddec5e20-2e81-4f38-867c-92c8d9516756",description:"This is a test!",action:"goTo",url:"/search",origin:"https://www.google.com"}]},{title:"httpRequest",type:"object",description:"Perform a generic HTTP request, for example to an API.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"httpRequest",description:"Aciton to perform."},url:{type:"string",description:"URL for the HTTP request.",pattern:"(^(http://|https://).*|\\$[A-Za-z0-9_]+)",transform:["trim"]},openApi:{allOf:[{version:"1.0.0",$schema:"http://json-schema.org/draft-07/schema#",title:"openApi",type:"object",description:"OpenAPI definition and configuration.",additionalProperties:!1,properties:{name:{type:"string",description:"Name of the OpenAPI definition, as defined in your configuration."},descriptionPath:{type:"string",description:"URL or local path to the OpenAPI definition."},operationId:{type:"string",description:"ID of the operation to use for the request."},server:{type:"string",description:"Server to use for example requests. Only valid if `useExample` is `request` or `both`. If not specified but an example is used for the request, uses the first server defined in the OpenAPI definition."},validateAgainstSchema:{type:"string",description:"Validates the request and/or response against the schema in the OpenAPI definition. If the request or response doesn't match the schema, the step fails.",enum:["request","response","both","none"],default:"both"},mockResponse:{type:"boolean",description:"If `true`, doesn't make the HTTP request, but instead uses the response example or schema from the OpenAPI definition as the response data. Useful for creating tests when an API isn't fully implemented yet. If `statusCode` isn't specified, uses the first defined response code."},statusCode:{type:"integer",description:"Response code to use for validation, examples, and status code checking. If the response code doesn't match, the step fails. `statusCodes` overrides this value when specified."},useExample:{type:["string"],description:"Uses the example from the OpenAPI definition as the request and response data. If the request or response has multiple examples, specify `exampleKey`. If `statusCode` isn't specified, uses the first defined response code. `requestData`, `requestParams`, and `requestHeaders` override portions of request examples when specified. `responseData` overrides portions of response examples when specified.",enum:["request","response","both","none"],default:"none"},exampleKey:{type:"string",description:"Key of the example to use from the `examples` property in the OpenAPI definition. If an `examples` key isn't specified or isn't available for a given parameter or object, the `example` property value is used.",default:""},requestHeaders:{type:"object",description:"Request headers to add to the request. If specified in both a config and a step, the step value overrides the config value.",additionalProperties:{type:"string"}}},examples:[{descriptionPath:"https://petstore.swagger.io/v2/swagger.json"}]},{type:"object",required:["operationId"]}]},statusCodes:{description:"Accepted status codes. If the specified URL returns a code other than what is specified here, the action fails.",type:"array",items:{oneOf:[{type:"integer"}]},default:[200]},method:{type:"string",description:"Method of the HTTP request",enum:["get","put","post","patch","delete"],transform:["trim","toEnumCase"],default:"get"},timeout:{type:"integer",description:"Timeout for the HTTP request, in milliseconds.",default:6e4},requestHeaders:{description:"Headers to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,properties:{},default:{}},responseHeaders:{description:"Headers expected in the response, in key/value format. If one or more `responseHeaders` entries aren't present in the response, the step fails.",type:"object",additionalProperties:!0,properties:{},default:{}},requestParams:{description:"URL parameters to include in the HTTP request, in key/value format.",type:"object",additionalProperties:!0,default:{},properties:{}},responseParams:{description:"DEPRECATED.",type:"object",additionalProperties:!0,default:{},properties:{}},requestData:{description:"JSON object to include as the body of the HTTP request.",type:"object",additionalProperties:!0,default:{},properties:{}},responseData:{description:"JSON object expected in the response. If one or more key/value pairs aren't present in the response, the step fails.",type:"object",additionalProperties:!0,default:{},properties:{}},allowAdditionalFields:{type:"boolean",description:"If `false`, the step fails when the response data contains fields not specified in `responseData`.",default:!0},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`. Specify a file extension that matches the expected response type, such as `.json` for JSON content or `.txt` for strings."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},envsFromResponseData:{description:"Environment variables to set based on response variables, as an object of the environment variable name and the jq filter applied to the response data to identify the variable's value.",type:"array",default:[],items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},jqFilter:{description:"jq filter to apply to the response data. If the filter doesn't return a value, the environment variable isn't set.",type:"string"}},required:["name","jqFilter"]}]}}},dynamicDefaults:{id:"uuid"},anyOf:[{required:["url"]},{required:["openApi"]}],required:["action"],additionalProperties:!1,examples:[{action:"httpRequest",url:"https://reqres.in/api/users"},{action:"httpRequest",url:"https://reqres.in/api/users/2",method:"put",requestData:{name:"morpheus",job:"zion resident"}},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"httpRequest",url:"https://www.api-server.com",method:"post",timeout:3e4,requestHeaders:{header:"value"},requestParams:{param:"value"},requestData:{field:"value"},responseHeaders:{header:"value"},responseData:{field:"value"},statusCodes:[200]},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201],savePath:"response.json",saveDirectory:"media",maxVariation:5,overwrite:"byVariation"},{action:"httpRequest",openApi:{name:"Reqres",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"getUserById"},requestParams:{id:123}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"createUser",useExample:"both"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme"}},{action:"httpRequest",openApi:{descriptionPath:"https://api.example.com/openapi.json",operationId:"updateUser",useExample:"request",exampleKey:"acme",requestHeaders:{Authorization:"Bearer $TOKEN"}}}]},{title:"runCode",type:"object",description:"Assemble and run code.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runCode",description:"The action to perform."},language:{type:"string",description:"Language of the code to run. If not specified, the code is run in the shell.",enum:["python","bash","javascript"]},code:{type:"string",description:"Code to run."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]},outputs:{type:"object",description:"Outputs from step processes and user-defined expressions. Use the `outputs` object to reference outputs in subsequent steps. If a user-defined output matches the key for a step-defined output, the user-defined output takes precedence.",patternProperties:{"^[A-Za-z0-9_]+$":{type:"string",description:"Runtime expression for a user-defined output value."}},properties:{stdout:{type:"string",description:"Standard output of the command.",readOnly:!0},stderr:{type:"string",description:"Standard error of the command.",readOnly:!0},exitCode:{type:"integer",description:"Exit code of the command.",readOnly:!0}}}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","code","language"],examples:[{action:"runCode",language:"javascript",code:"console.log('Hello, ${process.env.USER}!');"},{action:"runCode",language:"bash",code:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runCode",language:"javascript",code:"return false",exitCodes:[1]},{action:"runCode",language:"python",code:"print('Hello from Python')",workingDirectory:".",exitCodes:[0],output:"Hello from Python!",savePath:"python-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},{title:"runShell",type:"object",description:"Perform a native shell command.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"runShell",description:"The action to perform."},command:{type:"string",description:"Command to perform in the machine's default shell."},args:{type:"array",description:"Arguments for the command.",items:{oneOf:[{type:"string"}]},default:[]},workingDirectory:{type:"string",description:"Working directory for the command.",default:"."},exitCodes:{type:"array",description:"Expected exit codes of the command. If the command's actual exit code isn't in this list, the step fails.",items:{oneOf:[{type:"integer"}]},default:[0]},output:{type:"string",description:"Content expected in the command's output. If the expected content can't be found in the command's output (either stdout or stderr), the step fails. Supports strings and regular expressions. To use a regular expression, the string must start and end with a forward slash, like in `/^hello-world.*/`."},savePath:{type:"string",description:"File path to save the command's output, relative to `saveDirectory`."},saveDirectory:{type:"string",description:"Directory to save the command's output. If the directory doesn't exist, creates the directory. If not specified, the directory is your media directory."},maxVariation:{type:"integer",description:"Allowed variation in percentage of text different between the current output and previously saved output. If the difference between the current output and the previous output is greater than `maxVariation`, the step fails. If output doesn't exist at `savePath`, this value is ignored.",default:0,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing output at `savePath` if it exists.\nIf `byVariation`, overwrites the existing output at `savePath` if the difference between the new output and the existing output is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},timeout:{type:"integer",description:"Max time in milliseconds the command is allowed to run. If the command runs longer than this, the step fails.",default:6e4},setVariables:{type:"array",description:"Extract environment variables from the command's output.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the command's output.",type:"string"}},required:["name","regex"]}]},default:[]}},dynamicDefaults:{id:"uuid"},additionalProperties:!1,required:["action","command"],examples:[{action:"runShell",command:"echo",args:["$USER"]},{action:"runShell",command:"echo",args:["hello-world"],id:"ddec5e20-2e81-4f38-867c-92c8d9516755",description:"This is a test!"},{action:"runShell",command:"docker run hello-world",timeout:2e4,exitCodes:[0],output:"Hello from Docker!"},{action:"runShell",command:"false",exitCodes:[1]},{action:"runShell",command:"echo",args:["setup"],exitCodes:[0],output:"/.*?/",setVariables:[{name:"TEST",regex:".*"}]},{action:"runShell",command:"docker run hello-world",workingDirectory:".",exitCodes:[0],output:"Hello from Docker!",savePath:"docker-output.txt",saveDirectory:"output",maxVariation:10,overwrite:"byVariation"}]},{title:"saveScreenshot",type:"object",description:"Takes a screenshot in PNG format.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"saveScreenshot",description:"The action to perform."},path:{type:"string",description:"File path of the PNG file, relative to `directory`. If not specified, the file name is the ID of the step.",pattern:"([A-Za-z0-9_-]*\\.(png|PNG)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the PNG file. If the directory doesn't exist, creates the directory."},maxVariation:{type:"number",description:"Allowed variation in percentage of pixels between the new screenshot and the exisitng screenshot at `path`. If the difference between the new screenshot and the existing screenshot is greater than `maxVariation`, the step fails. If a screenshot doesn't exist at `path`, this value is ignored.",default:5,minimum:0,maximum:100},overwrite:{type:"string",description:"If `true`, overwrites the existing screenshot at `path` if it exists.\nIf `byVariation`, overwrites the existing screenshot at `path` if the difference between the new screenshot and the existing screenshot is greater than `maxVariation`.",enum:["true","false","byVariation"],default:"false"},crop:{type:"object",description:"Crops the screenshot.",properties:{selector:{type:"string",description:"Selector of the element to crop the image to."},padding:{oneOf:[{type:"number",description:"Padding in pixels to add to the bounds of the element.",minimum:0},{type:"object",properties:{top:{type:"number",minimum:0},right:{type:"number",minimum:0},bottom:{type:"number",minimum:0},left:{type:"number",minimum:0}}}]}},required:["selector"],additionalProperties:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"saveScreenshot"},{action:"saveScreenshot",path:"results.png"},{action:"saveScreenshot",path:"results.png",directory:"static/images"},{action:"saveScreenshot",path:"results.png",directory:"static/images",maxVariation:10,overwrite:"byVariation"},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element"}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:10}},{action:"saveScreenshot",path:"results.png",directory:"static/images",crop:{selector:"#element",padding:{top:10,right:20,bottom:30,left:40}}}]},{title:"setVariables",type:"object",description:"Load environment variables from a `.env` file.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"setVariables",description:"Action to perform."},path:{type:"string",description:"Path to the `.env` file."}},dynamicDefaults:{id:"uuid"},required:["action","path"],additionalProperties:!1,examples:[{action:"setVariables",path:".env"}]},{title:"startRecording",type:"object",description:"Start recording the current browser viewport. Must be followed by a `stopRecording` action. Only runs when the context `app` is `chrome` and `headless` is `false`. Supported extensions: [ '.mp4', '.webm', '.gif' ]",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"startRecording",description:"The action to perform."},path:{type:"string",description:"File path of the recording. Supports the `.mp4`, `.webm`, and `.gif` extensions. If not specified, the file name is the ID of the step, and the extension is `.mp4`.",pattern:"([A-Za-z0-9_-]*\\.(mp4|webm|gif)$|\\$[A-Za-z0-9_]+)"},directory:{type:"string",description:"Directory of the file. Attempts to create the directory if it doesn't exist."},overwrite:{type:"boolean",description:"If `true`, overwrites the existing file at `path` if it exists.",default:!1}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"startRecording"},{action:"startRecording",path:"results.mp4"},{action:"startRecording",path:"results.mp4",directory:"static/media",overwrite:!0}]},{title:"stopRecording",type:"object",description:"Stop the current recording.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"stopRecording",description:"The action to perform."}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"stopRecording"}]},{title:"typeKeys",type:"object",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's enum. For example, to type the Escape key, enter `$ESCAPE$`.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"typeKeys",description:"The action to perform."},keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}},dynamicDefaults:{id:"uuid"},required:["action","keys"],additionalProperties:!1,examples:[{action:"typeKeys",keys:"kittens"},{action:"typeKeys",keys:["$ENTER$"]},{action:"typeKeys",keys:["kittens","$ENTER$"],delay:500}]},{title:"find",type:"object",description:"Check if an element exists with the specified CSS selector.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"find",description:"Action to perform."},selector:{description:"Selector that uniquely identifies the element.",type:"string"},timeout:{type:"integer",description:"Max duration in milliseconds to wait for the element to exist.",default:5e3},matchText:{type:"string",description:"Text that the element should contain. If the element doesn't contain the text, the step fails. Accepts both strings an regular expressions. To use a regular expression, the expression should start and end with a `/`. For example, `/search/`."},moveTo:{description:"Move to the element. If the element isn't visible, it's scrolled into view. Only runs the if the test is being recorded.",oneOf:[{type:"boolean"}],default:!1},click:{description:"Click the element.",oneOf:[{type:"boolean",default:!1},{type:"object",additionalProperties:!1,properties:{button:{description:"Kind of click to perform.",type:"string",enum:["left","right","middle"]}}}]},typeKeys:{description:"Type keys after finding the element. Either a string or an object with a `keys` field as defined in [`typeKeys`](typeKeys). To type in the element, make the element active with the `click` parameter.",oneOf:[{type:"string"},{type:"object",additionalProperties:!1,properties:{keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}}}]},setVariables:{type:"array",description:"Extract environment variables from the element's text.",items:{oneOf:[{description:"",type:"object",properties:{name:{description:"Name of the environment variable to set.",type:"string"},regex:{description:"Regex to extract the environment variable from the element's text.",type:"string"}},required:["name","regex"]}]},default:[]}},required:["action","selector"],dynamicDefaults:{id:"uuid"},additionalProperties:!1,examples:[{action:"find",selector:"[title=Search]"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:"shorthair cat"},{action:"find",selector:"[title=Search]",click:{button:"right"}},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"],delay:100}},{action:"find",selector:"[title=ResultsCount]",setVariables:[{name:"resultsCount",regex:".*"}]}]},{title:"wait",type:"object",description:"Pause before performing the next action.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"wait",description:"The action to perform."},duration:{type:"number",description:"Milliseconds to wait.",default:5e3}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"wait"},{action:"wait",duration:5e3}]}]}}},dynamicDefaults:{id:"uuid"},required:["steps"],additionalProperties:!1,examples:[{steps:[{action:"checkLink",url:"https://www.duckduckgo.com"}]},{steps:[{action:"goTo",url:"https://www.duckduckgo.com"},{action:"find",selector:"[title=Search]",click:!0,typeKeys:{keys:["shorthair cats","$ENTER$"]}}]},{id:"Do all the things! - Test",description:"This test includes every property across all actions.",contexts:[{app:{name:"firefox",path:"/usr/bin/firefox"},platforms:["linux"]}],setup:"setup.json",cleanup:"cleanup.json",steps:[{action:"setVariables",path:".env"},{action:"runShell",command:"echo",args:["$USER"]},{action:"checkLink",url:"https://www.duckduckgo.com"},{action:"httpRequest",url:"https://reqres.in/api/users",method:"post",requestData:{name:"morpheus",job:"leader"},responseData:{name:"morpheus",job:"leader"},statusCodes:[200,201]},{action:"goTo",url:"https://www.duckduckgo.com"},{action:"find",selector:"[title=Search]",timeout:1e4,matchText:"Search",moveTo:!0,click:!0,typeKeys:{keys:["shorthair cat"]}},{action:"typeKeys",keys:["$ENTER$"]},{action:"saveScreenshot"}]},{openApi:[{name:"Acme",descriptionPath:"https://www.acme.com/openapi.json",server:"https://api.acme.com"}],steps:[{action:"httpRequest",openApi:{operationId:"getUserById"},requestParams:{id:123}}]}]},typeKeys_v2:{title:"typeKeys",type:"object",description:"Type keys. To type special keys, begin and end the string with `$` and use the special key's enum. For example, to type the Escape key, enter `$ESCAPE$`.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"typeKeys",description:"The action to perform."},keys:{description:"String of keys to enter.",anyOf:[{type:"string"},{type:"array",items:{oneOf:[{type:"string"}]}}]},delay:{type:"number",description:"Delay in milliseconds between each key press. Only valid during a recording.",default:100}},dynamicDefaults:{id:"uuid"},required:["action","keys"],additionalProperties:!1,examples:[{action:"typeKeys",keys:"kittens"},{action:"typeKeys",keys:["$ENTER$"]},{action:"typeKeys",keys:["kittens","$ENTER$"],delay:500}]},wait_v2:{title:"wait",type:"object",description:"Pause before performing the next action.",properties:{id:{type:"string",description:"ID of the step."},description:{type:"string",description:"Description of the step."},action:{type:"string",const:"wait",description:"The action to perform."},duration:{type:"number",description:"Milliseconds to wait.",default:5e3}},dynamicDefaults:{id:"uuid"},required:["action"],additionalProperties:!1,examples:[{action:"wait"},{action:"wait",duration:5e3}]}}});var ba=g(Iu=>{var Nk=wu();Iu.schemas=Nk});var vi=g(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.regexpCode=K.getEsmExportName=K.getProperty=K.safeStringify=K.stringify=K.strConcat=K.addCodeArg=K.str=K._=K.nil=K._Code=K.Name=K.IDENTIFIER=K._CodeOrName=void 0;var ms=class{};K._CodeOrName=ms;K.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Mt=class extends ms{constructor(e){if(super(),!K.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};K.Name=Mt;var Ve=class extends ms{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((i,s)=>`${i}${s}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((i,s)=>(s instanceof Mt&&(i[s.str]=(i[s.str]||0)+1),i),{})}};K._Code=Ve;K.nil=new Ve("");function ku(t,...e){let i=[t[0]],s=0;for(;s<e.length;)va(i,e[s]),i.push(t[++s]);return new Ve(i)}K._=ku;var xa=new Ve("+");function qu(t,...e){let i=[hs(t[0])],s=0;for(;s<e.length;)i.push(xa),va(i,e[s]),i.push(xa,hs(t[++s]));return Vk(i),new Ve(i)}K.str=qu;function va(t,e){e instanceof Ve?t.push(...e._items):e instanceof Mt?t.push(e):t.push(Hk(e))}K.addCodeArg=va;function Vk(t){let e=1;for(;e<t.length-1;){if(t[e]===xa){let i=zk(t[e-1],t[e+1]);if(i!==void 0){t.splice(e-1,3,i);continue}t[e++]="+"}e++}}function zk(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Mt||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Mt))return`"${t}${e.slice(1)}`}function Lk(t,e){return e.emptyStr()?t:t.emptyStr()?e:qu`${t}${e}`}K.strConcat=Lk;function Hk(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:hs(Array.isArray(t)?t.join(","):t)}function Bk(t){return new Ve(hs(t))}K.stringify=Bk;function hs(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}K.safeStringify=hs;function Wk(t){return typeof t=="string"&&K.IDENTIFIER.test(t)?new Ve(`.${t}`):ku`[${t}]`}K.getProperty=Wk;function Fk(t){if(typeof t=="string"&&K.IDENTIFIER.test(t))return new Ve(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}K.getEsmExportName=Fk;function Zk(t){return new Ve(t.toString())}K.regexpCode=Zk});var ka=g(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ValueScope=Pe.ValueScopeName=Pe.Scope=Pe.varKinds=Pe.UsedValueState=void 0;var je=vi(),wa=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},tn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(tn||(Pe.UsedValueState=tn={}));Pe.varKinds={const:new je.Name("const"),let:new je.Name("let"),var:new je.Name("var")};var sn=class{constructor({prefixes:e,parent:i}={}){this._names={},this._prefixes=e,this._parent=i}toName(e){return e instanceof je.Name?e:this.name(e)}name(e){return new je.Name(this._newName(e))}_newName(e){let i=this._names[e]||this._nameGroup(e);return`${e}${i.index++}`}_nameGroup(e){var i,s;if(!((s=(i=this._parent)===null||i===void 0?void 0:i._prefixes)===null||s===void 0)&&s.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Pe.Scope=sn;var rn=class extends je.Name{constructor(e,i){super(i),this.prefix=e}setValue(e,{property:i,itemIndex:s}){this.value=e,this.scopePath=(0,je._)`.${new je.Name(i)}[${s}]`}};Pe.ValueScopeName=rn;var Kk=(0,je._)`\n`,Ia=class extends sn{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?Kk:je.nil}}get(){return this._scope}name(e){return new rn(e,this._newName(e))}value(e,i){var s;if(i.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(e),{prefix:n}=r,o=(s=i.key)!==null&&s!==void 0?s:i.ref,a=this._values[n];if(a){let d=a.get(o);if(d)return d}else a=this._values[n]=new Map;a.set(o,r);let p=this._scope[n]||(this._scope[n]=[]),c=p.length;return p[c]=i.ref,r.setValue(i,{property:n,itemIndex:c}),r}getValue(e,i){let s=this._values[e];if(s)return s.get(i)}scopeRefs(e,i=this._values){return this._reduceValues(i,s=>{if(s.scopePath===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return(0,je._)`${e}${s.scopePath}`})}scopeCode(e=this._values,i,s){return this._reduceValues(e,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},i,s)}_reduceValues(e,i,s={},r){let n=je.nil;for(let o in e){let a=e[o];if(!a)continue;let p=s[o]=s[o]||new Map;a.forEach(c=>{if(p.has(c))return;p.set(c,tn.Started);let d=i(c);if(d){let l=this.opts.es5?Pe.varKinds.var:Pe.varKinds.const;n=(0,je._)`${n}${l} ${c} = ${d};${this.opts._n}`}else if(d=r?.(c))n=(0,je._)`${n}${d}${this.opts._n}`;else throw new wa(c);p.set(c,tn.Completed)})}return n}};Pe.ValueScope=Ia});var R=g(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.or=V.and=V.not=V.CodeGen=V.operators=V.varKinds=V.ValueScopeName=V.ValueScope=V.Scope=V.Name=V.regexpCode=V.stringify=V.getProperty=V.nil=V.strConcat=V.str=V._=void 0;var B=vi(),Ke=ka(),kt=vi();Object.defineProperty(V,"_",{enumerable:!0,get:function(){return kt._}});Object.defineProperty(V,"str",{enumerable:!0,get:function(){return kt.str}});Object.defineProperty(V,"strConcat",{enumerable:!0,get:function(){return kt.strConcat}});Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return kt.nil}});Object.defineProperty(V,"getProperty",{enumerable:!0,get:function(){return kt.getProperty}});Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return kt.stringify}});Object.defineProperty(V,"regexpCode",{enumerable:!0,get:function(){return kt.regexpCode}});Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return kt.Name}});var pn=ka();Object.defineProperty(V,"Scope",{enumerable:!0,get:function(){return pn.Scope}});Object.defineProperty(V,"ValueScope",{enumerable:!0,get:function(){return pn.ValueScope}});Object.defineProperty(V,"ValueScopeName",{enumerable:!0,get:function(){return pn.ValueScopeName}});Object.defineProperty(V,"varKinds",{enumerable:!0,get:function(){return pn.varKinds}});V.operators={GT:new B._Code(">"),GTE:new B._Code(">="),LT:new B._Code("<"),LTE:new B._Code("<="),EQ:new B._Code("==="),NEQ:new B._Code("!=="),NOT:new B._Code("!"),OR:new B._Code("||"),AND:new B._Code("&&"),ADD:new B._Code("+")};var ft=class{optimizeNodes(){return this}optimizeNames(e,i){return this}},qa=class extends ft{constructor(e,i,s){super(),this.varKind=e,this.name=i,this.rhs=s}render({es5:e,_n:i}){let s=e?Ke.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${s} ${this.name}${r};`+i}optimizeNames(e,i){if(e[this.name.str])return this.rhs&&(this.rhs=Ii(this.rhs,e,i)),this}get names(){return this.rhs instanceof B._CodeOrName?this.rhs.names:{}}},nn=class extends ft{constructor(e,i,s){super(),this.lhs=e,this.rhs=i,this.sideEffects=s}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,i){if(!(this.lhs instanceof B.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ii(this.rhs,e,i),this}get names(){let e=this.lhs instanceof B.Name?{}:{...this.lhs.names};return an(e,this.rhs)}},Aa=class extends nn{constructor(e,i,s,r){super(e,s,r),this.op=i}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Oa=class extends ft{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},ja=class extends ft{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Pa=class extends ft{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Sa=class extends ft{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,i){return this.code=Ii(this.code,e,i),this}get names(){return this.code instanceof B._CodeOrName?this.code.names:{}}},fs=class extends ft{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((i,s)=>i+s.render(e),"")}optimizeNodes(){let{nodes:e}=this,i=e.length;for(;i--;){let s=e[i].optimizeNodes();Array.isArray(s)?e.splice(i,1,...s):s?e[i]=s:e.splice(i,1)}return e.length>0?this:void 0}optimizeNames(e,i){let{nodes:s}=this,r=s.length;for(;r--;){let n=s[r];n.optimizeNames(e,i)||(Mk(e,n.names),s.splice(r,1))}return s.length>0?this:void 0}get names(){return this.nodes.reduce((e,i)=>Yt(e,i.names),{})}},yt=class extends fs{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ta=class extends fs{},wi=class extends yt{};wi.kind="else";var Jt=class t extends yt{constructor(e,i){super(i),this.condition=e}render(e){let i=`if(${this.condition})`+super.render(e);return this.else&&(i+="else "+this.else.render(e)),i}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let i=this.else;if(i){let s=i.optimizeNodes();i=this.else=Array.isArray(s)?new wi(s):s}if(i)return e===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Au(e),i instanceof t?[i]:i.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,i){var s;if(this.else=(s=this.else)===null||s===void 0?void 0:s.optimizeNames(e,i),!!(super.optimizeNames(e,i)||this.else))return this.condition=Ii(this.condition,e,i),this}get names(){let e=super.names;return an(e,this.condition),this.else&&Yt(e,this.else.names),e}};Jt.kind="if";var Gt=class extends yt{};Gt.kind="for";var Ca=class extends Gt{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,i){if(super.optimizeNames(e,i))return this.iteration=Ii(this.iteration,e,i),this}get names(){return Yt(super.names,this.iteration.names)}},Da=class extends Gt{constructor(e,i,s,r){super(),this.varKind=e,this.name=i,this.from=s,this.to=r}render(e){let i=e.es5?Ke.varKinds.var:this.varKind,{name:s,from:r,to:n}=this;return`for(${i} ${s}=${r}; ${s}<${n}; ${s}++)`+super.render(e)}get names(){let e=an(super.names,this.from);return an(e,this.to)}},on=class extends Gt{constructor(e,i,s,r){super(),this.loop=e,this.varKind=i,this.name=s,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,i){if(super.optimizeNames(e,i))return this.iterable=Ii(this.iterable,e,i),this}get names(){return Yt(super.names,this.iterable.names)}},ys=class extends yt{constructor(e,i,s){super(),this.name=e,this.args=i,this.async=s}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};ys.kind="func";var gs=class extends fs{render(e){return"return "+super.render(e)}};gs.kind="return";var Ra=class extends yt{render(e){let i="try"+super.render(e);return this.catch&&(i+=this.catch.render(e)),this.finally&&(i+=this.finally.render(e)),i}optimizeNodes(){var e,i;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(i=this.finally)===null||i===void 0||i.optimizeNodes(),this}optimizeNames(e,i){var s,r;return super.optimizeNames(e,i),(s=this.catch)===null||s===void 0||s.optimizeNames(e,i),(r=this.finally)===null||r===void 0||r.optimizeNames(e,i),this}get names(){let e=super.names;return this.catch&&Yt(e,this.catch.names),this.finally&&Yt(e,this.finally.names),e}},bs=class extends yt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};bs.kind="catch";var xs=class extends yt{render(e){return"finally"+super.render(e)}};xs.kind="finally";var Ea=class{constructor(e,i={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...i,_n:i.lines?`
`:""},this._extScope=e,this._scope=new Ke.Scope({parent:e}),this._nodes=[new Ta]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,i){let s=this._extScope.value(e,i);return(this._values[s.prefix]||(this._values[s.prefix]=new Set)).add(s),s}getScopeValue(e,i){return this._extScope.getValue(e,i)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,i,s,r){let n=this._scope.toName(i);return s!==void 0&&r&&(this._constants[n.str]=s),this._leafNode(new qa(e,n,s)),n}const(e,i,s){return this._def(Ke.varKinds.const,e,i,s)}let(e,i,s){return this._def(Ke.varKinds.let,e,i,s)}var(e,i,s){return this._def(Ke.varKinds.var,e,i,s)}assign(e,i,s){return this._leafNode(new nn(e,i,s))}add(e,i){return this._leafNode(new Aa(e,V.operators.ADD,i))}code(e){return typeof e=="function"?e():e!==B.nil&&this._leafNode(new Sa(e)),this}object(...e){let i=["{"];for(let[s,r]of e)i.length>1&&i.push(","),i.push(s),(s!==r||this.opts.es5)&&(i.push(":"),(0,B.addCodeArg)(i,r));return i.push("}"),new B._Code(i)}if(e,i,s){if(this._blockNode(new Jt(e)),i&&s)this.code(i).else().code(s).endIf();else if(i)this.code(i).endIf();else if(s)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Jt(e))}else(){return this._elseNode(new wi)}endIf(){return this._endBlockNode(Jt,wi)}_for(e,i){return this._blockNode(e),i&&this.code(i).endFor(),this}for(e,i){return this._for(new Ca(e),i)}forRange(e,i,s,r,n=this.opts.es5?Ke.varKinds.var:Ke.varKinds.let){let o=this._scope.toName(e);return this._for(new Da(n,o,i,s),()=>r(o))}forOf(e,i,s,r=Ke.varKinds.const){let n=this._scope.toName(e);if(this.opts.es5){let o=i instanceof B.Name?i:this.var("_arr",i);return this.forRange("_i",0,(0,B._)`${o}.length`,a=>{this.var(n,(0,B._)`${o}[${a}]`),s(n)})}return this._for(new on("of",r,n,i),()=>s(n))}forIn(e,i,s,r=this.opts.es5?Ke.varKinds.var:Ke.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,B._)`Object.keys(${i})`,s);let n=this._scope.toName(e);return this._for(new on("in",r,n,i),()=>s(n))}endFor(){return this._endBlockNode(Gt)}label(e){return this._leafNode(new Oa(e))}break(e){return this._leafNode(new ja(e))}return(e){let i=new gs;if(this._blockNode(i),this.code(e),i.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(gs)}try(e,i,s){if(!i&&!s)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new Ra;if(this._blockNode(r),this.code(e),i){let n=this.name("e");this._currNode=r.catch=new bs(n),i(n)}return s&&(this._currNode=r.finally=new xs,this.code(s)),this._endBlockNode(bs,xs)}throw(e){return this._leafNode(new Pa(e))}block(e,i){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(i),this}endBlock(e){let i=this._blockStarts.pop();if(i===void 0)throw new Error("CodeGen: not in self-balancing block");let s=this._nodes.length-i;if(s<0||e!==void 0&&s!==e)throw new Error(`CodeGen: wrong number of nodes: ${s} vs ${e} expected`);return this._nodes.length=i,this}func(e,i=B.nil,s,r){return this._blockNode(new ys(e,i,s)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(ys)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,i){let s=this._currNode;if(s instanceof e||i&&s instanceof i)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${i?`${e.kind}/${i.kind}`:e.kind}"`)}_elseNode(e){let i=this._currNode;if(!(i instanceof Jt))throw new Error('CodeGen: "else" without "if"');return this._currNode=i.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let i=this._nodes;i[i.length-1]=e}};V.CodeGen=Ea;function Yt(t,e){for(let i in e)t[i]=(t[i]||0)+(e[i]||0);return t}function an(t,e){return e instanceof B._CodeOrName?Yt(t,e.names):t}function Ii(t,e,i){if(t instanceof B.Name)return s(t);if(!r(t))return t;return new B._Code(t._items.reduce((n,o)=>(o instanceof B.Name&&(o=s(o)),o instanceof B._Code?n.push(...o._items):n.push(o),n),[]));function s(n){let o=i[n.str];return o===void 0||e[n.str]!==1?n:(delete e[n.str],o)}function r(n){return n instanceof B._Code&&n._items.some(o=>o instanceof B.Name&&e[o.str]===1&&i[o.str]!==void 0)}}function Mk(t,e){for(let i in e)t[i]=(t[i]||0)-(e[i]||0)}function Au(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,B._)`!${$a(t)}`}V.not=Au;var Jk=Ou(V.operators.AND);function Gk(...t){return t.reduce(Jk)}V.and=Gk;var Yk=Ou(V.operators.OR);function Qk(...t){return t.reduce(Yk)}V.or=Qk;function Ou(t){return(e,i)=>e===B.nil?i:i===B.nil?e:(0,B._)`${$a(e)} ${t} ${$a(i)}`}function $a(t){return t instanceof B.Name?t:(0,B._)`(${t})`}});var M=g(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;var X=R(),Xk=vi();function e0(t){let e={};for(let i of t)e[i]=!0;return e}z.toHash=e0;function t0(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Su(t,e),!Tu(e,t.self.RULES.all))}z.alwaysValidSchema=t0;function Su(t,e=t.schema){let{opts:i,self:s}=t;if(!i.strictSchema||typeof e=="boolean")return;let r=s.RULES.keywords;for(let n in e)r[n]||Ru(t,`unknown keyword: "${n}"`)}z.checkUnknownRules=Su;function Tu(t,e){if(typeof t=="boolean")return!t;for(let i in t)if(e[i])return!0;return!1}z.schemaHasRules=Tu;function i0(t,e){if(typeof t=="boolean")return!t;for(let i in t)if(i!=="$ref"&&e.all[i])return!0;return!1}z.schemaHasRulesButRef=i0;function s0({topSchemaRef:t,schemaPath:e},i,s,r){if(!r){if(typeof i=="number"||typeof i=="boolean")return i;if(typeof i=="string")return(0,X._)`${i}`}return(0,X._)`${t}${e}${(0,X.getProperty)(s)}`}z.schemaRefOrVal=s0;function r0(t){return Cu(decodeURIComponent(t))}z.unescapeFragment=r0;function n0(t){return encodeURIComponent(Ua(t))}z.escapeFragment=n0;function Ua(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}z.escapeJsonPointer=Ua;function Cu(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}z.unescapeJsonPointer=Cu;function o0(t,e){if(Array.isArray(t))for(let i of t)e(i);else e(t)}z.eachItem=o0;function ju({mergeNames:t,mergeToName:e,mergeValues:i,resultToName:s}){return(r,n,o,a)=>{let p=o===void 0?n:o instanceof X.Name?(n instanceof X.Name?t(r,n,o):e(r,n,o),o):n instanceof X.Name?(e(r,o,n),n):i(n,o);return a===X.Name&&!(p instanceof X.Name)?s(r,p):p}}z.mergeEvaluated={props:ju({mergeNames:(t,e,i)=>t.if((0,X._)`${i} !== true && ${e} !== undefined`,()=>{t.if((0,X._)`${e} === true`,()=>t.assign(i,!0),()=>t.assign(i,(0,X._)`${i} || {}`).code((0,X._)`Object.assign(${i}, ${e})`))}),mergeToName:(t,e,i)=>t.if((0,X._)`${i} !== true`,()=>{e===!0?t.assign(i,!0):(t.assign(i,(0,X._)`${i} || {}`),Na(t,i,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Du}),items:ju({mergeNames:(t,e,i)=>t.if((0,X._)`${i} !== true && ${e} !== undefined`,()=>t.assign(i,(0,X._)`${e} === true ? true : ${i} > ${e} ? ${i} : ${e}`)),mergeToName:(t,e,i)=>t.if((0,X._)`${i} !== true`,()=>t.assign(i,e===!0?!0:(0,X._)`${i} > ${e} ? ${i} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Du(t,e){if(e===!0)return t.var("props",!0);let i=t.var("props",(0,X._)`{}`);return e!==void 0&&Na(t,i,e),i}z.evaluatedPropsToName=Du;function Na(t,e,i){Object.keys(i).forEach(s=>t.assign((0,X._)`${e}${(0,X.getProperty)(s)}`,!0))}z.setEvaluated=Na;var Pu={};function a0(t,e){return t.scopeValue("func",{ref:e,code:Pu[e.code]||(Pu[e.code]=new Xk._Code(e.code))})}z.useFunc=a0;var _a;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(_a||(z.Type=_a={}));function p0(t,e,i){if(t instanceof X.Name){let s=e===_a.Num;return i?s?(0,X._)`"[" + ${t} + "]"`:(0,X._)`"['" + ${t} + "']"`:s?(0,X._)`"/" + ${t}`:(0,X._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return i?(0,X.getProperty)(t).toString():"/"+Ua(t)}z.getErrorPath=p0;function Ru(t,e,i=t.opts.strictSchema){if(i){if(e=`strict mode: ${e}`,i===!0)throw new Error(e);t.self.logger.warn(e)}}z.checkStrictMode=Ru});var rt=g(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});var be=R(),c0={data:new be.Name("data"),valCxt:new be.Name("valCxt"),instancePath:new be.Name("instancePath"),parentData:new be.Name("parentData"),parentDataProperty:new be.Name("parentDataProperty"),rootData:new be.Name("rootData"),dynamicAnchors:new be.Name("dynamicAnchors"),vErrors:new be.Name("vErrors"),errors:new be.Name("errors"),this:new be.Name("this"),self:new be.Name("self"),scope:new be.Name("scope"),json:new be.Name("json"),jsonPos:new be.Name("jsonPos"),jsonLen:new be.Name("jsonLen"),jsonPart:new be.Name("jsonPart")};Va.default=c0});var ki=g(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.extendErrors=xe.resetErrorsCount=xe.reportExtraError=xe.reportError=xe.keyword$DataError=xe.keywordError=void 0;var W=R(),cn=M(),ke=rt();xe.keywordError={message:({keyword:t})=>(0,W.str)`must pass "${t}" keyword validation`};xe.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,W.str)`"${t}" keyword must be ${e} ($data)`:(0,W.str)`"${t}" keyword is invalid ($data)`};function d0(t,e=xe.keywordError,i,s){let{it:r}=t,{gen:n,compositeRule:o,allErrors:a}=r,p=_u(t,e,i);s??(o||a)?Eu(n,p):$u(r,(0,W._)`[${p}]`)}xe.reportError=d0;function l0(t,e=xe.keywordError,i){let{it:s}=t,{gen:r,compositeRule:n,allErrors:o}=s,a=_u(t,e,i);Eu(r,a),n||o||$u(s,ke.default.vErrors)}xe.reportExtraError=l0;function u0(t,e){t.assign(ke.default.errors,e),t.if((0,W._)`${ke.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,W._)`${ke.default.vErrors}.length`,e),()=>t.assign(ke.default.vErrors,null)))}xe.resetErrorsCount=u0;function m0({gen:t,keyword:e,schemaValue:i,data:s,errsCount:r,it:n}){if(r===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",r,ke.default.errors,a=>{t.const(o,(0,W._)`${ke.default.vErrors}[${a}]`),t.if((0,W._)`${o}.instancePath === undefined`,()=>t.assign((0,W._)`${o}.instancePath`,(0,W.strConcat)(ke.default.instancePath,n.errorPath))),t.assign((0,W._)`${o}.schemaPath`,(0,W.str)`${n.errSchemaPath}/${e}`),n.opts.verbose&&(t.assign((0,W._)`${o}.schema`,i),t.assign((0,W._)`${o}.data`,s))})}xe.extendErrors=m0;function Eu(t,e){let i=t.const("err",e);t.if((0,W._)`${ke.default.vErrors} === null`,()=>t.assign(ke.default.vErrors,(0,W._)`[${i}]`),(0,W._)`${ke.default.vErrors}.push(${i})`),t.code((0,W._)`${ke.default.errors}++`)}function $u(t,e){let{gen:i,validateName:s,schemaEnv:r}=t;r.$async?i.throw((0,W._)`new ${t.ValidationError}(${e})`):(i.assign((0,W._)`${s}.errors`,e),i.return(!1))}var Qt={keyword:new W.Name("keyword"),schemaPath:new W.Name("schemaPath"),params:new W.Name("params"),propertyName:new W.Name("propertyName"),message:new W.Name("message"),schema:new W.Name("schema"),parentSchema:new W.Name("parentSchema")};function _u(t,e,i){let{createErrors:s}=t.it;return s===!1?(0,W._)`{}`:h0(t,e,i)}function h0(t,e,i={}){let{gen:s,it:r}=t,n=[f0(r,i),y0(t,i)];return g0(t,e,n),s.object(...n)}function f0({errorPath:t},{instancePath:e}){let i=e?(0,W.str)`${t}${(0,cn.getErrorPath)(e,cn.Type.Str)}`:t;return[ke.default.instancePath,(0,W.strConcat)(ke.default.instancePath,i)]}function y0({keyword:t,it:{errSchemaPath:e}},{schemaPath:i,parentSchema:s}){let r=s?e:(0,W.str)`${e}/${t}`;return i&&(r=(0,W.str)`${r}${(0,cn.getErrorPath)(i,cn.Type.Str)}`),[Qt.schemaPath,r]}function g0(t,{params:e,message:i},s){let{keyword:r,data:n,schemaValue:o,it:a}=t,{opts:p,propertyName:c,topSchemaRef:d,schemaPath:l}=a;s.push([Qt.keyword,r],[Qt.params,typeof e=="function"?e(t):e||(0,W._)`{}`]),p.messages&&s.push([Qt.message,typeof i=="function"?i(t):i]),p.verbose&&s.push([Qt.schema,o],[Qt.parentSchema,(0,W._)`${d}${l}`],[ke.default.data,n]),c&&s.push([Qt.propertyName,c])}});var Nu=g(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.boolOrEmptySchema=qi.topBoolOrEmptySchema=void 0;var b0=ki(),x0=R(),v0=rt(),w0={message:"boolean schema is false"};function I0(t){let{gen:e,schema:i,validateName:s}=t;i===!1?Uu(t,!1):typeof i=="object"&&i.$async===!0?e.return(v0.default.data):(e.assign((0,x0._)`${s}.errors`,null),e.return(!0))}qi.topBoolOrEmptySchema=I0;function k0(t,e){let{gen:i,schema:s}=t;s===!1?(i.var(e,!1),Uu(t)):i.var(e,!0)}qi.boolOrEmptySchema=k0;function Uu(t,e){let{gen:i,data:s}=t,r={gen:i,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,b0.reportError)(r,w0,void 0,e)}});var za=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getRules=Ai.isJSONType=void 0;var q0=["string","number","integer","boolean","null","object","array"],A0=new Set(q0);function O0(t){return typeof t=="string"&&A0.has(t)}Ai.isJSONType=O0;function j0(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ai.getRules=j0});var La=g(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.shouldUseRule=qt.shouldUseGroup=qt.schemaHasRulesForType=void 0;function P0({schema:t,self:e},i){let s=e.RULES.types[i];return s&&s!==!0&&Vu(t,s)}qt.schemaHasRulesForType=P0;function Vu(t,e){return e.rules.some(i=>zu(t,i))}qt.shouldUseGroup=Vu;function zu(t,e){var i;return t[e.keyword]!==void 0||((i=e.definition.implements)===null||i===void 0?void 0:i.some(s=>t[s]!==void 0))}qt.shouldUseRule=zu});var vs=g(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.reportTypeError=ve.checkDataTypes=ve.checkDataType=ve.coerceAndCheckDataType=ve.getJSONTypes=ve.getSchemaTypes=ve.DataType=void 0;var S0=za(),T0=La(),C0=ki(),U=R(),Lu=M(),Oi;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Oi||(ve.DataType=Oi={}));function D0(t){let e=Hu(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}ve.getSchemaTypes=D0;function Hu(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(S0.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ve.getJSONTypes=Hu;function R0(t,e){let{gen:i,data:s,opts:r}=t,n=E0(e,r.coerceTypes),o=e.length>0&&!(n.length===0&&e.length===1&&(0,T0.schemaHasRulesForType)(t,e[0]));if(o){let a=Ba(e,s,r.strictNumbers,Oi.Wrong);i.if(a,()=>{n.length?$0(t,e,n):Wa(t)})}return o}ve.coerceAndCheckDataType=R0;var Bu=new Set(["string","number","integer","boolean","null"]);function E0(t,e){return e?t.filter(i=>Bu.has(i)||e==="array"&&i==="array"):[]}function $0(t,e,i){let{gen:s,data:r,opts:n}=t,o=s.let("dataType",(0,U._)`typeof ${r}`),a=s.let("coerced",(0,U._)`undefined`);n.coerceTypes==="array"&&s.if((0,U._)`${o} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>s.assign(r,(0,U._)`${r}[0]`).assign(o,(0,U._)`typeof ${r}`).if(Ba(e,r,n.strictNumbers),()=>s.assign(a,r))),s.if((0,U._)`${a} !== undefined`);for(let c of i)(Bu.has(c)||c==="array"&&n.coerceTypes==="array")&&p(c);s.else(),Wa(t),s.endIf(),s.if((0,U._)`${a} !== undefined`,()=>{s.assign(r,a),_0(t,a)});function p(c){switch(c){case"string":s.elseIf((0,U._)`${o} == "number" || ${o} == "boolean"`).assign(a,(0,U._)`"" + ${r}`).elseIf((0,U._)`${r} === null`).assign(a,(0,U._)`""`);return;case"number":s.elseIf((0,U._)`${o} == "boolean" || ${r} === null
              || (${o} == "string" && ${r} && ${r} == +${r})`).assign(a,(0,U._)`+${r}`);return;case"integer":s.elseIf((0,U._)`${o} === "boolean" || ${r} === null
              || (${o} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(a,(0,U._)`+${r}`);return;case"boolean":s.elseIf((0,U._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(a,!1).elseIf((0,U._)`${r} === "true" || ${r} === 1`).assign(a,!0);return;case"null":s.elseIf((0,U._)`${r} === "" || ${r} === 0 || ${r} === false`),s.assign(a,null);return;case"array":s.elseIf((0,U._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${r} === null`).assign(a,(0,U._)`[${r}]`)}}}function _0({gen:t,parentData:e,parentDataProperty:i},s){t.if((0,U._)`${e} !== undefined`,()=>t.assign((0,U._)`${e}[${i}]`,s))}function Ha(t,e,i,s=Oi.Correct){let r=s===Oi.Correct?U.operators.EQ:U.operators.NEQ,n;switch(t){case"null":return(0,U._)`${e} ${r} null`;case"array":n=(0,U._)`Array.isArray(${e})`;break;case"object":n=(0,U._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":n=o((0,U._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":n=o();break;default:return(0,U._)`typeof ${e} ${r} ${t}`}return s===Oi.Correct?n:(0,U.not)(n);function o(a=U.nil){return(0,U.and)((0,U._)`typeof ${e} == "number"`,a,i?(0,U._)`isFinite(${e})`:U.nil)}}ve.checkDataType=Ha;function Ba(t,e,i,s){if(t.length===1)return Ha(t[0],e,i,s);let r,n=(0,Lu.toHash)(t);if(n.array&&n.object){let o=(0,U._)`typeof ${e} != "object"`;r=n.null?o:(0,U._)`!${e} || ${o}`,delete n.null,delete n.array,delete n.object}else r=U.nil;n.number&&delete n.integer;for(let o in n)r=(0,U.and)(r,Ha(o,e,i,s));return r}ve.checkDataTypes=Ba;var U0={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,U._)`{type: ${t}}`:(0,U._)`{type: ${e}}`};function Wa(t){let e=N0(t);(0,C0.reportError)(e,U0)}ve.reportTypeError=Wa;function N0(t){let{gen:e,data:i,schema:s}=t,r=(0,Lu.schemaRefOrVal)(t,s,"type");return{gen:e,keyword:"type",data:i,schema:s.type,schemaCode:r,schemaValue:r,parentSchema:s,params:{},it:t}}});var Fu=g(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.assignDefaults=void 0;var ji=R(),V0=M();function z0(t,e){let{properties:i,items:s}=t.schema;if(e==="object"&&i)for(let r in i)Wu(t,r,i[r].default);else e==="array"&&Array.isArray(s)&&s.forEach((r,n)=>Wu(t,n,r.default))}dn.assignDefaults=z0;function Wu(t,e,i){let{gen:s,compositeRule:r,data:n,opts:o}=t;if(i===void 0)return;let a=(0,ji._)`${n}${(0,ji.getProperty)(e)}`;if(r){(0,V0.checkStrictMode)(t,`default is ignored for: ${a}`);return}let p=(0,ji._)`${a} === undefined`;o.useDefaults==="empty"&&(p=(0,ji._)`${p} || ${a} === null || ${a} === ""`),s.if(p,(0,ji._)`${a} = ${(0,ji.stringify)(i)}`)}});var ze=g(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;var ee=R(),Fa=M(),At=rt(),L0=M();function H0(t,e){let{gen:i,data:s,it:r}=t;i.if(Ka(i,s,e,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ee._)`${e}`},!0),t.error()})}Y.checkReportMissingProp=H0;function B0({gen:t,data:e,it:{opts:i}},s,r){return(0,ee.or)(...s.map(n=>(0,ee.and)(Ka(t,e,n,i.ownProperties),(0,ee._)`${r} = ${n}`)))}Y.checkMissingProp=B0;function W0(t,e){t.setParams({missingProperty:e},!0),t.error()}Y.reportMissingProp=W0;function Zu(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ee._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=Zu;function Za(t,e,i){return(0,ee._)`${Zu(t)}.call(${e}, ${i})`}Y.isOwnProperty=Za;function F0(t,e,i,s){let r=(0,ee._)`${e}${(0,ee.getProperty)(i)} !== undefined`;return s?(0,ee._)`${r} && ${Za(t,e,i)}`:r}Y.propertyInData=F0;function Ka(t,e,i,s){let r=(0,ee._)`${e}${(0,ee.getProperty)(i)} === undefined`;return s?(0,ee.or)(r,(0,ee.not)(Za(t,e,i))):r}Y.noPropertyInData=Ka;function Ku(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Y.allSchemaProperties=Ku;function Z0(t,e){return Ku(e).filter(i=>!(0,Fa.alwaysValidSchema)(t,e[i]))}Y.schemaProperties=Z0;function K0({schemaCode:t,data:e,it:{gen:i,topSchemaRef:s,schemaPath:r,errorPath:n},it:o},a,p,c){let d=c?(0,ee._)`${t}, ${e}, ${s}${r}`:e,l=[[At.default.instancePath,(0,ee.strConcat)(At.default.instancePath,n)],[At.default.parentData,o.parentData],[At.default.parentDataProperty,o.parentDataProperty],[At.default.rootData,At.default.rootData]];o.opts.dynamicRef&&l.push([At.default.dynamicAnchors,At.default.dynamicAnchors]);let u=(0,ee._)`${d}, ${i.object(...l)}`;return p!==ee.nil?(0,ee._)`${a}.call(${p}, ${u})`:(0,ee._)`${a}(${u})`}Y.callValidateCode=K0;var M0=(0,ee._)`new RegExp`;function J0({gen:t,it:{opts:e}},i){let s=e.unicodeRegExp?"u":"",{regExp:r}=e.code,n=r(i,s);return t.scopeValue("pattern",{key:n.toString(),ref:n,code:(0,ee._)`${r.code==="new RegExp"?M0:(0,L0.useFunc)(t,r)}(${i}, ${s})`})}Y.usePattern=J0;function G0(t){let{gen:e,data:i,keyword:s,it:r}=t,n=e.name("valid");if(r.allErrors){let a=e.let("valid",!0);return o(()=>e.assign(a,!1)),a}return e.var(n,!0),o(()=>e.break()),n;function o(a){let p=e.const("len",(0,ee._)`${i}.length`);e.forRange("i",0,p,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:Fa.Type.Num},n),e.if((0,ee.not)(n),a)})}}Y.validateArray=G0;function Y0(t){let{gen:e,schema:i,keyword:s,it:r}=t;if(!Array.isArray(i))throw new Error("ajv implementation error");if(i.some(p=>(0,Fa.alwaysValidSchema)(r,p))&&!r.opts.unevaluated)return;let o=e.let("valid",!1),a=e.name("_valid");e.block(()=>i.forEach((p,c)=>{let d=t.subschema({keyword:s,schemaProp:c,compositeRule:!0},a);e.assign(o,(0,ee._)`${o} || ${a}`),t.mergeValidEvaluated(d,a)||e.if((0,ee.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}Y.validateUnion=Y0});var Gu=g(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.validateKeywordUsage=nt.validSchemaType=nt.funcKeywordCode=nt.macroKeywordCode=void 0;var qe=R(),Xt=rt(),Q0=ze(),X0=ki();function eq(t,e){let{gen:i,keyword:s,schema:r,parentSchema:n,it:o}=t,a=e.macro.call(o.self,r,n,o),p=Ju(i,s,a);o.opts.validateSchema!==!1&&o.self.validateSchema(a,!0);let c=i.name("valid");t.subschema({schema:a,schemaPath:qe.nil,errSchemaPath:`${o.errSchemaPath}/${s}`,topSchemaRef:p,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}nt.macroKeywordCode=eq;function tq(t,e){var i;let{gen:s,keyword:r,schema:n,parentSchema:o,$data:a,it:p}=t;sq(p,e);let c=!a&&e.compile?e.compile.call(p.self,n,o,p):e.validate,d=Ju(s,r,c),l=s.let("valid");t.block$data(l,u),t.ok((i=e.valid)!==null&&i!==void 0?i:l);function u(){if(e.errors===!1)m(),e.modifying&&Mu(t),f(()=>t.error());else{let x=e.async?y():h();e.modifying&&Mu(t),f(()=>iq(t,x))}}function y(){let x=s.let("ruleErrs",null);return s.try(()=>m((0,qe._)`await `),w=>s.assign(l,!1).if((0,qe._)`${w} instanceof ${p.ValidationError}`,()=>s.assign(x,(0,qe._)`${w}.errors`),()=>s.throw(w))),x}function h(){let x=(0,qe._)`${d}.errors`;return s.assign(x,null),m(qe.nil),x}function m(x=e.async?(0,qe._)`await `:qe.nil){let w=p.opts.passContext?Xt.default.this:Xt.default.self,I=!("compile"in e&&!a||e.schema===!1);s.assign(l,(0,qe._)`${x}${(0,Q0.callValidateCode)(t,d,w,I)}`,e.modifying)}function f(x){var w;s.if((0,qe.not)((w=e.valid)!==null&&w!==void 0?w:l),x)}}nt.funcKeywordCode=tq;function Mu(t){let{gen:e,data:i,it:s}=t;e.if(s.parentData,()=>e.assign(i,(0,qe._)`${s.parentData}[${s.parentDataProperty}]`))}function iq(t,e){let{gen:i}=t;i.if((0,qe._)`Array.isArray(${e})`,()=>{i.assign(Xt.default.vErrors,(0,qe._)`${Xt.default.vErrors} === null ? ${e} : ${Xt.default.vErrors}.concat(${e})`).assign(Xt.default.errors,(0,qe._)`${Xt.default.vErrors}.length`),(0,X0.extendErrors)(t)},()=>t.error())}function sq({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Ju(t,e,i){if(i===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof i=="function"?{ref:i}:{ref:i,code:(0,qe.stringify)(i)})}function rq(t,e,i=!1){return!e.length||e.some(s=>s==="array"?Array.isArray(t):s==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==s||i&&typeof t>"u")}nt.validSchemaType=rq;function nq({schema:t,opts:e,self:i,errSchemaPath:s},r,n){if(Array.isArray(r.keyword)?!r.keyword.includes(n):r.keyword!==n)throw new Error("ajv implementation error");let o=r.dependencies;if(o?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${n}: ${o.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[n])){let p=`keyword "${n}" value is invalid at path "${s}": `+i.errorsText(r.validateSchema.errors);if(e.validateSchema==="log")i.logger.error(p);else throw new Error(p)}}nt.validateKeywordUsage=nq});var Qu=g(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.extendSubschemaMode=Ot.extendSubschemaData=Ot.getSubschema=void 0;var ot=R(),Yu=M();function oq(t,{keyword:e,schemaProp:i,schema:s,schemaPath:r,errSchemaPath:n,topSchemaRef:o}){if(e!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let a=t.schema[e];return i===void 0?{schema:a,schemaPath:(0,ot._)`${t.schemaPath}${(0,ot.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[i],schemaPath:(0,ot._)`${t.schemaPath}${(0,ot.getProperty)(e)}${(0,ot.getProperty)(i)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Yu.escapeFragment)(i)}`}}if(s!==void 0){if(r===void 0||n===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:r,topSchemaRef:o,errSchemaPath:n}}throw new Error('either "keyword" or "schema" must be passed')}Ot.getSubschema=oq;function aq(t,e,{dataProp:i,dataPropType:s,data:r,dataTypes:n,propertyName:o}){if(r!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:a}=e;if(i!==void 0){let{errorPath:c,dataPathArr:d,opts:l}=e,u=a.let("data",(0,ot._)`${e.data}${(0,ot.getProperty)(i)}`,!0);p(u),t.errorPath=(0,ot.str)`${c}${(0,Yu.getErrorPath)(i,s,l.jsPropertySyntax)}`,t.parentDataProperty=(0,ot._)`${i}`,t.dataPathArr=[...d,t.parentDataProperty]}if(r!==void 0){let c=r instanceof ot.Name?r:a.let("data",r,!0);p(c),o!==void 0&&(t.propertyName=o)}n&&(t.dataTypes=n);function p(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Ot.extendSubschemaData=aq;function pq(t,{jtdDiscriminator:e,jtdMetadata:i,compositeRule:s,createErrors:r,allErrors:n}){s!==void 0&&(t.compositeRule=s),r!==void 0&&(t.createErrors=r),n!==void 0&&(t.allErrors=n),t.jtdDiscriminator=e,t.jtdMetadata=i}Ot.extendSubschemaMode=pq});var ln=g((eV,Xu)=>{"use strict";Xu.exports=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var s,r,n;if(Array.isArray(e)){if(s=e.length,s!=i.length)return!1;for(r=s;r--!==0;)if(!t(e[r],i[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(i).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,n[r]))return!1;for(r=s;r--!==0;){var o=n[r];if(!t(e[o],i[o]))return!1}return!0}return e!==e&&i!==i}});var tm=g((tV,em)=>{"use strict";var jt=em.exports=function(t,e,i){typeof e=="function"&&(i=e,e={}),i=e.cb||i;var s=typeof i=="function"?i:i.pre||function(){},r=i.post||function(){};un(e,s,r,t,"",t)};jt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};jt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};jt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};jt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function un(t,e,i,s,r,n,o,a,p,c){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,r,n,o,a,p,c);for(var d in s){var l=s[d];if(Array.isArray(l)){if(d in jt.arrayKeywords)for(var u=0;u<l.length;u++)un(t,e,i,l[u],r+"/"+d+"/"+u,n,r,d,s,u)}else if(d in jt.propsKeywords){if(l&&typeof l=="object")for(var y in l)un(t,e,i,l[y],r+"/"+d+"/"+cq(y),n,r,d,s,y)}else(d in jt.keywords||t.allKeys&&!(d in jt.skipKeywords))&&un(t,e,i,l,r+"/"+d,n,r,d,s)}i(s,r,n,o,a,p,c)}}function cq(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var ws=g(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;var dq=M(),lq=ln(),uq=tm(),mq=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function hq(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Ma(t):e?im(t)<=e:!1}Se.inlineRef=hq;var fq=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ma(t){for(let e in t){if(fq.has(e))return!0;let i=t[e];if(Array.isArray(i)&&i.some(Ma)||typeof i=="object"&&Ma(i))return!0}return!1}function im(t){let e=0;for(let i in t){if(i==="$ref")return 1/0;if(e++,!mq.has(i)&&(typeof t[i]=="object"&&(0,dq.eachItem)(t[i],s=>e+=im(s)),e===1/0))return 1/0}return e}function sm(t,e="",i){i!==!1&&(e=Pi(e));let s=t.parse(e);return rm(t,s)}Se.getFullPath=sm;function rm(t,e){return t.serialize(e).split("#")[0]+"#"}Se._getFullPath=rm;var yq=/#\/?$/;function Pi(t){return t?t.replace(yq,""):""}Se.normalizeId=Pi;function gq(t,e,i){return i=Pi(i),t.resolve(e,i)}Se.resolveUrl=gq;var bq=/^[a-z_][-a-z0-9._]*$/i;function xq(t,e){if(typeof t=="boolean")return{};let{schemaId:i,uriResolver:s}=this.opts,r=Pi(t[i]||e),n={"":r},o=sm(s,r,!1),a={},p=new Set;return uq(t,{allKeys:!0},(l,u,y,h)=>{if(h===void 0)return;let m=o+u,f=n[h];typeof l[i]=="string"&&(f=x.call(this,l[i])),w.call(this,l.$anchor),w.call(this,l.$dynamicAnchor),n[u]=f;function x(I){let A=this.opts.uriResolver.resolve;if(I=Pi(f?A(f,I):I),p.has(I))throw d(I);p.add(I);let q=this.refs[I];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?c(l,q.schema,I):I!==Pi(m)&&(I[0]==="#"?(c(l,a[I],I),a[I]=l):this.refs[I]=m),I}function w(I){if(typeof I=="string"){if(!bq.test(I))throw new Error(`invalid anchor "${I}"`);x.call(this,`#${I}`)}}}),a;function c(l,u,y){if(u!==void 0&&!lq(l,u))throw d(y)}function d(l){return new Error(`reference "${l}" resolves to more than one schema`)}}Se.getSchemaRefs=xq});var Si=g(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getData=Pt.KeywordCxt=Pt.validateFunctionCode=void 0;var cm=Nu(),nm=vs(),Ga=La(),mn=vs(),vq=Fu(),ks=Gu(),Ja=Qu(),C=R(),E=rt(),wq=ws(),gt=M(),Is=ki();function Iq(t){if(um(t)&&(mm(t),lm(t))){Aq(t);return}dm(t,()=>(0,cm.topBoolOrEmptySchema)(t))}Pt.validateFunctionCode=Iq;function dm({gen:t,validateName:e,schema:i,schemaEnv:s,opts:r},n){r.code.es5?t.func(e,(0,C._)`${E.default.data}, ${E.default.valCxt}`,s.$async,()=>{t.code((0,C._)`"use strict"; ${om(i,r)}`),qq(t,r),t.code(n)}):t.func(e,(0,C._)`${E.default.data}, ${kq(r)}`,s.$async,()=>t.code(om(i,r)).code(n))}function kq(t){return(0,C._)`{${E.default.instancePath}="", ${E.default.parentData}, ${E.default.parentDataProperty}, ${E.default.rootData}=${E.default.data}${t.dynamicRef?(0,C._)`, ${E.default.dynamicAnchors}={}`:C.nil}}={}`}function qq(t,e){t.if(E.default.valCxt,()=>{t.var(E.default.instancePath,(0,C._)`${E.default.valCxt}.${E.default.instancePath}`),t.var(E.default.parentData,(0,C._)`${E.default.valCxt}.${E.default.parentData}`),t.var(E.default.parentDataProperty,(0,C._)`${E.default.valCxt}.${E.default.parentDataProperty}`),t.var(E.default.rootData,(0,C._)`${E.default.valCxt}.${E.default.rootData}`),e.dynamicRef&&t.var(E.default.dynamicAnchors,(0,C._)`${E.default.valCxt}.${E.default.dynamicAnchors}`)},()=>{t.var(E.default.instancePath,(0,C._)`""`),t.var(E.default.parentData,(0,C._)`undefined`),t.var(E.default.parentDataProperty,(0,C._)`undefined`),t.var(E.default.rootData,E.default.data),e.dynamicRef&&t.var(E.default.dynamicAnchors,(0,C._)`{}`)})}function Aq(t){let{schema:e,opts:i,gen:s}=t;dm(t,()=>{i.$comment&&e.$comment&&fm(t),Tq(t),s.let(E.default.vErrors,null),s.let(E.default.errors,0),i.unevaluated&&Oq(t),hm(t),Rq(t)})}function Oq(t){let{gen:e,validateName:i}=t;t.evaluated=e.const("evaluated",(0,C._)`${i}.evaluated`),e.if((0,C._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,C._)`${t.evaluated}.props`,(0,C._)`undefined`)),e.if((0,C._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,C._)`${t.evaluated}.items`,(0,C._)`undefined`))}function om(t,e){let i=typeof t=="object"&&t[e.schemaId];return i&&(e.code.source||e.code.process)?(0,C._)`/*# sourceURL=${i} */`:C.nil}function jq(t,e){if(um(t)&&(mm(t),lm(t))){Pq(t,e);return}(0,cm.boolOrEmptySchema)(t,e)}function lm({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let i in t)if(e.RULES.all[i])return!0;return!1}function um(t){return typeof t.schema!="boolean"}function Pq(t,e){let{schema:i,gen:s,opts:r}=t;r.$comment&&i.$comment&&fm(t),Cq(t),Dq(t);let n=s.const("_errs",E.default.errors);hm(t,n),s.var(e,(0,C._)`${n} === ${E.default.errors}`)}function mm(t){(0,gt.checkUnknownRules)(t),Sq(t)}function hm(t,e){if(t.opts.jtd)return am(t,[],!1,e);let i=(0,nm.getSchemaTypes)(t.schema),s=(0,nm.coerceAndCheckDataType)(t,i);am(t,i,!s,e)}function Sq(t){let{schema:e,errSchemaPath:i,opts:s,self:r}=t;e.$ref&&s.ignoreKeywordsWithRef&&(0,gt.schemaHasRulesButRef)(e,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${i}"`)}function Tq(t){let{schema:e,opts:i}=t;e.default!==void 0&&i.useDefaults&&i.strictSchema&&(0,gt.checkStrictMode)(t,"default is ignored in the schema root")}function Cq(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,wq.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Dq(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function fm({gen:t,schemaEnv:e,schema:i,errSchemaPath:s,opts:r}){let n=i.$comment;if(r.$comment===!0)t.code((0,C._)`${E.default.self}.logger.log(${n})`);else if(typeof r.$comment=="function"){let o=(0,C.str)`${s}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,C._)`${E.default.self}.opts.$comment(${n}, ${o}, ${a}.schema)`)}}function Rq(t){let{gen:e,schemaEnv:i,validateName:s,ValidationError:r,opts:n}=t;i.$async?e.if((0,C._)`${E.default.errors} === 0`,()=>e.return(E.default.data),()=>e.throw((0,C._)`new ${r}(${E.default.vErrors})`)):(e.assign((0,C._)`${s}.errors`,E.default.vErrors),n.unevaluated&&Eq(t),e.return((0,C._)`${E.default.errors} === 0`))}function Eq({gen:t,evaluated:e,props:i,items:s}){i instanceof C.Name&&t.assign((0,C._)`${e}.props`,i),s instanceof C.Name&&t.assign((0,C._)`${e}.items`,s)}function am(t,e,i,s){let{gen:r,schema:n,data:o,allErrors:a,opts:p,self:c}=t,{RULES:d}=c;if(n.$ref&&(p.ignoreKeywordsWithRef||!(0,gt.schemaHasRulesButRef)(n,d))){r.block(()=>gm(t,"$ref",d.all.$ref.definition));return}p.jtd||$q(t,e),r.block(()=>{for(let u of d.rules)l(u);l(d.post)});function l(u){(0,Ga.shouldUseGroup)(n,u)&&(u.type?(r.if((0,mn.checkDataType)(u.type,o,p.strictNumbers)),pm(t,u),e.length===1&&e[0]===u.type&&i&&(r.else(),(0,mn.reportTypeError)(t)),r.endIf()):pm(t,u),a||r.if((0,C._)`${E.default.errors} === ${s||0}`))}}function pm(t,e){let{gen:i,schema:s,opts:{useDefaults:r}}=t;r&&(0,vq.assignDefaults)(t,e.type),i.block(()=>{for(let n of e.rules)(0,Ga.shouldUseRule)(s,n)&&gm(t,n.keyword,n.definition,e.type)})}function $q(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(_q(t,e),t.opts.allowUnionTypes||Uq(t,e),Nq(t,t.dataTypes))}function _q(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(i=>{ym(t.dataTypes,i)||Ya(t,`type "${i}" not allowed by context "${t.dataTypes.join(",")}"`)}),zq(t,e)}}function Uq(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Ya(t,"use allowUnionTypes to allow union type keyword")}function Nq(t,e){let i=t.self.RULES.all;for(let s in i){let r=i[s];if(typeof r=="object"&&(0,Ga.shouldUseRule)(t.schema,r)){let{type:n}=r.definition;n.length&&!n.some(o=>Vq(e,o))&&Ya(t,`missing type "${n.join(",")}" for keyword "${s}"`)}}}function Vq(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function ym(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function zq(t,e){let i=[];for(let s of t.dataTypes)ym(e,s)?i.push(s):e.includes("integer")&&s==="number"&&i.push("integer");t.dataTypes=i}function Ya(t,e){let i=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${i}" (strictTypes)`,(0,gt.checkStrictMode)(t,e,t.opts.strictTypes)}var hn=class{constructor(e,i,s){if((0,ks.validateKeywordUsage)(e,i,s),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=s,this.data=e.data,this.schema=e.schema[s],this.$data=i.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,gt.schemaRefOrVal)(e,this.schema,s,this.$data),this.schemaType=i.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=i,this.$data)this.schemaCode=e.gen.const("vSchema",bm(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,ks.validSchemaType)(this.schema,i.schemaType,i.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(i.schemaType)}`);("code"in i?i.trackErrors:i.errors!==!1)&&(this.errsCount=e.gen.const("_errs",E.default.errors))}result(e,i,s){this.failResult((0,C.not)(e),i,s)}failResult(e,i,s){this.gen.if(e),s?s():this.error(),i?(this.gen.else(),i(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,i){this.failResult((0,C.not)(e),void 0,i)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:i}=this;this.fail((0,C._)`${i} !== undefined && (${(0,C.or)(this.invalid$data(),e)})`)}error(e,i,s){if(i){this.setParams(i),this._error(e,s),this.setParams({});return}this._error(e,s)}_error(e,i){(e?Is.reportExtraError:Is.reportError)(this,this.def.error,i)}$dataError(){(0,Is.reportError)(this,this.def.$dataError||Is.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Is.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,i){i?Object.assign(this.params,e):this.params=e}block$data(e,i,s=C.nil){this.gen.block(()=>{this.check$data(e,s),i()})}check$data(e=C.nil,i=C.nil){if(!this.$data)return;let{gen:s,schemaCode:r,schemaType:n,def:o}=this;s.if((0,C.or)((0,C._)`${r} === undefined`,i)),e!==C.nil&&s.assign(e,!0),(n.length||o.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),e!==C.nil&&s.assign(e,!1)),s.else()}invalid$data(){let{gen:e,schemaCode:i,schemaType:s,def:r,it:n}=this;return(0,C.or)(o(),a());function o(){if(s.length){if(!(i instanceof C.Name))throw new Error("ajv implementation error");let p=Array.isArray(s)?s:[s];return(0,C._)`${(0,mn.checkDataTypes)(p,i,n.opts.strictNumbers,mn.DataType.Wrong)}`}return C.nil}function a(){if(r.validateSchema){let p=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,C._)`!${p}(${i})`}return C.nil}}subschema(e,i){let s=(0,Ja.getSubschema)(this.it,e);(0,Ja.extendSubschemaData)(s,this.it,e),(0,Ja.extendSubschemaMode)(s,e);let r={...this.it,...s,items:void 0,props:void 0};return jq(r,i),r}mergeEvaluated(e,i){let{it:s,gen:r}=this;s.opts.unevaluated&&(s.props!==!0&&e.props!==void 0&&(s.props=gt.mergeEvaluated.props(r,e.props,s.props,i)),s.items!==!0&&e.items!==void 0&&(s.items=gt.mergeEvaluated.items(r,e.items,s.items,i)))}mergeValidEvaluated(e,i){let{it:s,gen:r}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return r.if(i,()=>this.mergeEvaluated(e,C.Name)),!0}};Pt.KeywordCxt=hn;function gm(t,e,i,s){let r=new hn(t,i,e);"code"in i?i.code(r,s):r.$data&&i.validate?(0,ks.funcKeywordCode)(r,i):"macro"in i?(0,ks.macroKeywordCode)(r,i):(i.compile||i.validate)&&(0,ks.funcKeywordCode)(r,i)}var Lq=/^\/(?:[^~]|~0|~1)*$/,Hq=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function bm(t,{dataLevel:e,dataNames:i,dataPathArr:s}){let r,n;if(t==="")return E.default.rootData;if(t[0]==="/"){if(!Lq.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,n=E.default.rootData}else{let c=Hq.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);let d=+c[1];if(r=c[2],r==="#"){if(d>=e)throw new Error(p("property/index",d));return s[e-d]}if(d>e)throw new Error(p("data",d));if(n=i[e-d],!r)return n}let o=n,a=r.split("/");for(let c of a)c&&(n=(0,C._)`${n}${(0,C.getProperty)((0,gt.unescapeJsonPointer)(c))}`,o=(0,C._)`${o} && ${n}`);return o;function p(c,d){return`Cannot access ${c} ${d} levels up, current level is ${e}`}}Pt.getData=bm});var fn=g(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var Qa=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};Xa.default=Qa});var qs=g(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var ep=ws(),tp=class extends Error{constructor(e,i,s,r){super(r||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,ep.resolveUrl)(e,i,s),this.missingSchema=(0,ep.normalizeId)((0,ep.getFullPath)(e,this.missingRef))}};ip.default=tp});var gn=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;var Me=R(),Bq=fn(),ei=rt(),Je=ws(),xm=M(),Wq=Si(),Ti=class{constructor(e){var i;this.refs={},this.dynamicAnchors={};let s;typeof e.schema=="object"&&(s=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(i=e.baseId)!==null&&i!==void 0?i:(0,Je.normalizeId)(s?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=s?.$async,this.refs={}}};Le.SchemaEnv=Ti;function rp(t){let e=vm.call(this,t);if(e)return e;let i=(0,Je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:s,lines:r}=this.opts.code,{ownProperties:n}=this.opts,o=new Me.CodeGen(this.scope,{es5:s,lines:r,ownProperties:n}),a;t.$async&&(a=o.scopeValue("Error",{ref:Bq.default,code:(0,Me._)`require("ajv/dist/runtime/validation_error").default`}));let p=o.scopeName("validate");t.validateName=p;let c={gen:o,allErrors:this.opts.allErrors,data:ei.default.data,parentData:ei.default.parentData,parentDataProperty:ei.default.parentDataProperty,dataNames:[ei.default.data],dataPathArr:[Me.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Me.stringify)(t.schema)}:{ref:t.schema}),validateName:p,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:i,baseId:t.baseId||i,schemaPath:Me.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Me._)`""`,opts:this.opts,self:this},d;try{this._compilations.add(t),(0,Wq.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);let l=o.toString();d=`${o.scopeRefs(ei.default.scope)}return ${l}`,this.opts.code.process&&(d=this.opts.code.process(d,t));let y=new Function(`${ei.default.self}`,`${ei.default.scope}`,d)(this,this.scope.get());if(this.scope.value(p,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:p,validateCode:l,scopeValues:o._values}),this.opts.unevaluated){let{props:h,items:m}=c;y.evaluated={props:h instanceof Me.Name?void 0:h,items:m instanceof Me.Name?void 0:m,dynamicProps:h instanceof Me.Name,dynamicItems:m instanceof Me.Name},y.source&&(y.source.evaluated=(0,Me.stringify)(y.evaluated))}return t.validate=y,t}catch(l){throw delete t.validate,delete t.validateName,d&&this.logger.error("Error compiling schema, function code:",d),l}finally{this._compilations.delete(t)}}Le.compileSchema=rp;function Fq(t,e,i){var s;i=(0,Je.resolveUrl)(this.opts.uriResolver,e,i);let r=t.refs[i];if(r)return r;let n=Mq.call(this,t,i);if(n===void 0){let o=(s=t.localRefs)===null||s===void 0?void 0:s[i],{schemaId:a}=this.opts;o&&(n=new Ti({schema:o,schemaId:a,root:t,baseId:e}))}if(n!==void 0)return t.refs[i]=Zq.call(this,n)}Le.resolveRef=Fq;function Zq(t){return(0,Je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:rp.call(this,t)}function vm(t){for(let e of this._compilations)if(Kq(e,t))return e}Le.getCompilingSchema=vm;function Kq(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Mq(t,e){let i;for(;typeof(i=this.refs[e])=="string";)e=i;return i||this.schemas[e]||yn.call(this,t,e)}function yn(t,e){let i=this.opts.uriResolver.parse(e),s=(0,Je._getFullPath)(this.opts.uriResolver,i),r=(0,Je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&s===r)return sp.call(this,i,t);let n=(0,Je.normalizeId)(s),o=this.refs[n]||this.schemas[n];if(typeof o=="string"){let a=yn.call(this,t,o);return typeof a?.schema!="object"?void 0:sp.call(this,i,a)}if(typeof o?.schema=="object"){if(o.validate||rp.call(this,o),n===(0,Je.normalizeId)(e)){let{schema:a}=o,{schemaId:p}=this.opts,c=a[p];return c&&(r=(0,Je.resolveUrl)(this.opts.uriResolver,r,c)),new Ti({schema:a,schemaId:p,root:t,baseId:r})}return sp.call(this,i,o)}}Le.resolveSchema=yn;var Jq=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function sp(t,{baseId:e,schema:i,root:s}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let a of t.fragment.slice(1).split("/")){if(typeof i=="boolean")return;let p=i[(0,xm.unescapeFragment)(a)];if(p===void 0)return;i=p;let c=typeof i=="object"&&i[this.opts.schemaId];!Jq.has(a)&&c&&(e=(0,Je.resolveUrl)(this.opts.uriResolver,e,c))}let n;if(typeof i!="boolean"&&i.$ref&&!(0,xm.schemaHasRulesButRef)(i,this.RULES)){let a=(0,Je.resolveUrl)(this.opts.uriResolver,e,i.$ref);n=yn.call(this,s,a)}let{schemaId:o}=this.opts;if(n=n||new Ti({schema:i,schemaId:o,root:s,baseId:e}),n.schema!==n.root.schema)return n}});var wm=g((aV,Gq)=>{Gq.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var op=g((pV,Am)=>{"use strict";var Yq=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),km=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function np(t){let e="",i=0,s=0;for(s=0;s<t.length;s++)if(i=t[s].charCodeAt(0),i!==48){if(!(i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102))return"";e+=t[s];break}for(s+=1;s<t.length;s++){if(i=t[s].charCodeAt(0),!(i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102))return"";e+=t[s]}return e}var Qq=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function Im(t){return t.length=0,!0}function Xq(t,e,i){if(t.length){let s=np(t);if(s!=="")e.push(s);else return i.error=!0,!1;t.length=0}return!0}function eA(t){let e=0,i={error:!1,address:"",zone:""},s=[],r=[],n=!1,o=!1,a=Xq;for(let p=0;p<t.length;p++){let c=t[p];if(!(c==="["||c==="]"))if(c===":"){if(n===!0&&(o=!0),!a(r,s,i))break;if(++e>7){i.error=!0;break}p>0&&t[p-1]===":"&&(n=!0),s.push(":");continue}else if(c==="%"){if(!a(r,s,i))break;a=Im}else{r.push(c);continue}}return r.length&&(a===Im?i.zone=r.join(""):o?s.push(r.join("")):s.push(np(r))),i.address=s.join(""),i}function qm(t){if(tA(t,":")<2)return{host:t,isIPV6:!1};let e=eA(t);if(e.error)return{host:t,isIPV6:!1};{let i=e.address,s=e.address;return e.zone&&(i+="%"+e.zone,s+="%25"+e.zone),{host:i,isIPV6:!0,escapedHost:s}}}function tA(t,e){let i=0;for(let s=0;s<t.length;s++)t[s]===e&&i++;return i}function iA(t){let e=t,i=[],s=-1,r=0;for(;r=e.length;){if(r===1){if(e===".")break;if(e==="/"){i.push("/");break}else{i.push(e);break}}else if(r===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){i.push("/");break}}else if(r===3&&e==="/.."){i.length!==0&&i.pop(),i.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),i.length!==0&&i.pop();continue}}if((s=e.indexOf("/",1))===-1){i.push(e);break}else i.push(e.slice(0,s)),e=e.slice(s)}return i.join("")}function sA(t,e){let i=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=i(t.scheme)),t.userinfo!==void 0&&(t.userinfo=i(t.userinfo)),t.host!==void 0&&(t.host=i(t.host)),t.path!==void 0&&(t.path=i(t.path)),t.query!==void 0&&(t.query=i(t.query)),t.fragment!==void 0&&(t.fragment=i(t.fragment)),t}function rA(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let i=unescape(t.host);if(!km(i)){let s=qm(i);s.isIPV6===!0?i=`[${s.escapedHost}]`:i=t.host}e.push(i)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}Am.exports={nonSimpleDomain:Qq,recomposeAuthority:rA,normalizeComponentEncoding:sA,removeDotSegments:iA,isIPv4:km,isUUID:Yq,normalizeIPv6:qm,stringArrayToHexStripped:np}});var Tm=g((cV,Sm)=>{"use strict";var{isUUID:nA}=op(),oA=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,aA=["http","https","ws","wss","urn","urn:uuid"];function pA(t){return aA.indexOf(t)!==-1}function ap(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function Om(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function jm(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function cA(t){return t.secure=ap(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function dA(t){if((t.port===(ap(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,i]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=i,t.resourceName=void 0}return t.fragment=void 0,t}function lA(t,e){if(!t.path)return t.error="URN can not be parsed",t;let i=t.path.match(oA);if(i){let s=e.scheme||t.scheme||"urn";t.nid=i[1].toLowerCase(),t.nss=i[2];let r=`${s}:${e.nid||t.nid}`,n=pp(r);t.path=void 0,n&&(t=n.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function uA(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");let i=e.scheme||t.scheme||"urn",s=t.nid.toLowerCase(),r=`${i}:${e.nid||s}`,n=pp(r);n&&(t=n.serialize(t,e));let o=t,a=t.nss;return o.path=`${s||e.nid}:${a}`,e.skipEscape=!0,o}function mA(t,e){let i=t;return i.uuid=i.nss,i.nss=void 0,!e.tolerant&&(!i.uuid||!nA(i.uuid))&&(i.error=i.error||"UUID is not valid."),i}function hA(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var Pm={scheme:"http",domainHost:!0,parse:Om,serialize:jm},fA={scheme:"https",domainHost:Pm.domainHost,parse:Om,serialize:jm},bn={scheme:"ws",domainHost:!0,parse:cA,serialize:dA},yA={scheme:"wss",domainHost:bn.domainHost,parse:bn.parse,serialize:bn.serialize},gA={scheme:"urn",parse:lA,serialize:uA,skipNormalize:!0},bA={scheme:"urn:uuid",parse:mA,serialize:hA,skipNormalize:!0},xn={http:Pm,https:fA,ws:bn,wss:yA,urn:gA,"urn:uuid":bA};Object.setPrototypeOf(xn,null);function pp(t){return t&&(xn[t]||xn[t.toLowerCase()])||void 0}Sm.exports={wsIsSecure:ap,SCHEMES:xn,isValidSchemeName:pA,getSchemeHandler:pp}});var Rm=g((dV,wn)=>{"use strict";var{normalizeIPv6:xA,removeDotSegments:As,recomposeAuthority:vA,normalizeComponentEncoding:vn,isIPv4:wA,nonSimpleDomain:IA}=op(),{SCHEMES:kA,getSchemeHandler:Cm}=Tm();function qA(t,e){return typeof t=="string"?t=at(bt(t,e),e):typeof t=="object"&&(t=bt(at(t,e),e)),t}function AA(t,e,i){let s=i?Object.assign({scheme:"null"},i):{scheme:"null"},r=Dm(bt(t,s),bt(e,s),s,!0);return s.skipEscape=!0,at(r,s)}function Dm(t,e,i,s){let r={};return s||(t=bt(at(t,i),i),e=bt(at(e,i),i)),i=i||{},!i.tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=As(e.path||""),r.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=As(e.path||""),r.query=e.query):(e.path?(e.path[0]==="/"?r.path=As(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?r.path="/"+e.path:t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path,r.path=As(r.path)),r.query=e.query):(r.path=t.path,e.query!==void 0?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function OA(t,e,i){return typeof t=="string"?(t=unescape(t),t=at(vn(bt(t,i),!0),{...i,skipEscape:!0})):typeof t=="object"&&(t=at(vn(t,!0),{...i,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=at(vn(bt(e,i),!0),{...i,skipEscape:!0})):typeof e=="object"&&(e=at(vn(e,!0),{...i,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function at(t,e){let i={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},s=Object.assign({},e),r=[],n=Cm(s.scheme||i.scheme);n&&n.serialize&&n.serialize(i,s),i.path!==void 0&&(s.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),i.scheme!==void 0&&(i.path=i.path.split("%3A").join(":")))),s.reference!=="suffix"&&i.scheme&&r.push(i.scheme,":");let o=vA(i);if(o!==void 0&&(s.reference!=="suffix"&&r.push("//"),r.push(o),i.path&&i.path[0]!=="/"&&r.push("/")),i.path!==void 0){let a=i.path;!s.absolutePath&&(!n||!n.absolutePath)&&(a=As(a)),o===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),r.push(a)}return i.query!==void 0&&r.push("?",i.query),i.fragment!==void 0&&r.push("#",i.fragment),r.join("")}var jA=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function bt(t,e){let i=Object.assign({},e),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},r=!1;i.reference==="suffix"&&(i.scheme?t=i.scheme+":"+t:t="//"+t);let n=t.match(jA);if(n){if(s.scheme=n[1],s.userinfo=n[3],s.host=n[4],s.port=parseInt(n[5],10),s.path=n[6]||"",s.query=n[7],s.fragment=n[8],isNaN(s.port)&&(s.port=n[5]),s.host)if(wA(s.host)===!1){let p=xA(s.host);s.host=p.host.toLowerCase(),r=p.isIPV6}else r=!0;s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&s.query===void 0&&!s.path?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==s.reference&&(s.error=s.error||"URI is not a "+i.reference+" reference.");let o=Cm(i.scheme||s.scheme);if(!i.unicodeSupport&&(!o||!o.unicodeSupport)&&s.host&&(i.domainHost||o&&o.domainHost)&&r===!1&&IA(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(a){s.error=s.error||"Host's domain name can not be converted to ASCII: "+a}(!o||o&&!o.skipNormalize)&&(t.indexOf("%")!==-1&&(s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),s.host!==void 0&&(s.host=unescape(s.host))),s.path&&(s.path=escape(unescape(s.path))),s.fragment&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),o&&o.parse&&o.parse(s,i)}else s.error=s.error||"URI can not be parsed.";return s}var cp={SCHEMES:kA,normalize:qA,resolve:AA,resolveComponent:Dm,equal:OA,serialize:at,parse:bt};wn.exports=cp;wn.exports.default=cp;wn.exports.fastUri=cp});var $m=g(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var Em=Rm();Em.code='require("ajv/dist/runtime/uri").default';dp.default=Em});var Bm=g(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.CodeGen=he.Name=he.nil=he.stringify=he.str=he._=he.KeywordCxt=void 0;var PA=Si();Object.defineProperty(he,"KeywordCxt",{enumerable:!0,get:function(){return PA.KeywordCxt}});var Ci=R();Object.defineProperty(he,"_",{enumerable:!0,get:function(){return Ci._}});Object.defineProperty(he,"str",{enumerable:!0,get:function(){return Ci.str}});Object.defineProperty(he,"stringify",{enumerable:!0,get:function(){return Ci.stringify}});Object.defineProperty(he,"nil",{enumerable:!0,get:function(){return Ci.nil}});Object.defineProperty(he,"Name",{enumerable:!0,get:function(){return Ci.Name}});Object.defineProperty(he,"CodeGen",{enumerable:!0,get:function(){return Ci.CodeGen}});var SA=fn(),zm=qs(),TA=za(),Os=gn(),CA=R(),js=ws(),In=vs(),up=M(),_m=wm(),DA=$m(),Lm=(t,e)=>new RegExp(t,e);Lm.code="new RegExp";var RA=["removeAdditional","useDefaults","coerceTypes"],EA=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_A={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Um=200;function UA(t){var e,i,s,r,n,o,a,p,c,d,l,u,y,h,m,f,x,w,I,A,q,v,O,k,T;let N=t.strict,L=(e=t.code)===null||e===void 0?void 0:e.optimize,S=L===!0||L===void 0?1:L||0,$=(s=(i=t.code)===null||i===void 0?void 0:i.regExp)!==null&&s!==void 0?s:Lm,ie=(r=t.uriResolver)!==null&&r!==void 0?r:DA.default;return{strictSchema:(o=(n=t.strictSchema)!==null&&n!==void 0?n:N)!==null&&o!==void 0?o:!0,strictNumbers:(p=(a=t.strictNumbers)!==null&&a!==void 0?a:N)!==null&&p!==void 0?p:!0,strictTypes:(d=(c=t.strictTypes)!==null&&c!==void 0?c:N)!==null&&d!==void 0?d:"log",strictTuples:(u=(l=t.strictTuples)!==null&&l!==void 0?l:N)!==null&&u!==void 0?u:"log",strictRequired:(h=(y=t.strictRequired)!==null&&y!==void 0?y:N)!==null&&h!==void 0?h:!1,code:t.code?{...t.code,optimize:S,regExp:$}:{optimize:S,regExp:$},loopRequired:(m=t.loopRequired)!==null&&m!==void 0?m:Um,loopEnum:(f=t.loopEnum)!==null&&f!==void 0?f:Um,meta:(x=t.meta)!==null&&x!==void 0?x:!0,messages:(w=t.messages)!==null&&w!==void 0?w:!0,inlineRefs:(I=t.inlineRefs)!==null&&I!==void 0?I:!0,schemaId:(A=t.schemaId)!==null&&A!==void 0?A:"$id",addUsedSchema:(q=t.addUsedSchema)!==null&&q!==void 0?q:!0,validateSchema:(v=t.validateSchema)!==null&&v!==void 0?v:!0,validateFormats:(O=t.validateFormats)!==null&&O!==void 0?O:!0,unicodeRegExp:(k=t.unicodeRegExp)!==null&&k!==void 0?k:!0,int32range:(T=t.int32range)!==null&&T!==void 0?T:!0,uriResolver:ie}}var Ps=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...UA(e)};let{es5:i,lines:s}=this.opts.code;this.scope=new CA.ValueScope({scope:{},prefixes:EA,es5:i,lines:s}),this.logger=BA(e.logger);let r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,TA.getRules)(),Nm.call(this,$A,e,"NOT SUPPORTED"),Nm.call(this,_A,e,"DEPRECATED","warn"),this._metaOpts=LA.call(this),e.formats&&VA.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&zA.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),NA.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:i,schemaId:s}=this.opts,r=_m;s==="id"&&(r={..._m},r.id=r.$id,delete r.$id),i&&e&&this.addMetaSchema(r,r[s],!1)}defaultMeta(){let{meta:e,schemaId:i}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[i]||e:void 0}validate(e,i){let s;if(typeof e=="string"){if(s=this.getSchema(e),!s)throw new Error(`no schema with key or ref "${e}"`)}else s=this.compile(e);let r=s(i);return"$async"in s||(this.errors=s.errors),r}compile(e,i){let s=this._addSchema(e,i);return s.validate||this._compileSchemaEnv(s)}compileAsync(e,i){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:s}=this.opts;return r.call(this,e,i);async function r(d,l){await n.call(this,d.$schema);let u=this._addSchema(d,l);return u.validate||o.call(this,u)}async function n(d){d&&!this.getSchema(d)&&await r.call(this,{$ref:d},!0)}async function o(d){try{return this._compileSchemaEnv(d)}catch(l){if(!(l instanceof zm.default))throw l;return a.call(this,l),await p.call(this,l.missingSchema),o.call(this,d)}}function a({missingSchema:d,missingRef:l}){if(this.refs[d])throw new Error(`AnySchema ${d} is loaded but ${l} cannot be resolved`)}async function p(d){let l=await c.call(this,d);this.refs[d]||await n.call(this,l.$schema),this.refs[d]||this.addSchema(l,d,i)}async function c(d){let l=this._loading[d];if(l)return l;try{return await(this._loading[d]=s(d))}finally{delete this._loading[d]}}}addSchema(e,i,s,r=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,s,r);return this}let n;if(typeof e=="object"){let{schemaId:o}=this.opts;if(n=e[o],n!==void 0&&typeof n!="string")throw new Error(`schema ${o} must be string`)}return i=(0,js.normalizeId)(i||n),this._checkUnique(i),this.schemas[i]=this._addSchema(e,s,i,r,!0),this}addMetaSchema(e,i,s=this.opts.validateSchema){return this.addSchema(e,i,!0,s),this}validateSchema(e,i){if(typeof e=="boolean")return!0;let s;if(s=e.$schema,s!==void 0&&typeof s!="string")throw new Error("$schema must be a string");if(s=s||this.opts.defaultMeta||this.defaultMeta(),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(s,e);if(!r&&i){let n="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(n);else throw new Error(n)}return r}getSchema(e){let i;for(;typeof(i=Vm.call(this,e))=="string";)e=i;if(i===void 0){let{schemaId:s}=this.opts,r=new Os.SchemaEnv({schema:{},schemaId:s});if(i=Os.resolveSchema.call(this,r,e),!i)return;this.refs[e]=i}return i.validate||this._compileSchemaEnv(i)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let i=Vm.call(this,e);return typeof i=="object"&&this._cache.delete(i.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let i=e;this._cache.delete(i);let s=e[this.opts.schemaId];return s&&(s=(0,js.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let i of e)this.addKeyword(i);return this}addKeyword(e,i){let s;if(typeof e=="string")s=e,typeof i=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),i.keyword=s);else if(typeof e=="object"&&i===void 0){if(i=e,s=i.keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(FA.call(this,s,i),!i)return(0,up.eachItem)(s,n=>lp.call(this,n)),this;KA.call(this,i);let r={...i,type:(0,In.getJSONTypes)(i.type),schemaType:(0,In.getJSONTypes)(i.schemaType)};return(0,up.eachItem)(s,r.type.length===0?n=>lp.call(this,n,r):n=>r.type.forEach(o=>lp.call(this,n,r,o))),this}getKeyword(e){let i=this.RULES.all[e];return typeof i=="object"?i.definition:!!i}removeKeyword(e){let{RULES:i}=this;delete i.keywords[e],delete i.all[e];for(let s of i.rules){let r=s.rules.findIndex(n=>n.keyword===e);r>=0&&s.rules.splice(r,1)}return this}addFormat(e,i){return typeof i=="string"&&(i=new RegExp(i)),this.formats[e]=i,this}errorsText(e=this.errors,{separator:i=", ",dataVar:s="data"}={}){return!e||e.length===0?"No errors":e.map(r=>`${s}${r.instancePath} ${r.message}`).reduce((r,n)=>r+i+n)}$dataMetaSchema(e,i){let s=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let r of i){let n=r.split("/").slice(1),o=e;for(let a of n)o=o[a];for(let a in s){let p=s[a];if(typeof p!="object")continue;let{$data:c}=p.definition,d=o[a];c&&d&&(o[a]=Hm(d))}}return e}_removeAllSchemas(e,i){for(let s in e){let r=e[s];(!i||i.test(s))&&(typeof r=="string"?delete e[s]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[s]))}}_addSchema(e,i,s,r=this.opts.validateSchema,n=this.opts.addUsedSchema){let o,{schemaId:a}=this.opts;if(typeof e=="object")o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let p=this._cache.get(e);if(p!==void 0)return p;s=(0,js.normalizeId)(o||s);let c=js.getSchemaRefs.call(this,e,s);return p=new Os.SchemaEnv({schema:e,schemaId:a,meta:i,baseId:s,localRefs:c}),this._cache.set(p.schema,p),n&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=p),r&&this.validateSchema(e,!0),p}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Os.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let i=this.opts;this.opts=this._metaOpts;try{Os.compileSchema.call(this,e)}finally{this.opts=i}}};Ps.ValidationError=SA.default;Ps.MissingRefError=zm.default;he.default=Ps;function Nm(t,e,i,s="error"){for(let r in t){let n=r;n in e&&this.logger[s](`${i}: option ${r}. ${t[n]}`)}}function Vm(t){return t=(0,js.normalizeId)(t),this.schemas[t]||this.refs[t]}function NA(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function VA(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function zA(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let i=t[e];i.keyword||(i.keyword=e),this.addKeyword(i)}}function LA(){let t={...this.opts};for(let e of RA)delete t[e];return t}var HA={log(){},warn(){},error(){}};function BA(t){if(t===!1)return HA;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var WA=/^[a-z_$][a-z0-9_$:-]*$/i;function FA(t,e){let{RULES:i}=this;if((0,up.eachItem)(t,s=>{if(i.keywords[s])throw new Error(`Keyword ${s} is already defined`);if(!WA.test(s))throw new Error(`Keyword ${s} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function lp(t,e,i){var s;let r=e?.post;if(i&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:n}=this,o=r?n.post:n.rules.find(({type:p})=>p===i);if(o||(o={type:i,rules:[]},n.rules.push(o)),n.keywords[t]=!0,!e)return;let a={keyword:t,definition:{...e,type:(0,In.getJSONTypes)(e.type),schemaType:(0,In.getJSONTypes)(e.schemaType)}};e.before?ZA.call(this,o,a,e.before):o.rules.push(a),n.all[t]=a,(s=e.implements)===null||s===void 0||s.forEach(p=>this.addKeyword(p))}function ZA(t,e,i){let s=t.rules.findIndex(r=>r.keyword===i);s>=0?t.rules.splice(s,0,e):(t.rules.push(e),this.logger.warn(`rule ${i} is not defined`))}function KA(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Hm(e)),t.validateSchema=this.compile(e,!0))}var MA={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Hm(t){return{anyOf:[t,MA]}}});var Wm=g(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var JA={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mp.default=JA});var Mm=g(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.callRef=ti.getValidate=void 0;var GA=qs(),Fm=ze(),Te=R(),Di=rt(),Zm=gn(),kn=M(),YA={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:i,it:s}=t,{baseId:r,schemaEnv:n,validateName:o,opts:a,self:p}=s,{root:c}=n;if((i==="#"||i==="#/")&&r===c.baseId)return l();let d=Zm.resolveRef.call(p,c,r,i);if(d===void 0)throw new GA.default(s.opts.uriResolver,r,i);if(d instanceof Zm.SchemaEnv)return u(d);return y(d);function l(){if(n===c)return qn(t,o,n,n.$async);let h=e.scopeValue("root",{ref:c});return qn(t,(0,Te._)`${h}.validate`,c,c.$async)}function u(h){let m=Km(t,h);qn(t,m,h,h.$async)}function y(h){let m=e.scopeValue("schema",a.code.source===!0?{ref:h,code:(0,Te.stringify)(h)}:{ref:h}),f=e.name("valid"),x=t.subschema({schema:h,dataTypes:[],schemaPath:Te.nil,topSchemaRef:m,errSchemaPath:i},f);t.mergeEvaluated(x),t.ok(f)}}};function Km(t,e){let{gen:i}=t;return e.validate?i.scopeValue("validate",{ref:e.validate}):(0,Te._)`${i.scopeValue("wrapper",{ref:e})}.validate`}ti.getValidate=Km;function qn(t,e,i,s){let{gen:r,it:n}=t,{allErrors:o,schemaEnv:a,opts:p}=n,c=p.passContext?Di.default.this:Te.nil;s?d():l();function d(){if(!a.$async)throw new Error("async schema referenced by sync schema");let h=r.let("valid");r.try(()=>{r.code((0,Te._)`await ${(0,Fm.callValidateCode)(t,e,c)}`),y(e),o||r.assign(h,!0)},m=>{r.if((0,Te._)`!(${m} instanceof ${n.ValidationError})`,()=>r.throw(m)),u(m),o||r.assign(h,!1)}),t.ok(h)}function l(){t.result((0,Fm.callValidateCode)(t,e,c),()=>y(e),()=>u(e))}function u(h){let m=(0,Te._)`${h}.errors`;r.assign(Di.default.vErrors,(0,Te._)`${Di.default.vErrors} === null ? ${m} : ${Di.default.vErrors}.concat(${m})`),r.assign(Di.default.errors,(0,Te._)`${Di.default.vErrors}.length`)}function y(h){var m;if(!n.opts.unevaluated)return;let f=(m=i?.validate)===null||m===void 0?void 0:m.evaluated;if(n.props!==!0)if(f&&!f.dynamicProps)f.props!==void 0&&(n.props=kn.mergeEvaluated.props(r,f.props,n.props));else{let x=r.var("props",(0,Te._)`${h}.evaluated.props`);n.props=kn.mergeEvaluated.props(r,x,n.props,Te.Name)}if(n.items!==!0)if(f&&!f.dynamicItems)f.items!==void 0&&(n.items=kn.mergeEvaluated.items(r,f.items,n.items));else{let x=r.var("items",(0,Te._)`${h}.evaluated.items`);n.items=kn.mergeEvaluated.items(r,x,n.items,Te.Name)}}}ti.callRef=qn;ti.default=YA});var Jm=g(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});var QA=Wm(),XA=Mm(),eO=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",QA.default,XA.default];hp.default=eO});var Gm=g(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});var An=R(),St=An.operators,On={maximum:{okStr:"<=",ok:St.LTE,fail:St.GT},minimum:{okStr:">=",ok:St.GTE,fail:St.LT},exclusiveMaximum:{okStr:"<",ok:St.LT,fail:St.GTE},exclusiveMinimum:{okStr:">",ok:St.GT,fail:St.LTE}},tO={message:({keyword:t,schemaCode:e})=>(0,An.str)`must be ${On[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,An._)`{comparison: ${On[t].okStr}, limit: ${e}}`},iO={keyword:Object.keys(On),type:"number",schemaType:"number",$data:!0,error:tO,code(t){let{keyword:e,data:i,schemaCode:s}=t;t.fail$data((0,An._)`${i} ${On[e].fail} ${s} || isNaN(${i})`)}};fp.default=iO});var Ym=g(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var Ss=R(),sO={message:({schemaCode:t})=>(0,Ss.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ss._)`{multipleOf: ${t}}`},rO={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:sO,code(t){let{gen:e,data:i,schemaCode:s,it:r}=t,n=r.opts.multipleOfPrecision,o=e.let("res"),a=n?(0,Ss._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${n}`:(0,Ss._)`${o} !== parseInt(${o})`;t.fail$data((0,Ss._)`(${s} === 0 || (${o} = ${i}/${s}, ${a}))`)}};yp.default=rO});var Xm=g(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});function Qm(t){let e=t.length,i=0,s=0,r;for(;s<e;)i++,r=t.charCodeAt(s++),r>=55296&&r<=56319&&s<e&&(r=t.charCodeAt(s),(r&64512)===56320&&s++);return i}gp.default=Qm;Qm.code='require("ajv/dist/runtime/ucs2length").default'});var eh=g(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});var ii=R(),nO=M(),oO=Xm(),aO={message({keyword:t,schemaCode:e}){let i=t==="maxLength"?"more":"fewer";return(0,ii.str)`must NOT have ${i} than ${e} characters`},params:({schemaCode:t})=>(0,ii._)`{limit: ${t}}`},pO={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:aO,code(t){let{keyword:e,data:i,schemaCode:s,it:r}=t,n=e==="maxLength"?ii.operators.GT:ii.operators.LT,o=r.opts.unicode===!1?(0,ii._)`${i}.length`:(0,ii._)`${(0,nO.useFunc)(t.gen,oO.default)}(${i})`;t.fail$data((0,ii._)`${o} ${n} ${s}`)}};bp.default=pO});var th=g(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});var cO=ze(),jn=R(),dO={message:({schemaCode:t})=>(0,jn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,jn._)`{pattern: ${t}}`},lO={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:dO,code(t){let{data:e,$data:i,schema:s,schemaCode:r,it:n}=t,o=n.opts.unicodeRegExp?"u":"",a=i?(0,jn._)`(new RegExp(${r}, ${o}))`:(0,cO.usePattern)(t,s);t.fail$data((0,jn._)`!${a}.test(${e})`)}};xp.default=lO});var ih=g(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var Ts=R(),uO={message({keyword:t,schemaCode:e}){let i=t==="maxProperties"?"more":"fewer";return(0,Ts.str)`must NOT have ${i} than ${e} properties`},params:({schemaCode:t})=>(0,Ts._)`{limit: ${t}}`},mO={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:uO,code(t){let{keyword:e,data:i,schemaCode:s}=t,r=e==="maxProperties"?Ts.operators.GT:Ts.operators.LT;t.fail$data((0,Ts._)`Object.keys(${i}).length ${r} ${s}`)}};vp.default=mO});var sh=g(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});var Cs=ze(),Ds=R(),hO=M(),fO={message:({params:{missingProperty:t}})=>(0,Ds.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ds._)`{missingProperty: ${t}}`},yO={keyword:"required",type:"object",schemaType:"array",$data:!0,error:fO,code(t){let{gen:e,schema:i,schemaCode:s,data:r,$data:n,it:o}=t,{opts:a}=o;if(!n&&i.length===0)return;let p=i.length>=a.loopRequired;if(o.allErrors?c():d(),a.strictRequired){let y=t.parentSchema.properties,{definedProperties:h}=t.it;for(let m of i)if(y?.[m]===void 0&&!h.has(m)){let f=o.schemaEnv.baseId+o.errSchemaPath,x=`required property "${m}" is not defined at "${f}" (strictRequired)`;(0,hO.checkStrictMode)(o,x,o.opts.strictRequired)}}function c(){if(p||n)t.block$data(Ds.nil,l);else for(let y of i)(0,Cs.checkReportMissingProp)(t,y)}function d(){let y=e.let("missing");if(p||n){let h=e.let("valid",!0);t.block$data(h,()=>u(y,h)),t.ok(h)}else e.if((0,Cs.checkMissingProp)(t,i,y)),(0,Cs.reportMissingProp)(t,y),e.else()}function l(){e.forOf("prop",s,y=>{t.setParams({missingProperty:y}),e.if((0,Cs.noPropertyInData)(e,r,y,a.ownProperties),()=>t.error())})}function u(y,h){t.setParams({missingProperty:y}),e.forOf(y,s,()=>{e.assign(h,(0,Cs.propertyInData)(e,r,y,a.ownProperties)),e.if((0,Ds.not)(h),()=>{t.error(),e.break()})},Ds.nil)}}};wp.default=yO});var rh=g(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Rs=R(),gO={message({keyword:t,schemaCode:e}){let i=t==="maxItems"?"more":"fewer";return(0,Rs.str)`must NOT have ${i} than ${e} items`},params:({schemaCode:t})=>(0,Rs._)`{limit: ${t}}`},bO={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:gO,code(t){let{keyword:e,data:i,schemaCode:s}=t,r=e==="maxItems"?Rs.operators.GT:Rs.operators.LT;t.fail$data((0,Rs._)`${i}.length ${r} ${s}`)}};Ip.default=bO});var Pn=g(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});var nh=ln();nh.code='require("ajv/dist/runtime/equal").default';kp.default=nh});var oh=g(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});var qp=vs(),fe=R(),xO=M(),vO=Pn(),wO={message:({params:{i:t,j:e}})=>(0,fe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,fe._)`{i: ${t}, j: ${e}}`},IO={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:wO,code(t){let{gen:e,data:i,$data:s,schema:r,parentSchema:n,schemaCode:o,it:a}=t;if(!s&&!r)return;let p=e.let("valid"),c=n.items?(0,qp.getSchemaTypes)(n.items):[];t.block$data(p,d,(0,fe._)`${o} === false`),t.ok(p);function d(){let h=e.let("i",(0,fe._)`${i}.length`),m=e.let("j");t.setParams({i:h,j:m}),e.assign(p,!0),e.if((0,fe._)`${h} > 1`,()=>(l()?u:y)(h,m))}function l(){return c.length>0&&!c.some(h=>h==="object"||h==="array")}function u(h,m){let f=e.name("item"),x=(0,qp.checkDataTypes)(c,f,a.opts.strictNumbers,qp.DataType.Wrong),w=e.const("indices",(0,fe._)`{}`);e.for((0,fe._)`;${h}--;`,()=>{e.let(f,(0,fe._)`${i}[${h}]`),e.if(x,(0,fe._)`continue`),c.length>1&&e.if((0,fe._)`typeof ${f} == "string"`,(0,fe._)`${f} += "_"`),e.if((0,fe._)`typeof ${w}[${f}] == "number"`,()=>{e.assign(m,(0,fe._)`${w}[${f}]`),t.error(),e.assign(p,!1).break()}).code((0,fe._)`${w}[${f}] = ${h}`)})}function y(h,m){let f=(0,xO.useFunc)(e,vO.default),x=e.name("outer");e.label(x).for((0,fe._)`;${h}--;`,()=>e.for((0,fe._)`${m} = ${h}; ${m}--;`,()=>e.if((0,fe._)`${f}(${i}[${h}], ${i}[${m}])`,()=>{t.error(),e.assign(p,!1).break(x)})))}}};Ap.default=IO});var ah=g(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});var Op=R(),kO=M(),qO=Pn(),AO={message:"must be equal to constant",params:({schemaCode:t})=>(0,Op._)`{allowedValue: ${t}}`},OO={keyword:"const",$data:!0,error:AO,code(t){let{gen:e,data:i,$data:s,schemaCode:r,schema:n}=t;s||n&&typeof n=="object"?t.fail$data((0,Op._)`!${(0,kO.useFunc)(e,qO.default)}(${i}, ${r})`):t.fail((0,Op._)`${n} !== ${i}`)}};jp.default=OO});var ph=g(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});var Es=R(),jO=M(),PO=Pn(),SO={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Es._)`{allowedValues: ${t}}`},TO={keyword:"enum",schemaType:"array",$data:!0,error:SO,code(t){let{gen:e,data:i,$data:s,schema:r,schemaCode:n,it:o}=t;if(!s&&r.length===0)throw new Error("enum must have non-empty array");let a=r.length>=o.opts.loopEnum,p,c=()=>p??(p=(0,jO.useFunc)(e,PO.default)),d;if(a||s)d=e.let("valid"),t.block$data(d,l);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let y=e.const("vSchema",n);d=(0,Es.or)(...r.map((h,m)=>u(y,m)))}t.pass(d);function l(){e.assign(d,!1),e.forOf("v",n,y=>e.if((0,Es._)`${c()}(${i}, ${y})`,()=>e.assign(d,!0).break()))}function u(y,h){let m=r[h];return typeof m=="object"&&m!==null?(0,Es._)`${c()}(${i}, ${y}[${h}])`:(0,Es._)`${i} === ${m}`}}};Pp.default=TO});var ch=g(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});var CO=Gm(),DO=Ym(),RO=eh(),EO=th(),$O=ih(),_O=sh(),UO=rh(),NO=oh(),VO=ah(),zO=ph(),LO=[CO.default,DO.default,RO.default,EO.default,$O.default,_O.default,UO.default,NO.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},VO.default,zO.default];Sp.default=LO});var Cp=g($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.validateAdditionalItems=void 0;var si=R(),Tp=M(),HO={message:({params:{len:t}})=>(0,si.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,si._)`{limit: ${t}}`},BO={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:HO,code(t){let{parentSchema:e,it:i}=t,{items:s}=e;if(!Array.isArray(s)){(0,Tp.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}dh(t,s)}};function dh(t,e){let{gen:i,schema:s,data:r,keyword:n,it:o}=t;o.items=!0;let a=i.const("len",(0,si._)`${r}.length`);if(s===!1)t.setParams({len:e.length}),t.pass((0,si._)`${a} <= ${e.length}`);else if(typeof s=="object"&&!(0,Tp.alwaysValidSchema)(o,s)){let c=i.var("valid",(0,si._)`${a} <= ${e.length}`);i.if((0,si.not)(c),()=>p(c)),t.ok(c)}function p(c){i.forRange("i",e.length,a,d=>{t.subschema({keyword:n,dataProp:d,dataPropType:Tp.Type.Num},c),o.allErrors||i.if((0,si.not)(c),()=>i.break())})}}$s.validateAdditionalItems=dh;$s.default=BO});var Dp=g(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.validateTuple=void 0;var lh=R(),Sn=M(),WO=ze(),FO={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:i}=t;if(Array.isArray(e))return uh(t,"additionalItems",e);i.items=!0,!(0,Sn.alwaysValidSchema)(i,e)&&t.ok((0,WO.validateArray)(t))}};function uh(t,e,i=t.schema){let{gen:s,parentSchema:r,data:n,keyword:o,it:a}=t;d(r),a.opts.unevaluated&&i.length&&a.items!==!0&&(a.items=Sn.mergeEvaluated.items(s,i.length,a.items));let p=s.name("valid"),c=s.const("len",(0,lh._)`${n}.length`);i.forEach((l,u)=>{(0,Sn.alwaysValidSchema)(a,l)||(s.if((0,lh._)`${c} > ${u}`,()=>t.subschema({keyword:o,schemaProp:u,dataProp:u},p)),t.ok(p))});function d(l){let{opts:u,errSchemaPath:y}=a,h=i.length,m=h===l.minItems&&(h===l.maxItems||l[e]===!1);if(u.strictTuples&&!m){let f=`"${o}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,Sn.checkStrictMode)(a,f,u.strictTuples)}}}_s.validateTuple=uh;_s.default=FO});var mh=g(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});var ZO=Dp(),KO={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ZO.validateTuple)(t,"items")};Rp.default=KO});var fh=g(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});var hh=R(),MO=M(),JO=ze(),GO=Cp(),YO={message:({params:{len:t}})=>(0,hh.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,hh._)`{limit: ${t}}`},QO={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:YO,code(t){let{schema:e,parentSchema:i,it:s}=t,{prefixItems:r}=i;s.items=!0,!(0,MO.alwaysValidSchema)(s,e)&&(r?(0,GO.validateAdditionalItems)(t,r):t.ok((0,JO.validateArray)(t)))}};Ep.default=QO});var yh=g($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});var He=R(),Tn=M(),XO={message:({params:{min:t,max:e}})=>e===void 0?(0,He.str)`must contain at least ${t} valid item(s)`:(0,He.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,He._)`{minContains: ${t}}`:(0,He._)`{minContains: ${t}, maxContains: ${e}}`},ej={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:XO,code(t){let{gen:e,schema:i,parentSchema:s,data:r,it:n}=t,o,a,{minContains:p,maxContains:c}=s;n.opts.next?(o=p===void 0?1:p,a=c):o=1;let d=e.const("len",(0,He._)`${r}.length`);if(t.setParams({min:o,max:a}),a===void 0&&o===0){(0,Tn.checkStrictMode)(n,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&o>a){(0,Tn.checkStrictMode)(n,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Tn.alwaysValidSchema)(n,i)){let m=(0,He._)`${d} >= ${o}`;a!==void 0&&(m=(0,He._)`${m} && ${d} <= ${a}`),t.pass(m);return}n.items=!0;let l=e.name("valid");a===void 0&&o===1?y(l,()=>e.if(l,()=>e.break())):o===0?(e.let(l,!0),a!==void 0&&e.if((0,He._)`${r}.length > 0`,u)):(e.let(l,!1),u()),t.result(l,()=>t.reset());function u(){let m=e.name("_valid"),f=e.let("count",0);y(m,()=>e.if(m,()=>h(f)))}function y(m,f){e.forRange("i",0,d,x=>{t.subschema({keyword:"contains",dataProp:x,dataPropType:Tn.Type.Num,compositeRule:!0},m),f()})}function h(m){e.code((0,He._)`${m}++`),a===void 0?e.if((0,He._)`${m} >= ${o}`,()=>e.assign(l,!0).break()):(e.if((0,He._)`${m} > ${a}`,()=>e.assign(l,!1).break()),o===1?e.assign(l,!0):e.if((0,He._)`${m} >= ${o}`,()=>e.assign(l,!0)))}}};$p.default=ej});var xh=g(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.validateSchemaDeps=pt.validatePropertyDeps=pt.error=void 0;var _p=R(),tj=M(),Us=ze();pt.error={message:({params:{property:t,depsCount:e,deps:i}})=>{let s=e===1?"property":"properties";return(0,_p.str)`must have ${s} ${i} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:i,missingProperty:s}})=>(0,_p._)`{property: ${t},
    missingProperty: ${s},
    depsCount: ${e},
    deps: ${i}}`};var ij={keyword:"dependencies",type:"object",schemaType:"object",error:pt.error,code(t){let[e,i]=sj(t);gh(t,e),bh(t,i)}};function sj({schema:t}){let e={},i={};for(let s in t){if(s==="__proto__")continue;let r=Array.isArray(t[s])?e:i;r[s]=t[s]}return[e,i]}function gh(t,e=t.schema){let{gen:i,data:s,it:r}=t;if(Object.keys(e).length===0)return;let n=i.let("missing");for(let o in e){let a=e[o];if(a.length===0)continue;let p=(0,Us.propertyInData)(i,s,o,r.opts.ownProperties);t.setParams({property:o,depsCount:a.length,deps:a.join(", ")}),r.allErrors?i.if(p,()=>{for(let c of a)(0,Us.checkReportMissingProp)(t,c)}):(i.if((0,_p._)`${p} && (${(0,Us.checkMissingProp)(t,a,n)})`),(0,Us.reportMissingProp)(t,n),i.else())}}pt.validatePropertyDeps=gh;function bh(t,e=t.schema){let{gen:i,data:s,keyword:r,it:n}=t,o=i.name("valid");for(let a in e)(0,tj.alwaysValidSchema)(n,e[a])||(i.if((0,Us.propertyInData)(i,s,a,n.opts.ownProperties),()=>{let p=t.subschema({keyword:r,schemaProp:a},o);t.mergeValidEvaluated(p,o)},()=>i.var(o,!0)),t.ok(o))}pt.validateSchemaDeps=bh;pt.default=ij});var wh=g(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});var vh=R(),rj=M(),nj={message:"property name must be valid",params:({params:t})=>(0,vh._)`{propertyName: ${t.propertyName}}`},oj={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:nj,code(t){let{gen:e,schema:i,data:s,it:r}=t;if((0,rj.alwaysValidSchema)(r,i))return;let n=e.name("valid");e.forIn("key",s,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},n),e.if((0,vh.not)(n),()=>{t.error(!0),r.allErrors||e.break()})}),t.ok(n)}};Up.default=oj});var Vp=g(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});var Cn=ze(),Ge=R(),aj=rt(),Dn=M(),pj={message:"must NOT have additional properties",params:({params:t})=>(0,Ge._)`{additionalProperty: ${t.additionalProperty}}`},cj={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:pj,code(t){let{gen:e,schema:i,parentSchema:s,data:r,errsCount:n,it:o}=t;if(!n)throw new Error("ajv implementation error");let{allErrors:a,opts:p}=o;if(o.props=!0,p.removeAdditional!=="all"&&(0,Dn.alwaysValidSchema)(o,i))return;let c=(0,Cn.allSchemaProperties)(s.properties),d=(0,Cn.allSchemaProperties)(s.patternProperties);l(),t.ok((0,Ge._)`${n} === ${aj.default.errors}`);function l(){e.forIn("key",r,f=>{!c.length&&!d.length?h(f):e.if(u(f),()=>h(f))})}function u(f){let x;if(c.length>8){let w=(0,Dn.schemaRefOrVal)(o,s.properties,"properties");x=(0,Cn.isOwnProperty)(e,w,f)}else c.length?x=(0,Ge.or)(...c.map(w=>(0,Ge._)`${f} === ${w}`)):x=Ge.nil;return d.length&&(x=(0,Ge.or)(x,...d.map(w=>(0,Ge._)`${(0,Cn.usePattern)(t,w)}.test(${f})`))),(0,Ge.not)(x)}function y(f){e.code((0,Ge._)`delete ${r}[${f}]`)}function h(f){if(p.removeAdditional==="all"||p.removeAdditional&&i===!1){y(f);return}if(i===!1){t.setParams({additionalProperty:f}),t.error(),a||e.break();return}if(typeof i=="object"&&!(0,Dn.alwaysValidSchema)(o,i)){let x=e.name("valid");p.removeAdditional==="failing"?(m(f,x,!1),e.if((0,Ge.not)(x),()=>{t.reset(),y(f)})):(m(f,x),a||e.if((0,Ge.not)(x),()=>e.break()))}}function m(f,x,w){let I={keyword:"additionalProperties",dataProp:f,dataPropType:Dn.Type.Str};w===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(I,x)}}};Np.default=cj});var qh=g(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});var dj=Si(),Ih=ze(),zp=M(),kh=Vp(),lj={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:i,parentSchema:s,data:r,it:n}=t;n.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&kh.default.code(new dj.KeywordCxt(n,kh.default,"additionalProperties"));let o=(0,Ih.allSchemaProperties)(i);for(let l of o)n.definedProperties.add(l);n.opts.unevaluated&&o.length&&n.props!==!0&&(n.props=zp.mergeEvaluated.props(e,(0,zp.toHash)(o),n.props));let a=o.filter(l=>!(0,zp.alwaysValidSchema)(n,i[l]));if(a.length===0)return;let p=e.name("valid");for(let l of a)c(l)?d(l):(e.if((0,Ih.propertyInData)(e,r,l,n.opts.ownProperties)),d(l),n.allErrors||e.else().var(p,!0),e.endIf()),t.it.definedProperties.add(l),t.ok(p);function c(l){return n.opts.useDefaults&&!n.compositeRule&&i[l].default!==void 0}function d(l){t.subschema({keyword:"properties",schemaProp:l,dataProp:l},p)}}};Lp.default=lj});var Ph=g(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});var Ah=ze(),Rn=R(),Oh=M(),jh=M(),uj={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:i,data:s,parentSchema:r,it:n}=t,{opts:o}=n,a=(0,Ah.allSchemaProperties)(i),p=a.filter(m=>(0,Oh.alwaysValidSchema)(n,i[m]));if(a.length===0||p.length===a.length&&(!n.opts.unevaluated||n.props===!0))return;let c=o.strictSchema&&!o.allowMatchingProperties&&r.properties,d=e.name("valid");n.props!==!0&&!(n.props instanceof Rn.Name)&&(n.props=(0,jh.evaluatedPropsToName)(e,n.props));let{props:l}=n;u();function u(){for(let m of a)c&&y(m),n.allErrors?h(m):(e.var(d,!0),h(m),e.if(d))}function y(m){for(let f in c)new RegExp(m).test(f)&&(0,Oh.checkStrictMode)(n,`property ${f} matches pattern ${m} (use allowMatchingProperties)`)}function h(m){e.forIn("key",s,f=>{e.if((0,Rn._)`${(0,Ah.usePattern)(t,m)}.test(${f})`,()=>{let x=p.includes(m);x||t.subschema({keyword:"patternProperties",schemaProp:m,dataProp:f,dataPropType:jh.Type.Str},d),n.opts.unevaluated&&l!==!0?e.assign((0,Rn._)`${l}[${f}]`,!0):!x&&!n.allErrors&&e.if((0,Rn.not)(d),()=>e.break())})})}}};Hp.default=uj});var Sh=g(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});var mj=M(),hj={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:i,it:s}=t;if((0,mj.alwaysValidSchema)(s,i)){t.fail();return}let r=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Bp.default=hj});var Th=g(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});var fj=ze(),yj={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:fj.validateUnion,error:{message:"must match a schema in anyOf"}};Wp.default=yj});var Ch=g(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});var En=R(),gj=M(),bj={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,En._)`{passingSchemas: ${t.passing}}`},xj={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:bj,code(t){let{gen:e,schema:i,parentSchema:s,it:r}=t;if(!Array.isArray(i))throw new Error("ajv implementation error");if(r.opts.discriminator&&s.discriminator)return;let n=i,o=e.let("valid",!1),a=e.let("passing",null),p=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(o,()=>t.reset(),()=>t.error(!0));function c(){n.forEach((d,l)=>{let u;(0,gj.alwaysValidSchema)(r,d)?e.var(p,!0):u=t.subschema({keyword:"oneOf",schemaProp:l,compositeRule:!0},p),l>0&&e.if((0,En._)`${p} && ${o}`).assign(o,!1).assign(a,(0,En._)`[${a}, ${l}]`).else(),e.if(p,()=>{e.assign(o,!0),e.assign(a,l),u&&t.mergeEvaluated(u,En.Name)})})}}};Fp.default=xj});var Dh=g(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var vj=M(),wj={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:i,it:s}=t;if(!Array.isArray(i))throw new Error("ajv implementation error");let r=e.name("valid");i.forEach((n,o)=>{if((0,vj.alwaysValidSchema)(s,n))return;let a=t.subschema({keyword:"allOf",schemaProp:o},r);t.ok(r),t.mergeEvaluated(a)})}};Zp.default=wj});var $h=g(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var $n=R(),Eh=M(),Ij={message:({params:t})=>(0,$n.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,$n._)`{failingKeyword: ${t.ifClause}}`},kj={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Ij,code(t){let{gen:e,parentSchema:i,it:s}=t;i.then===void 0&&i.else===void 0&&(0,Eh.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let r=Rh(s,"then"),n=Rh(s,"else");if(!r&&!n)return;let o=e.let("valid",!0),a=e.name("_valid");if(p(),t.reset(),r&&n){let d=e.let("ifClause");t.setParams({ifClause:d}),e.if(a,c("then",d),c("else",d))}else r?e.if(a,c("then")):e.if((0,$n.not)(a),c("else"));t.pass(o,()=>t.error(!0));function p(){let d=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(d)}function c(d,l){return()=>{let u=t.subschema({keyword:d},a);e.assign(o,a),t.mergeValidEvaluated(u,o),l?e.assign(l,(0,$n._)`${d}`):t.setParams({ifClause:d})}}}};function Rh(t,e){let i=t.schema[e];return i!==void 0&&!(0,Eh.alwaysValidSchema)(t,i)}Kp.default=kj});var _h=g(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});var qj=M(),Aj={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:i}){e.if===void 0&&(0,qj.checkStrictMode)(i,`"${t}" without "if" is ignored`)}};Mp.default=Aj});var Uh=g(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var Oj=Cp(),jj=mh(),Pj=Dp(),Sj=fh(),Tj=yh(),Cj=xh(),Dj=wh(),Rj=Vp(),Ej=qh(),$j=Ph(),_j=Sh(),Uj=Th(),Nj=Ch(),Vj=Dh(),zj=$h(),Lj=_h();function Hj(t=!1){let e=[_j.default,Uj.default,Nj.default,Vj.default,zj.default,Lj.default,Dj.default,Rj.default,Cj.default,Ej.default,$j.default];return t?e.push(jj.default,Sj.default):e.push(Oj.default,Pj.default),e.push(Tj.default),e}Jp.default=Hj});var Nh=g(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});var ae=R(),Bj={message:({schemaCode:t})=>(0,ae.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ae._)`{format: ${t}}`},Wj={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Bj,code(t,e){let{gen:i,data:s,$data:r,schema:n,schemaCode:o,it:a}=t,{opts:p,errSchemaPath:c,schemaEnv:d,self:l}=a;if(!p.validateFormats)return;r?u():y();function u(){let h=i.scopeValue("formats",{ref:l.formats,code:p.code.formats}),m=i.const("fDef",(0,ae._)`${h}[${o}]`),f=i.let("fType"),x=i.let("format");i.if((0,ae._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>i.assign(f,(0,ae._)`${m}.type || "string"`).assign(x,(0,ae._)`${m}.validate`),()=>i.assign(f,(0,ae._)`"string"`).assign(x,m)),t.fail$data((0,ae.or)(w(),I()));function w(){return p.strictSchema===!1?ae.nil:(0,ae._)`${o} && !${x}`}function I(){let A=d.$async?(0,ae._)`(${m}.async ? await ${x}(${s}) : ${x}(${s}))`:(0,ae._)`${x}(${s})`,q=(0,ae._)`(typeof ${x} == "function" ? ${A} : ${x}.test(${s}))`;return(0,ae._)`${x} && ${x} !== true && ${f} === ${e} && !${q}`}}function y(){let h=l.formats[n];if(!h){w();return}if(h===!0)return;let[m,f,x]=I(h);m===e&&t.pass(A());function w(){if(p.strictSchema===!1){l.logger.warn(q());return}throw new Error(q());function q(){return`unknown format "${n}" ignored in schema at path "${c}"`}}function I(q){let v=q instanceof RegExp?(0,ae.regexpCode)(q):p.code.formats?(0,ae._)`${p.code.formats}${(0,ae.getProperty)(n)}`:void 0,O=i.scopeValue("formats",{key:n,ref:q,code:v});return typeof q=="object"&&!(q instanceof RegExp)?[q.type||"string",q.validate,(0,ae._)`${O}.validate`]:["string",q,O]}function A(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!d.$async)throw new Error("async format in sync schema");return(0,ae._)`await ${x}(${s})`}return typeof f=="function"?(0,ae._)`${x}(${s})`:(0,ae._)`${x}.test(${s})`}}}};Gp.default=Wj});var Vh=g(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var Fj=Nh(),Zj=[Fj.default];Yp.default=Zj});var zh=g(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.contentVocabulary=Ri.metadataVocabulary=void 0;Ri.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ri.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Hh=g(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var Kj=Jm(),Mj=ch(),Jj=Uh(),Gj=Vh(),Lh=zh(),Yj=[Kj.default,Mj.default,(0,Jj.default)(),Gj.default,Lh.metadataVocabulary,Lh.contentVocabulary];Qp.default=Yj});var Wh=g(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.DiscrError=void 0;var Bh;(function(t){t.Tag="tag",t.Mapping="mapping"})(Bh||(_n.DiscrError=Bh={}))});var Zh=g(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var Ei=R(),Xp=Wh(),Fh=gn(),Qj=qs(),Xj=M(),eP={message:({params:{discrError:t,tagName:e}})=>t===Xp.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:i}})=>(0,Ei._)`{error: ${t}, tag: ${i}, tagValue: ${e}}`},tP={keyword:"discriminator",type:"object",schemaType:"object",error:eP,code(t){let{gen:e,data:i,schema:s,parentSchema:r,it:n}=t,{oneOf:o}=r;if(!n.opts.discriminator)throw new Error("discriminator: requires discriminator option");let a=s.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let p=e.let("valid",!1),c=e.const("tag",(0,Ei._)`${i}${(0,Ei.getProperty)(a)}`);e.if((0,Ei._)`typeof ${c} == "string"`,()=>d(),()=>t.error(!1,{discrError:Xp.DiscrError.Tag,tag:c,tagName:a})),t.ok(p);function d(){let y=u();e.if(!1);for(let h in y)e.elseIf((0,Ei._)`${c} === ${h}`),e.assign(p,l(y[h]));e.else(),t.error(!1,{discrError:Xp.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function l(y){let h=e.name("valid"),m=t.subschema({keyword:"oneOf",schemaProp:y},h);return t.mergeEvaluated(m,Ei.Name),h}function u(){var y;let h={},m=x(r),f=!0;for(let A=0;A<o.length;A++){let q=o[A];if(q?.$ref&&!(0,Xj.schemaHasRulesButRef)(q,n.self.RULES)){let O=q.$ref;if(q=Fh.resolveRef.call(n.self,n.schemaEnv.root,n.baseId,O),q instanceof Fh.SchemaEnv&&(q=q.schema),q===void 0)throw new Qj.default(n.opts.uriResolver,n.baseId,O)}let v=(y=q?.properties)===null||y===void 0?void 0:y[a];if(typeof v!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);f=f&&(m||x(q)),w(v,A)}if(!f)throw new Error(`discriminator: "${a}" must be required`);return h;function x({required:A}){return Array.isArray(A)&&A.includes(a)}function w(A,q){if(A.const)I(A.const,q);else if(A.enum)for(let v of A.enum)I(v,q);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function I(A,q){if(typeof A!="string"||A in h)throw new Error(`discriminator: "${a}" values must be unique strings`);h[A]=q}}}};ec.default=tP});var Kh=g((QV,iP)=>{iP.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Nn=g((te,tc)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MissingRefError=te.ValidationError=te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=te.Ajv=void 0;var sP=Bm(),rP=Hh(),nP=Zh(),Mh=Kh(),oP=["/properties"],Un="http://json-schema.org/draft-07/schema",$i=class extends sP.default{_addVocabularies(){super._addVocabularies(),rP.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(nP.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Mh,oP):Mh;this.addMetaSchema(e,Un,!1),this.refs["http://json-schema.org/schema"]=Un}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Un)?Un:void 0)}};te.Ajv=$i;tc.exports=te=$i;tc.exports.Ajv=$i;Object.defineProperty(te,"__esModule",{value:!0});te.default=$i;var aP=Si();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return aP.KeywordCxt}});var _i=R();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return _i._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return _i.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return _i.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return _i.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return _i.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return _i.CodeGen}});var pP=fn();Object.defineProperty(te,"ValidationError",{enumerable:!0,get:function(){return pP.default}});var cP=qs();Object.defineProperty(te,"MissingRefError",{enumerable:!0,get:function(){return cP.default}})});var sf=g(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.formatNames=dt.fastFormats=dt.fullFormats=void 0;function ct(t,e){return{validate:t,compare:e}}dt.fullFormats={date:ct(Qh,nc),time:ct(sc(!0),oc),"date-time":ct(Jh(!0),ef),"iso-time":ct(sc(),Xh),"iso-date-time":ct(Jh(),tf),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:fP,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:IP,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:yP,int32:{type:"number",validate:xP},int64:{type:"number",validate:vP},float:{type:"number",validate:Yh},double:{type:"number",validate:Yh},password:!0,binary:!0};dt.fastFormats={...dt.fullFormats,date:ct(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,nc),time:ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,oc),"date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,ef),"iso-time":ct(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Xh),"iso-date-time":ct(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,tf),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};dt.formatNames=Object.keys(dt.fullFormats);function dP(t){return t%4===0&&(t%100!==0||t%400===0)}var lP=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,uP=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Qh(t){let e=lP.exec(t);if(!e)return!1;let i=+e[1],s=+e[2],r=+e[3];return s>=1&&s<=12&&r>=1&&r<=(s===2&&dP(i)?29:uP[s])}function nc(t,e){if(t&&e)return t>e?1:t<e?-1:0}var ic=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function sc(t){return function(i){let s=ic.exec(i);if(!s)return!1;let r=+s[1],n=+s[2],o=+s[3],a=s[4],p=s[5]==="-"?-1:1,c=+(s[6]||0),d=+(s[7]||0);if(c>23||d>59||t&&!a)return!1;if(r<=23&&n<=59&&o<60)return!0;let l=n-d*p,u=r-c*p-(l<0?1:0);return(u===23||u===-1)&&(l===59||l===-1)&&o<61}}function oc(t,e){if(!(t&&e))return;let i=new Date("2020-01-01T"+t).valueOf(),s=new Date("2020-01-01T"+e).valueOf();if(i&&s)return i-s}function Xh(t,e){if(!(t&&e))return;let i=ic.exec(t),s=ic.exec(e);if(i&&s)return t=i[1]+i[2]+i[3],e=s[1]+s[2]+s[3],t>e?1:t<e?-1:0}var rc=/t|\s/i;function Jh(t){let e=sc(t);return function(s){let r=s.split(rc);return r.length===2&&Qh(r[0])&&e(r[1])}}function ef(t,e){if(!(t&&e))return;let i=new Date(t).valueOf(),s=new Date(e).valueOf();if(i&&s)return i-s}function tf(t,e){if(!(t&&e))return;let[i,s]=t.split(rc),[r,n]=e.split(rc),o=nc(i,r);if(o!==void 0)return o||oc(s,n)}var mP=/\/|:/,hP=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function fP(t){return mP.test(t)&&hP.test(t)}var Gh=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function yP(t){return Gh.lastIndex=0,Gh.test(t)}var gP=-(2**31),bP=2**31-1;function xP(t){return Number.isInteger(t)&&t<=bP&&t>=gP}function vP(t){return Number.isInteger(t)}function Yh(){return!0}var wP=/[^\\]\\Z/;function IP(t){if(wP.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var rf=g(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.formatLimitDefinition=void 0;var kP=Nn(),Ye=R(),Tt=Ye.operators,Vn={formatMaximum:{okStr:"<=",ok:Tt.LTE,fail:Tt.GT},formatMinimum:{okStr:">=",ok:Tt.GTE,fail:Tt.LT},formatExclusiveMaximum:{okStr:"<",ok:Tt.LT,fail:Tt.GTE},formatExclusiveMinimum:{okStr:">",ok:Tt.GT,fail:Tt.LTE}},qP={message:({keyword:t,schemaCode:e})=>(0,Ye.str)`should be ${Vn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Ye._)`{comparison: ${Vn[t].okStr}, limit: ${e}}`};Ui.formatLimitDefinition={keyword:Object.keys(Vn),type:"string",schemaType:"string",$data:!0,error:qP,code(t){let{gen:e,data:i,schemaCode:s,keyword:r,it:n}=t,{opts:o,self:a}=n;if(!o.validateFormats)return;let p=new kP.KeywordCxt(n,a.RULES.all.format.definition,"format");p.$data?c():d();function c(){let u=e.scopeValue("formats",{ref:a.formats,code:o.code.formats}),y=e.const("fmt",(0,Ye._)`${u}[${p.schemaCode}]`);t.fail$data((0,Ye.or)((0,Ye._)`typeof ${y} != "object"`,(0,Ye._)`${y} instanceof RegExp`,(0,Ye._)`typeof ${y}.compare != "function"`,l(y)))}function d(){let u=p.schema,y=a.formats[u];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${r}": format "${u}" does not define "compare" function`);let h=e.scopeValue("formats",{key:u,ref:y,code:o.code.formats?(0,Ye._)`${o.code.formats}${(0,Ye.getProperty)(u)}`:void 0});t.fail$data(l(h))}function l(u){return(0,Ye._)`${u}.compare(${i}, ${s}) ${Vn[r].fail} 0`}},dependencies:["format"]};var AP=t=>(t.addKeyword(Ui.formatLimitDefinition),t);Ui.default=AP});var pf=g((Ns,af)=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var Ni=sf(),OP=rf(),ac=R(),nf=new ac.Name("fullFormats"),jP=new ac.Name("fastFormats"),pc=(t,e={keywords:!0})=>{if(Array.isArray(e))return of(t,e,Ni.fullFormats,nf),t;let[i,s]=e.mode==="fast"?[Ni.fastFormats,jP]:[Ni.fullFormats,nf],r=e.formats||Ni.formatNames;return of(t,r,i,s),e.keywords&&(0,OP.default)(t),t};pc.get=(t,e="full")=>{let s=(e==="fast"?Ni.fastFormats:Ni.fullFormats)[t];if(!s)throw new Error(`Unknown format "${t}"`);return s};function of(t,e,i,s){var r,n;(r=(n=t.opts.code).formats)!==null&&r!==void 0||(n.formats=(0,ac._)`require("ajv-formats/dist/formats").${s}`);for(let o of e)t.addFormat(o,i[o])}af.exports=Ns=pc;Object.defineProperty(Ns,"__esModule",{value:!0});Ns.default=pc});var mf=g((cc,uf)=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var cf=R(),df=["undefined","string","number","object","function","boolean","symbol"];function lf(){return{keyword:"typeof",schemaType:["string","array"],code(t){let{data:e,schema:i,schemaValue:s}=t;t.fail(typeof i=="string"?(0,cf._)`typeof ${e} != ${i}`:(0,cf._)`${s}.indexOf(typeof ${e}) < 0`)},metaSchema:{anyOf:[{type:"string",enum:df},{type:"array",items:{type:"string",enum:df}}]}}}cc.default=lf;uf.exports=lf});var yf=g((Vs,ff)=>{"use strict";var PP=Vs&&Vs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});var SP=PP(mf()),hf=t=>t.addKeyword((0,SP.default)());Vs.default=hf;ff.exports=hf});var vf=g((dc,xf)=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var zn={Object,Array,Function,Number,String,Date,RegExp};typeof Buffer<"u"&&(zn.Buffer=Buffer);typeof Promise<"u"&&(zn.Promise=Promise);var bf=Object.assign(TP,{CONSTRUCTORS:zn});function TP(){return{keyword:"instanceof",schemaType:["string","array"],compile(t){if(typeof t=="string"){let e=gf(t);return i=>i instanceof e}if(Array.isArray(t)){let e=t.map(gf);return i=>{for(let s of e)if(i instanceof s)return!0;return!1}}throw new Error("ajv implementation error")},metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}}}function gf(t){let e=zn[t];if(e)return e;throw new Error(`invalid "instanceof" keyword value ${t}`)}dc.default=bf;xf.exports=bf});var kf=g((zs,If)=>{"use strict";var CP=zs&&zs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});var DP=CP(vf()),wf=t=>t.addKeyword((0,DP.default)());zs.default=wf;If.exports=wf});var uc=g(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});function RP(t){return()=>({keyword:t,type:"number",schemaType:"array",macro:function([i,s]){return e(i,s),t==="range"?{minimum:i,maximum:s}:{exclusiveMinimum:i,exclusiveMaximum:s}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}});function e(i,s){if(i>s||t==="exclusiveRange"&&i===s)throw new Error("There are no numbers in range")}}lc.default=RP});var Of=g((Ls,Af)=>{"use strict";var EP=Ls&&Ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});var $P=EP(uc()),qf=(0,$P.default)("range");Ls.default=qf;Af.exports=qf});var Sf=g((Hs,Pf)=>{"use strict";var _P=Hs&&Hs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hs,"__esModule",{value:!0});var UP=_P(Of()),jf=t=>t.addKeyword((0,UP.default)());Hs.default=jf;Pf.exports=jf});var Df=g((Bs,Cf)=>{"use strict";var NP=Bs&&Bs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});var VP=NP(uc()),Tf=(0,VP.default)("exclusiveRange");Bs.default=Tf;Cf.exports=Tf});var $f=g((Ws,Ef)=>{"use strict";var zP=Ws&&Ws.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ws,"__esModule",{value:!0});var LP=zP(Df()),Rf=t=>t.addKeyword((0,LP.default)());Ws.default=Rf;Ef.exports=Rf});var Fs=g(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.usePattern=Vi.metaSchemaRef=void 0;var HP=R(),BP="http://json-schema.org/schema";function WP({defaultMeta:t}={}){return t===!1?{}:{$ref:t||BP}}Vi.metaSchemaRef=WP;function FP({gen:t,it:{opts:e}},i,s=e.unicodeRegExp?"u":""){let r=new RegExp(i,s);return t.scopeValue("pattern",{key:r.toString(),ref:r,code:(0,HP._)`new RegExp(${i}, ${s})`})}Vi.usePattern=FP});var Vf=g((mc,Nf)=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var ZP=R(),_f=Fs(),KP={type:"object",properties:{pattern:{type:"string"},flags:{type:"string",nullable:!0}},required:["pattern"],additionalProperties:!1},MP=/^\/(.*)\/([gimuy]*)$/;function Uf(){return{keyword:"regexp",type:"string",schemaType:["string","object"],code(t){let{data:e,schema:i}=t,s=r(i);t.pass((0,ZP._)`${s}.test(${e})`);function r(n){if(typeof n=="object")return(0,_f.usePattern)(t,n.pattern,n.flags);let o=MP.exec(n);if(o)return(0,_f.usePattern)(t,o[1],o[2]);throw new Error("cannot parse string into RegExp")}},metaSchema:{anyOf:[{type:"string"},KP]}}}mc.default=Uf;Nf.exports=Uf});var Hf=g((Zs,Lf)=>{"use strict";var JP=Zs&&Zs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});var GP=JP(Vf()),zf=t=>t.addKeyword((0,GP.default)());Zs.default=zf;Lf.exports=zf});var Zf=g((hc,Ff)=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var ri=R(),Ln={trimStart:t=>t.trimStart(),trimEnd:t=>t.trimEnd(),trimLeft:t=>t.trimStart(),trimRight:t=>t.trimEnd(),trim:t=>t.trim(),toLowerCase:t=>t.toLowerCase(),toUpperCase:t=>t.toUpperCase(),toEnumCase:(t,e)=>e?.hash[Wf(t)]||t},Bf=Object.assign(YP,{transform:Ln});function YP(){return{keyword:"transform",schemaType:"array",before:"enum",code(t){let{gen:e,data:i,schema:s,parentSchema:r,it:n}=t,{parentData:o,parentDataProperty:a}=n,p=s;if(!p.length)return;let c;if(p.includes("toEnumCase")){let l=QP(r);c=e.scopeValue("obj",{ref:l,code:(0,ri.stringify)(l)})}e.if((0,ri._)`typeof ${i} == "string" && ${o} !== undefined`,()=>{e.assign(i,d(p.slice())),e.assign((0,ri._)`${o}[${a}]`,i)});function d(l){if(!l.length)return i;let u=l.pop();if(!(u in Ln))throw new Error(`transform: unknown transformation ${u}`);let y=e.scopeValue("func",{ref:Ln[u],code:(0,ri._)`require("ajv-keywords/dist/definitions/transform").transform${(0,ri.getProperty)(u)}`}),h=d(l);return c&&u==="toEnumCase"?(0,ri._)`${y}(${h}, ${c})`:(0,ri._)`${y}(${h})`}},metaSchema:{type:"array",items:{type:"string",enum:Object.keys(Ln)}}}}function QP(t){let e={hash:{}};if(!t.enum)throw new Error('transform: "toEnumCase" requires "enum"');for(let i of t.enum){if(typeof i!="string")continue;let s=Wf(i);if(e.hash[s])throw new Error('transform: "toEnumCase" requires all lowercased "enum" values to be unique');e.hash[s]=i}return e}function Wf(t){return t.toLowerCase()}hc.default=Bf;Ff.exports=Bf});var Jf=g((Ks,Mf)=>{"use strict";var XP=Ks&&Ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});var eS=XP(Zf()),Kf=t=>t.addKeyword((0,eS.default)());Ks.default=Kf;Mf.exports=Kf});var Qf=g((fc,Yf)=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});var tS=ln(),iS=["number","integer","string","boolean","null"];function Gf(){return{keyword:"uniqueItemProperties",type:"array",schemaType:"array",compile(t,e){let i=sS(t,e);return s=>{if(s.length<=1)return!0;for(let r=0;r<t.length;r++){let n=t[r];if(i[r]){let o={};for(let a of s){if(!a||typeof a!="object")continue;let p=a[n];if(!(p&&typeof p=="object")){if(typeof p=="string"&&(p='"'+p),o[p])return!1;o[p]=!0}}}else for(let o=s.length;o--;){let a=s[o];if(!(!a||typeof a!="object"))for(let p=o;p--;){let c=s[p];if(c&&typeof c=="object"&&tS(a[n],c[n]))return!1}}}return!0}},metaSchema:{type:"array",items:{type:"string"}}}}fc.default=Gf;function sS(t,e){return t.map(i=>{var s,r,n;let o=(n=(r=(s=e.items)===null||s===void 0?void 0:s.properties)===null||r===void 0?void 0:r[i])===null||n===void 0?void 0:n.type;return Array.isArray(o)?!o.includes("object")&&!o.includes("array"):iS.includes(o)})}Yf.exports=Gf});var ty=g((Ms,ey)=>{"use strict";var rS=Ms&&Ms.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ms,"__esModule",{value:!0});var nS=rS(Qf()),Xf=t=>t.addKeyword((0,nS.default)());Ms.default=Xf;ey.exports=Xf});var ry=g((yc,sy)=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});function iy(){return{keyword:"allRequired",type:"object",schemaType:"boolean",macro(t,e){if(!t)return!0;let i=Object.keys(e.properties);return i.length===0?!0:{required:i}},dependencies:["properties"]}}yc.default=iy;sy.exports=iy});var ay=g((Js,oy)=>{"use strict";var oS=Js&&Js.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});var aS=oS(ry()),ny=t=>t.addKeyword((0,aS.default)());Js.default=ny;oy.exports=ny});var bc=g(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});function pS(t){return()=>({keyword:t,type:"object",schemaType:"array",macro(e){return e.length===0?!0:e.length===1?{required:e}:{[t==="anyRequired"?"anyOf":"oneOf"]:e.map(s=>({required:[s]}))}},metaSchema:{type:"array",items:{type:"string"}}})}gc.default=pS});var dy=g((Gs,cy)=>{"use strict";var cS=Gs&&Gs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});var dS=cS(bc()),py=(0,dS.default)("anyRequired");Gs.default=py;cy.exports=py});var my=g((Ys,uy)=>{"use strict";var lS=Ys&&Ys.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ys,"__esModule",{value:!0});var uS=lS(dy()),ly=t=>t.addKeyword((0,uS.default)());Ys.default=ly;uy.exports=ly});var yy=g((Qs,fy)=>{"use strict";var mS=Qs&&Qs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qs,"__esModule",{value:!0});var hS=mS(bc()),hy=(0,hS.default)("oneRequired");Qs.default=hy;fy.exports=hy});var xy=g((Xs,by)=>{"use strict";var fS=Xs&&Xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});var yS=fS(yy()),gy=t=>t.addKeyword((0,yS.default)());Xs.default=gy;by.exports=gy});var Iy=g((xc,wy)=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Hn=R(),gS=Fs(),bS={message:({params:{missingPattern:t}})=>(0,Hn.str)`should have property matching pattern '${t}'`,params:({params:{missingPattern:t}})=>(0,Hn._)`{missingPattern: ${t}}`};function vy(){return{keyword:"patternRequired",type:"object",schemaType:"array",error:bS,code(t){let{gen:e,schema:i,data:s}=t;if(i.length===0)return;let r=e.let("valid",!0);for(let o of i)n(o);function n(o){let a=e.let("matched",!1);e.forIn("key",s,p=>{e.assign(a,(0,Hn._)`${(0,gS.usePattern)(t,o)}.test(${p})`),e.if(a,()=>e.break())}),t.setParams({missingPattern:o}),e.assign(r,(0,Hn.and)(r,a)),t.pass(r)}},metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}}}xc.default=vy;wy.exports=vy});var Ay=g((er,qy)=>{"use strict";var xS=er&&er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(er,"__esModule",{value:!0});var vS=xS(Iy()),ky=t=>t.addKeyword((0,vS.default)());er.default=ky;qy.exports=ky});var Py=g((vc,jy)=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});function Oy(){return{keyword:"prohibited",type:"object",schemaType:"array",macro:function(t){return t.length===0?!0:t.length===1?{not:{required:t}}:{not:{anyOf:t.map(e=>({required:[e]}))}}},metaSchema:{type:"array",items:{type:"string"}}}}vc.default=Oy;jy.exports=Oy});var Cy=g((tr,Ty)=>{"use strict";var wS=tr&&tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});var IS=wS(Py()),Sy=t=>t.addKeyword((0,IS.default)());tr.default=Sy;Ty.exports=Sy});var Ey=g((wc,Ry)=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});var kS=Fs();function Dy(t){return{keyword:"deepProperties",type:"object",schemaType:"object",macro:function(e){let i=[];for(let s in e)i.push(qS(s,e[s]));return{allOf:i}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:(0,kS.metaSchemaRef)(t)}}}wc.default=Dy;function qS(t,e){let i=t.split("/"),s={},r=s;for(let n=1;n<i.length;n++){let o=i[n],a=n===i.length-1;o=AS(o);let p=r.properties={},c;if(/[0-9]+/.test(o)){let d=+o;for(c=r.items=[],r.type=["object","array"];d--;)c.push({})}else r.type="object";r=a?e:{},p[o]=r,c&&c.push(r)}return s}function AS(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Ry.exports=Dy});var Uy=g((ir,_y)=>{"use strict";var OS=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ir,"__esModule",{value:!0});var jS=OS(Ey()),$y=(t,e)=>t.addKeyword((0,jS.default)(e));ir.default=$y;_y.exports=$y});var zy=g((Ic,Vy)=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var sr=R();function Ny(){return{keyword:"deepRequired",type:"object",schemaType:"array",code(t){let{schema:e,data:i}=t,s=e.map(n=>(0,sr._)`(${r(n)}) === undefined`);t.fail((0,sr.or)(...s));function r(n){if(n==="")throw new Error("empty JSON pointer not allowed");let o=n.split("/"),a=i,p=o.map((c,d)=>d?a=(0,sr._)`${a}${(0,sr.getProperty)(PS(c))}`:a);return(0,sr.and)(...p)}},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}}}Ic.default=Ny;function PS(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Vy.exports=Ny});var By=g((rr,Hy)=>{"use strict";var SS=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});var TS=SS(zy()),Ly=t=>t.addKeyword((0,TS.default)());rr.default=Ly;Hy.exports=Ly});var Oc=g((Ac,Zy)=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var kc={},qc={timestamp:()=>()=>Date.now(),datetime:()=>()=>new Date().toISOString(),date:()=>()=>new Date().toISOString().slice(0,10),time:()=>()=>new Date().toISOString().slice(11),random:()=>()=>Math.random(),randomint:t=>{var e;let i=(e=t?.max)!==null&&e!==void 0?e:2;return()=>Math.floor(Math.random()*i)},seq:t=>{var e;let i=(e=t?.name)!==null&&e!==void 0?e:"";return kc[i]||(kc[i]=0),()=>kc[i]++}},Wy=Object.assign(CS,{DEFAULTS:qc});function CS(){return{keyword:"dynamicDefaults",type:"object",schemaType:["string","object"],modifying:!0,valid:!0,compile(t,e,i){if(!i.opts.useDefaults||i.compositeRule)return()=>!0;let s={};for(let n in t)s[n]=DS(t[n]);let r=i.opts.useDefaults==="empty";return n=>{for(let o in t)(n[o]===void 0||r&&(n[o]===null||n[o]===""))&&(n[o]=s[o]());return!0}},metaSchema:{type:"object",additionalProperties:{anyOf:[{type:"string"},{type:"object",additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}]}}}}function DS(t){return typeof t=="object"?RS(t):ES(t)}function RS({func:t,args:e}){let i=qc[t];return Fy(t,i),i(e)}function ES(t=""){let e=qc[t];return Fy(t,e),e()}function Fy(t,e){if(!e)throw new Error(`invalid "dynamicDefaults" keyword property value: ${t}`)}Ac.default=Wy;Zy.exports=Wy});var Jy=g((nr,My)=>{"use strict";var $S=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nr,"__esModule",{value:!0});var _S=$S(Oc()),Ky=t=>t.addKeyword((0,_S.default)());nr.default=Ky;My.exports=Ky});var Qy=g((jc,Yy)=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});var xt=R(),US=Fs(),NS={message:({params:{schemaProp:t}})=>t?(0,xt.str)`should match case "${t}" schema`:(0,xt.str)`should match default case schema`,params:({params:{schemaProp:t}})=>t?(0,xt._)`{failingCase: ${t}}`:(0,xt._)`{failingDefault: true}`};function Gy(t){let e=(0,US.metaSchemaRef)(t);return[{keyword:"select",schemaType:["string","number","boolean","null"],$data:!0,error:NS,dependencies:["selectCases"],code(i){let{gen:s,schemaCode:r,parentSchema:n}=i;i.block$data(xt.nil,()=>{let o=s.let("valid",!0),a=s.name("_valid"),p=s.const("value",(0,xt._)`${r} === null ? "null" : ${r}`);s.if(!1);for(let c in n.selectCases){i.setParams({schemaProp:c}),s.elseIf((0,xt._)`"" + ${p} == ${c}`);let d=i.subschema({keyword:"selectCases",schemaProp:c},a);i.mergeEvaluated(d,xt.Name),s.assign(o,a)}if(s.else(),n.selectDefault!==void 0){i.setParams({schemaProp:void 0});let c=i.subschema({keyword:"selectDefault"},a);i.mergeEvaluated(c,xt.Name),s.assign(o,a)}s.endIf(),i.pass(o)})}},{keyword:"selectCases",dependencies:["select"],metaSchema:{type:"object",additionalProperties:e}},{keyword:"selectDefault",dependencies:["select","selectCases"],metaSchema:e}]}jc.default=Gy;Yy.exports=Gy});var tg=g((or,eg)=>{"use strict";var VS=or&&or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(or,"__esModule",{value:!0});var zS=VS(Qy()),Xy=(t,e)=>((0,zS.default)(e).forEach(i=>t.addKeyword(i)),t);or.default=Xy;eg.exports=Xy});var rg=g((ar,sg)=>{"use strict";var we=ar&&ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});var LS=we(yf()),HS=we(kf()),BS=we(Sf()),WS=we($f()),FS=we(Hf()),ZS=we(Jf()),KS=we(ty()),MS=we(ay()),JS=we(my()),GS=we(xy()),YS=we(Ay()),QS=we(Cy()),XS=we(Uy()),eT=we(By()),tT=we(Jy()),iT=we(tg()),ig={typeof:LS.default,instanceof:HS.default,range:BS.default,exclusiveRange:WS.default,regexp:FS.default,transform:ZS.default,uniqueItemProperties:KS.default,allRequired:MS.default,anyRequired:JS.default,oneRequired:GS.default,patternRequired:YS.default,prohibited:QS.default,deepProperties:XS.default,deepRequired:eT.default,dynamicDefaults:tT.default,select:iT.default};ar.default=ig;sg.exports=ig});var og=g((pr,Pc)=>{"use strict";var sT=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});var ng=sT(rg()),Wn=(t,e)=>{if(Array.isArray(e)){for(let i of e)Bn(i)(t);return t}if(e)return Bn(e)(t),t;for(e in ng.default)Bn(e)(t);return t};Wn.get=Bn;function Bn(t){let e=ng.default[t];if(!e)throw new Error("Unknown keyword "+t);return e}pr.default=Wn;Pc.exports=Wn;Pc.exports.default=Wn});var dg=g((Tc,Cc)=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});var j=Nn(),Ct=R(),ag=vi(),rT=Si(),cr=ki(),Qe=rt(),Fn="errorMessage",Dt=new j.Name("emUsed"),pg={required:"missingProperty",dependencies:"property",dependentRequired:"property"},cg=/\$\{[^}]+\}/,nT=/\$\{([^}]+)\}/g,oT=/^""\s*\+\s*|\s*\+\s*""$/g;function aT(t){return{keyword:Fn,schemaType:["string","object"],post:!0,code(e){let{gen:i,data:s,schema:r,schemaValue:n,it:o}=e;if(o.createErrors===!1)return;let a=r,p=Ct.strConcat(Qe.default.instancePath,o.errorPath);i.if(j._`${Qe.default.errors} > 0`,()=>{if(typeof a=="object"){let[O,k]=d(a);k&&l(k),O&&u(O),y(c(a))}let v=typeof a=="string"?a:a._;v&&h(v),t.keepErrors||m()});function c({properties:v,items:O}){let k={};if(v){k.props={};for(let T in v)k.props[T]=[]}if(O){k.items={};for(let T=0;T<O.length;T++)k.items[T]=[]}return k}function d(v){let O,k;for(let T in v){if(T==="properties"||T==="items")continue;let N=v[T];if(typeof N=="object"){O||(O={});let L=O[T]={};for(let S in N)L[S]=[]}else k||(k={}),k[T]=[]}return[O,k]}function l(v){let O=i.const("emErrors",j.stringify(v)),k=i.const("templates",I(v,r));i.forOf("err",Qe.default.vErrors,S=>i.if(f(S,O),()=>i.code(j._`${O}[${S}.keyword].push(${S})`).assign(j._`${S}.${Dt}`,!0)));let{singleError:T}=t;if(T){let S=i.let("message",j._`""`),$=i.let("paramsErrors",j._`[]`);N(ie=>{i.if(S,()=>i.code(j._`${S} += ${typeof T=="string"?T:";"}`)),i.code(j._`${S} += ${L(ie)}`),i.assign($,j._`${$}.concat(${O}[${ie}])`)}),cr.reportError(e,{message:S,params:j._`{errors: ${$}}`})}else N(S=>cr.reportError(e,{message:L(S),params:j._`{errors: ${O}[${S}]}`}));function N(S){i.forIn("key",O,$=>i.if(j._`${O}[${$}].length`,()=>S($)))}function L(S){return j._`${S} in ${k} ? ${k}[${S}]() : ${n}[${S}]`}}function u(v){let O=i.const("emErrors",j.stringify(v)),k=[];for(let $ in v)k.push([$,I(v[$],r[$])]);let T=i.const("templates",i.object(...k)),N=i.scopeValue("obj",{ref:pg,code:j.stringify(pg)}),L=i.let("emPropParams"),S=i.let("emParamsErrors");i.forOf("err",Qe.default.vErrors,$=>i.if(f($,O),()=>{i.assign(L,j._`${N}[${$}.keyword]`),i.assign(S,j._`${O}[${$}.keyword][${$}.params[${L}]]`),i.if(S,()=>i.code(j._`${S}.push(${$})`).assign(j._`${$}.${Dt}`,!0))})),i.forIn("key",O,$=>i.forIn("keyProp",j._`${O}[${$}]`,ie=>{i.assign(S,j._`${O}[${$}][${ie}]`),i.if(j._`${S}.length`,()=>{let ge=i.const("tmpl",j._`${T}[${$}] && ${T}[${$}][${ie}]`);cr.reportError(e,{message:j._`${ge} ? ${ge}() : ${n}[${$}][${ie}]`,params:j._`{errors: ${S}}`})})}))}function y(v){let{props:O,items:k}=v;if(!O&&!k)return;let T=j._`typeof ${s} == "object"`,N=j._`Array.isArray(${s})`,L=i.let("emErrors"),S,$,ie=i.let("templates");O&&k?(S=i.let("emChildKwd"),i.if(T),i.if(N,()=>{ge(k,r.items),i.assign(S,j.str`items`)},()=>{ge(O,r.properties),i.assign(S,j.str`properties`)}),$=j._`[${S}]`):k?(i.if(N),ge(k,r.items),$=j._`.items`):O&&(i.if(Ct.and(T,Ct.not(N))),ge(O,r.properties),$=j._`.properties`),i.forOf("err",Qe.default.vErrors,Q=>x(Q,L,ne=>i.code(j._`${L}[${ne}].push(${Q})`).assign(j._`${Q}.${Dt}`,!0))),i.forIn("key",L,Q=>i.if(j._`${L}[${Q}].length`,()=>{cr.reportError(e,{message:j._`${Q} in ${ie} ? ${ie}[${Q}]() : ${n}${$}[${Q}]`,params:j._`{errors: ${L}[${Q}]}`}),i.assign(j._`${Qe.default.vErrors}[${Qe.default.errors}-1].instancePath`,j._`${p} + "/" + ${Q}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),i.endIf();function ge(Q,ne){i.assign(L,j.stringify(Q)),i.assign(ie,I(Q,ne))}}function h(v){let O=i.const("emErrs",j._`[]`);i.forOf("err",Qe.default.vErrors,k=>i.if(w(k),()=>i.code(j._`${O}.push(${k})`).assign(j._`${k}.${Dt}`,!0))),i.if(j._`${O}.length`,()=>cr.reportError(e,{message:A(v),params:j._`{errors: ${O}}`}))}function m(){let v=i.const("emErrs",j._`[]`);i.forOf("err",Qe.default.vErrors,O=>i.if(j._`!${O}.${Dt}`,()=>i.code(j._`${v}.push(${O})`))),i.assign(Qe.default.vErrors,v).assign(Qe.default.errors,j._`${v}.length`)}function f(v,O){return Ct.and(j._`${v}.keyword !== ${Fn}`,j._`!${v}.${Dt}`,j._`${v}.instancePath === ${p}`,j._`${v}.keyword in ${O}`,j._`${v}.schemaPath.indexOf(${o.errSchemaPath}) === 0`,j._`/^\\/[^\\/]*$/.test(${v}.schemaPath.slice(${o.errSchemaPath.length}))`)}function x(v,O,k){i.if(Ct.and(j._`${v}.keyword !== ${Fn}`,j._`!${v}.${Dt}`,j._`${v}.instancePath.indexOf(${p}) === 0`),()=>{let T=i.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:j._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),N=i.const("emMatches",j._`${T}.exec(${v}.instancePath.slice(${p}.length))`),L=i.const("emChild",j._`${N} && ${N}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);i.if(j._`${L} !== undefined && ${L} in ${O}`,()=>k(L))})}function w(v){return Ct.and(j._`${v}.keyword !== ${Fn}`,j._`!${v}.${Dt}`,Ct.or(j._`${v}.instancePath === ${p}`,Ct.and(j._`${v}.instancePath.indexOf(${p}) === 0`,j._`${v}.instancePath[${p}.length] === "/"`)),j._`${v}.schemaPath.indexOf(${o.errSchemaPath}) === 0`,j._`${v}.schemaPath[${o.errSchemaPath}.length] === "/"`)}function I(v,O){let k=[];for(let T in v){let N=O[T];cg.test(N)&&k.push([T,q(N)])}return i.object(...k)}function A(v){return cg.test(v)?new ag._Code(ag.safeStringify(v).replace(nT,(O,k)=>`" + JSON.stringify(${rT.getData(k,o)}) + "`).replace(oT,"")):j.stringify(v)}function q(v){return j._`function(){return ${A(v)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}var Sc=(t,e={})=>{if(!t.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(t.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return t.addKeyword(aT(e))};Tc.default=Sc;Cc.exports=Sc;Cc.exports.default=Sc});var Rc=g((Dc,ug)=>{var{schemas:pT}=ba(),cT=Nn(),dT=pf(),lT=og(),uT=dg(),{randomUUID:mT}=require("crypto"),Li=new cT({strictSchema:!1,useDefaults:!0,allErrors:!0,allowUnionTypes:!0,coerceTypes:!0}),hT=Oc();hT.DEFAULTS.uuid=()=>mT;dT(Li);lT(Li);uT(Li);Dc.validate=Rt;Dc.transformToSchemaKey=Be;for(let[t,e]of Object.entries(pT))Li.addSchema(e,t);var lg={config_v3:["config_v2"],context_v3:["context_v2"],openApi_v3:["openApi_v2"],spec_v3:["spec_v2"],step_v3:["checkLink_v2","find_v2","goTo_v2","httpRequest_v2","runShell_v2","runCode_v2","saveScreenshot_v2","setVariables_v2","startRecording_v2","stopRecording_v2","typeKeys_v2","wait_v2"],test_v3:["test_v2"]};function zi(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rt({schemaKey:t,object:e,addDefaults:i=!0}){if(!t)throw new Error("Schema key is required.");if(!e)throw new Error("Object is required.");let s={},r,n=Li.getSchema(t);if(!n)return s.valid=!1,s.errors=`Schema not found: ${t}`,s.object=e,s;if(r=JSON.parse(JSON.stringify(e)),s.valid=n(r),s.errors="",n.errors){let o=lg[t];if(!o)return s.errors=n.errors.map(p=>`${p.instancePath} ${p.message} (${JSON.stringify(p.params)})`).join(", "),s.object=e,s.valid=!1,s;let a=o.find(p=>{if(r=JSON.parse(JSON.stringify(e)),Li.getSchema(p)(r))return p});if(a){let p=Be({currentSchema:a,targetSchema:t,object:r});if(s.valid=n(p),s.valid)r=p,e=p;else if(n.errors){let c=n.errors.map(d=>`${d.instancePath} ${d.message} (${JSON.stringify(d.params)})`);return s.errors=c.join(", "),s}}else return s.errors=n.errors.map(p=>`${p.instancePath} ${p.message} (${JSON.stringify(p.params)})`).join(", "),s.object=e,s.valid=!1,s}return i?s.object=r:s.object=e,s}function Be({currentSchema:t="",targetSchema:e="",object:i={}}){if(t===e)return i;if(!lg[e].includes(t))throw new Error(`Can't transform from ${t} to ${e}.`);if(e==="step_v3"){let s={stepId:i.id,description:i.description};t==="goTo_v2"?s.goTo={url:i.url,origin:i.origin}:t==="checkLink_v2"?s.checkLink={url:i.url,origin:i.origin,statusCodes:i.statusCodes}:t==="find_v2"?(s.find={selector:i.selector,elementText:i.matchText,timeout:i.timeout,moveTo:i.moveTo,click:i.click,type:i.typeKeys},typeof i.typeKeys=="object"&&i.typeKeys.keys&&(s.find.type.inputDelay=i.typeKeys.delay,delete s.find.type.delay),s.variables={},i.setVariables?.forEach(n=>{s.variables[n.name]=`extract($$element.text, "${n.regex}")`})):t==="httpRequest_v2"?(s.httpRequest={method:i.method,url:i.url,openApi:i.openApi,request:{body:i.requestData,headers:i.requestHeaders,parameters:i.requestParams},response:{body:i.responseData,headers:i.responseHeaders},statusCodes:i.statusCodes,allowAdditionalFields:i.allowAdditionalFields,timeout:i.timeout,path:i.savePath,directory:i.saveDirectory,maxVariation:i.maxVariation/100,overwrite:i.overwrite==="byVariation"?"aboveVariation":i.overwrite},i.openApi&&(s.httpRequest.openApi=Be({currentSchema:"openApi_v2",targetSchema:"openApi_v3",object:i.openApi})),s.variables={},i.envsFromResponseData?.forEach(n=>{s.variables[n.name]=`jq($$response.body, "${n.jqFilter}")`})):t==="runShell_v2"?(s.runShell={command:i.command,args:i.args,workingDirectory:i.workingDirectory,exitCodes:i.exitCodes,stdio:i.output,path:i.savePath,directory:i.saveDirectory,maxVariation:i.maxVariation/100,overwrite:i.overwrite==="byVariation"?"aboveVariation":i.overwrite,timeout:i.timeout},s.variables={},i.setVariables?.forEach(n=>{s.variables[n.name]=`extract($$stdio.stdout, "${n.regex}")`})):t==="runCode_v2"?(s.runCode={language:i.language,code:i.code,args:i.args,workingDirectory:i.workingDirectory,exitCodes:i.exitCodes,stdio:i.output,path:i.savePath,directory:i.saveDirectory,maxVariation:i.maxVariation/100,overwrite:i.overwrite==="byVariation"?"aboveVariation":i.overwrite,timeout:i.timeout},s.variables={},i?.setVariables?.forEach(n=>{s.variables[n.name]=`extract($$stdio.stdout, "${n.regex}")`})):t==="setVariables_v2"?s.loadVariables=i.path:t==="typeKeys_v2"?s.type={keys:i.keys,inputDelay:i.delay}:t==="saveScreenshot_v2"?s.screenshot={path:i.path,directory:i.directory,maxVariation:i.maxVariation/100,overwrite:i.overwrite==="byVariation"?"aboveVariation":i.overwrite,crop:i.crop}:t==="startRecording_v2"?s.record={path:i.path,directory:i.directory,overwrite:i.overwrite}:t==="stopRecording_v2"?s.stopRecord=!0:t==="wait_v2"&&(s.wait=i);let r=Rt({schemaKey:"step_v3",object:s});if(!r.valid)throw new Error(`Invalid object: ${r.errors}`);return r.object}else if(e==="config_v3"){let s={loadVariables:i.envVariables,input:i?.runTests?.input||i.input,output:i?.runTests?.output||i.output,recursive:i?.runTests?.recursive||i.recursive,relativePathBase:i.relativePathBase,detectSteps:i?.runTests?.detectSteps,beforeAny:i?.runTests?.setup,afterAll:i?.runTests?.cleanup,logLevel:i.logLevel,telemetry:i.telemetry};i?.runTests?.contexts&&(s.runOn=i.runTests.contexts.map(n=>Be({currentSchema:"context_v2",targetSchema:"context_v3",object:n}))),i?.integrations?.openApi&&(s.integrations={},s.integrations.openApi=i.integrations.openApi.map(n=>Be({currentSchema:"openApi_v2",targetSchema:"openApi_v3",object:n}))),i?.fileTypes&&(s.fileTypes=i.fileTypes.map(n=>{let o={name:n.name,extensions:n.extensions.map(a=>a.replace(/^\./,"")),inlineStatements:{testStart:`${zi(n.testStartStatementOpen)}(.*?)${zi(n.testStartStatementClose)}`,testEnd:zi(n.testEndStatement),ignoreStart:zi(n.testIgnoreStatement),step:`${zi(n.stepStatementOpen)}(.*?)${zi(n.stepStatementClose)}`}};return n.markup&&(o.markup=n.markup.map(a=>{let p={name:a.name,regex:a.regex};return a.actions&&(p.actions=a.actions.map(c=>{if(typeof c=="string")return c;if(typeof c=="object")return c.params&&(c={action:c.name,...c.params}),Be({currentSchema:`${c.action}_v2`,targetSchema:"step_v3",object:c})})),p})),o}));let r=Rt({schemaKey:"config_v3",object:s});if(!r.valid)throw new Error(`Invalid object: ${r.errors}`);return r.object}else if(e==="context_v3"){let s={};if(s.platforms=i.platforms,i.app?.name){let n=i.app.name==="edge"?"chrome":i.app?.name;s.browsers=[],s.browsers.push({name:n,headless:i.app?.options?.headless,window:{width:i.app?.options?.width,height:i.app?.options?.height},viewport:{width:i.app?.options?.viewport_width,height:i.app?.options?.viewport_height}})}let r=Rt({schemaKey:"context_v3",object:s});if(!r.valid)throw new Error(`Invalid object: ${r.errors}`);return r.object}else if(e==="openApi_v3"){let s,{name:r,requestHeaders:n,...o}=i;o.name=i.name,o.headers=i.requestHeaders,s={...o};let a=Rt({schemaKey:"openApi_v3",object:s});if(!a.valid)throw new Error(`Invalid object: ${a.errors}`);return s}else if(e==="spec_v3"){let s={specId:i.id,description:i.description,contentPath:i.file};i.contexts&&(s.runOn=i.contexts.map(n=>Be({currentSchema:"context_v2",targetSchema:"context_v3",object:n}))),i.openApi&&(s.openApi=i.openApi.map(n=>Be({currentSchema:"openApi_v2",targetSchema:"openApi_v3",object:n}))),s.tests=i.tests.map(n=>Be({currentSchema:"test_v2",targetSchema:"test_v3",object:n}));let r=Rt({schemaKey:"spec_v3",object:s});if(!r.valid)throw new Error(`Invalid object: ${r.errors}`);return r.object}else if(e==="test_v3"){let s={testId:i.id,description:i.description,contentPath:i.file,detectSteps:i.detectSteps,before:i.setup,after:i.cleanup};i.contexts&&(s.runOn=i.contexts.map(n=>Be({currentSchema:"context_v2",targetSchema:"context_v3",object:n}))),i.openApi&&(s.openApi=i.openApi.map(n=>Be({currentSchema:"openApi_v2",targetSchema:"openApi_v3",object:n}))),s.steps=i.steps.map(n=>Be({currentSchema:`${n.action}_v2`,targetSchema:"step_v3",object:n}));let r=Rt({schemaKey:"test_v3",object:s});if(!r.valid)throw new Error(`Invalid object: ${r.errors}`);return r.object}return null}if(require.main===ug){let e=Rt({schemaKey:"screenshot_v3",object:{path:"/User/manny/projects/doc-detective/static/images/image.png"}});console.log(JSON.stringify(e,null,2))}});var gg=g((fg,yg)=>{var mg=require("fs"),ni=require("path"),{validate:hg}=Rc();fg.resolvePaths=Zn;async function Zn({config:t,object:e,filePath:i,nested:s=!1,objectType:r}){let n=["input","output","loadVariables","setup","cleanup","configPath","beforeAny","afterAll","mediaDirectory","downloadDirectory","descriptionPath","path"],o=["file","path","directory","before","after","loadVariables","setup","cleanup","savePath","saveDirectory","specPath","descriptionPath","workingDirectory"],a=["requestData","responseData","requestHeaders","responseHeaders","requestParams","responseParams"];function p(l,u,y){if(u.startsWith("https://")||u.startsWith("http://")||u.startsWith("heretto:")||ni.isAbsolute(u))return u;let f=(mg.existsSync(y)?mg.lstatSync(y).isFile():ni.parse(y).ext!=="")?ni.dirname(y):y;return l==="file"?ni.resolve(f,u):ni.resolve(u)}let c=t.relativePathBase,d;if(!s&&!r)if(hg({schemaKey:"config_v3",object:{...e}}).valid)d=n,r="config";else if(hg({schemaKey:"spec_v3",object:{...e}}).valid)d=o,r="spec";else throw new Error("Object isn't a valid config or spec.");else{if(s&&!r)throw new Error("Object type is required for nested objects.");r==="config"?d=n:r==="spec"&&(d=o)}if(e===null||Object.keys(e).length===0)return e;for(let l of Object.keys(e))if(Array.isArray(e[l]))for(let u=0;u<e[l].length;u++){let y=e[l][u];if(typeof y=="object")await Zn({config:t,object:y,filePath:i,nested:!0,objectType:r});else if(typeof y=="string"&&d.includes(l)){let h=l==="path"&&e.directory&&ni.isAbsolute(e.directory)?p(c,y,e.directory):p(c,y,i);e[l][u]=h}}else if(typeof e[l]=="object"&&(r==="spec"&&!a.includes(l)||r==="config"))e[l]=await Zn({config:t,object:e[l],filePath:i,nested:!0,objectType:r});else if(typeof e[l]=="string"){if(e[l].startsWith("https://")||e[l].startsWith("http://")||e[l].startsWith("heretto:"))continue;if(d.includes(l))if(l==="path"&&e.directory){let u=ni.isAbsolute(e.directory)?e.directory:p(c,e.directory,i);e[l]=p(c,e[l],u)}else e[l]=p(c,e[l],i)}return e}require.main===yg&&(async()=>{let t={relativePathBase:"file"},e={tests:[{steps:[{screenshot:{path:"file.png",directory:"/home/hawkeyexl/Workspaces/doc-detective-common/screenshots"}}]}]},i=process.cwd();await Zn({config:t,object:e,filePath:i}),console.log(JSON.stringify(e,null,2))})()});var F=g(ye=>{"use strict";var Ec=Symbol.for("yaml.alias"),bg=Symbol.for("yaml.document"),Kn=Symbol.for("yaml.map"),xg=Symbol.for("yaml.pair"),$c=Symbol.for("yaml.scalar"),Mn=Symbol.for("yaml.seq"),vt=Symbol.for("yaml.node.type"),fT=t=>!!t&&typeof t=="object"&&t[vt]===Ec,yT=t=>!!t&&typeof t=="object"&&t[vt]===bg,gT=t=>!!t&&typeof t=="object"&&t[vt]===Kn,bT=t=>!!t&&typeof t=="object"&&t[vt]===xg,vg=t=>!!t&&typeof t=="object"&&t[vt]===$c,xT=t=>!!t&&typeof t=="object"&&t[vt]===Mn;function wg(t){if(t&&typeof t=="object")switch(t[vt]){case Kn:case Mn:return!0}return!1}function vT(t){if(t&&typeof t=="object")switch(t[vt]){case Ec:case Kn:case $c:case Mn:return!0}return!1}var wT=t=>(vg(t)||wg(t))&&!!t.anchor;ye.ALIAS=Ec;ye.DOC=bg;ye.MAP=Kn;ye.NODE_TYPE=vt;ye.PAIR=xg;ye.SCALAR=$c;ye.SEQ=Mn;ye.hasAnchor=wT;ye.isAlias=fT;ye.isCollection=wg;ye.isDocument=yT;ye.isMap=gT;ye.isNode=vT;ye.isPair=bT;ye.isScalar=vg;ye.isSeq=xT});var dr=g(_c=>{"use strict";var de=F(),Ce=Symbol("break visit"),Ig=Symbol("skip children"),lt=Symbol("remove node");function Jn(t,e){let i=kg(e);de.isDocument(t)?Hi(null,t.contents,i,Object.freeze([t]))===lt&&(t.contents=null):Hi(null,t,i,Object.freeze([]))}Jn.BREAK=Ce;Jn.SKIP=Ig;Jn.REMOVE=lt;function Hi(t,e,i,s){let r=qg(t,e,i,s);if(de.isNode(r)||de.isPair(r))return Ag(t,s,r),Hi(t,r,i,s);if(typeof r!="symbol"){if(de.isCollection(e)){s=Object.freeze(s.concat(e));for(let n=0;n<e.items.length;++n){let o=Hi(n,e.items[n],i,s);if(typeof o=="number")n=o-1;else{if(o===Ce)return Ce;o===lt&&(e.items.splice(n,1),n-=1)}}}else if(de.isPair(e)){s=Object.freeze(s.concat(e));let n=Hi("key",e.key,i,s);if(n===Ce)return Ce;n===lt&&(e.key=null);let o=Hi("value",e.value,i,s);if(o===Ce)return Ce;o===lt&&(e.value=null)}}return r}async function Gn(t,e){let i=kg(e);de.isDocument(t)?await Bi(null,t.contents,i,Object.freeze([t]))===lt&&(t.contents=null):await Bi(null,t,i,Object.freeze([]))}Gn.BREAK=Ce;Gn.SKIP=Ig;Gn.REMOVE=lt;async function Bi(t,e,i,s){let r=await qg(t,e,i,s);if(de.isNode(r)||de.isPair(r))return Ag(t,s,r),Bi(t,r,i,s);if(typeof r!="symbol"){if(de.isCollection(e)){s=Object.freeze(s.concat(e));for(let n=0;n<e.items.length;++n){let o=await Bi(n,e.items[n],i,s);if(typeof o=="number")n=o-1;else{if(o===Ce)return Ce;o===lt&&(e.items.splice(n,1),n-=1)}}}else if(de.isPair(e)){s=Object.freeze(s.concat(e));let n=await Bi("key",e.key,i,s);if(n===Ce)return Ce;n===lt&&(e.key=null);let o=await Bi("value",e.value,i,s);if(o===Ce)return Ce;o===lt&&(e.value=null)}}return r}function kg(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function qg(t,e,i,s){if(typeof i=="function")return i(t,e,s);if(de.isMap(e))return i.Map?.(t,e,s);if(de.isSeq(e))return i.Seq?.(t,e,s);if(de.isPair(e))return i.Pair?.(t,e,s);if(de.isScalar(e))return i.Scalar?.(t,e,s);if(de.isAlias(e))return i.Alias?.(t,e,s)}function Ag(t,e,i){let s=e[e.length-1];if(de.isCollection(s))s.items[t]=i;else if(de.isPair(s))t==="key"?s.key=i:s.value=i;else if(de.isDocument(s))s.contents=i;else{let r=de.isAlias(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}_c.visit=Jn;_c.visitAsync=Gn});var Uc=g(jg=>{"use strict";var Og=F(),IT=dr(),kT={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},qT=t=>t.replace(/[!,[\]{}]/g,e=>kT[e]),lr=class t{constructor(e,i){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,i)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,i){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let s=e.trim().split(/[ \t]+/),r=s.shift();switch(r){case"%TAG":{if(s.length!==2&&(i(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;let[n,o]=s;return this.tags[n]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return i(0,"%YAML directive should contain exactly one part"),!1;let[n]=s;if(n==="1.1"||n==="1.2")return this.yaml.version=n,!0;{let o=/^\d+\.\d+$/.test(n);return i(6,`Unsupported YAML version ${n}`,o),!1}}default:return i(0,`Unknown directive ${r}`,!0),!1}}tagName(e,i){if(e==="!")return"!";if(e[0]!=="!")return i(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(i(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&i("Verbatim tags must end with a >"),o)}let[,s,r]=e.match(/^(.*!)([^!]*)$/s);r||i(`The ${e} tag has no suffix`);let n=this.tags[s];if(n)try{return n+decodeURIComponent(r)}catch(o){return i(String(o)),null}return s==="!"?e:(i(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[i,s]of Object.entries(this.tags))if(e.startsWith(s))return i+qT(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let i=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags),r;if(e&&s.length>0&&Og.isNode(e.contents)){let n={};IT.visit(e.contents,(o,a)=>{Og.isNode(a)&&a.tag&&(n[a.tag]=!0)}),r=Object.keys(n)}else r=[];for(let[n,o]of s)n==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&i.push(`%TAG ${n} ${o}`);return i.join(`
`)}};lr.defaultYaml={explicit:!1,version:"1.2"};lr.defaultTags={"!!":"tag:yaml.org,2002:"};jg.Directives=lr});var Yn=g(ur=>{"use strict";var Pg=F(),AT=dr();function OT(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let i=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(i)}return!0}function Sg(t){let e=new Set;return AT.visit(t,{Value(i,s){s.anchor&&e.add(s.anchor)}}),e}function Tg(t,e){for(let i=1;;++i){let s=`${t}${i}`;if(!e.has(s))return s}}function jT(t,e){let i=[],s=new Map,r=null;return{onAnchor:n=>{i.push(n),r??(r=Sg(t));let o=Tg(e,r);return r.add(o),o},setAnchors:()=>{for(let n of i){let o=s.get(n);if(typeof o=="object"&&o.anchor&&(Pg.isScalar(o.node)||Pg.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=n,a}}},sourceObjects:s}}ur.anchorIsValid=OT;ur.anchorNames=Sg;ur.createNodeAnchors=jT;ur.findNewAnchor=Tg});var Nc=g(Cg=>{"use strict";function mr(t,e,i,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let r=0,n=s.length;r<n;++r){let o=s[r],a=mr(t,s,String(r),o);a===void 0?delete s[r]:a!==o&&(s[r]=a)}else if(s instanceof Map)for(let r of Array.from(s.keys())){let n=s.get(r),o=mr(t,s,r,n);o===void 0?s.delete(r):o!==n&&s.set(r,o)}else if(s instanceof Set)for(let r of Array.from(s)){let n=mr(t,s,r,r);n===void 0?s.delete(r):n!==r&&(s.delete(r),s.add(n))}else for(let[r,n]of Object.entries(s)){let o=mr(t,s,r,n);o===void 0?delete s[r]:o!==n&&(s[r]=o)}return t.call(e,i,s)}Cg.applyReviver=mr});var Et=g(Rg=>{"use strict";var PT=F();function Dg(t,e,i){if(Array.isArray(t))return t.map((s,r)=>Dg(s,String(r),i));if(t&&typeof t.toJSON=="function"){if(!i||!PT.hasAnchor(t))return t.toJSON(e,i);let s={aliasCount:0,count:1,res:void 0};i.anchors.set(t,s),i.onCreate=n=>{s.res=n,delete i.onCreate};let r=t.toJSON(e,i);return i.onCreate&&i.onCreate(r),r}return typeof t=="bigint"&&!i?.keep?Number(t):t}Rg.toJS=Dg});var Qn=g($g=>{"use strict";var ST=Nc(),Eg=F(),TT=Et(),Vc=class{constructor(e){Object.defineProperty(this,Eg.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:i,maxAliasCount:s,onAnchor:r,reviver:n}={}){if(!Eg.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=TT.toJS(this,"",o);if(typeof r=="function")for(let{count:p,res:c}of o.anchors.values())r(c,p);return typeof n=="function"?ST.applyReviver(n,{"":a},"",a):a}};$g.NodeBase=Vc});var hr=g(_g=>{"use strict";var CT=Yn(),DT=dr(),Wi=F(),RT=Qn(),ET=Et(),zc=class extends RT.NodeBase{constructor(e){super(Wi.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,i){let s;i?.aliasResolveCache?s=i.aliasResolveCache:(s=[],DT.visit(e,{Node:(n,o)=>{(Wi.isAlias(o)||Wi.hasAnchor(o))&&s.push(o)}}),i&&(i.aliasResolveCache=s));let r;for(let n of s){if(n===this)break;n.anchor===this.source&&(r=n)}return r}toJSON(e,i){if(!i)return{source:this.source};let{anchors:s,doc:r,maxAliasCount:n}=i,o=this.resolve(r,i);if(!o){let p=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(p)}let a=s.get(o);if(a||(ET.toJS(o,null,i),a=s.get(o)),a?.res===void 0){let p="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(p)}if(n>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Xn(r,o,s)),a.count*a.aliasCount>n)){let p="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(p)}return a.res}toString(e,i,s){let r=`*${this.source}`;if(e){if(CT.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let n=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(n)}if(e.implicitKey)return`${r} `}return r}};function Xn(t,e,i){if(Wi.isAlias(e)){let s=e.resolve(t),r=i&&s&&i.get(s);return r?r.count*r.aliasCount:0}else if(Wi.isCollection(e)){let s=0;for(let r of e.items){let n=Xn(t,r,i);n>s&&(s=n)}return s}else if(Wi.isPair(e)){let s=Xn(t,e.key,i),r=Xn(t,e.value,i);return Math.max(s,r)}return 1}_g.Alias=zc});var pe=g(Lc=>{"use strict";var $T=F(),_T=Qn(),UT=Et(),NT=t=>!t||typeof t!="function"&&typeof t!="object",$t=class extends _T.NodeBase{constructor(e){super($T.SCALAR),this.value=e}toJSON(e,i){return i?.keep?this.value:UT.toJS(this.value,e,i)}toString(){return String(this.value)}};$t.BLOCK_FOLDED="BLOCK_FOLDED";$t.BLOCK_LITERAL="BLOCK_LITERAL";$t.PLAIN="PLAIN";$t.QUOTE_DOUBLE="QUOTE_DOUBLE";$t.QUOTE_SINGLE="QUOTE_SINGLE";Lc.Scalar=$t;Lc.isScalarValue=NT});var fr=g(Ng=>{"use strict";var VT=hr(),oi=F(),Ug=pe(),zT="tag:yaml.org,2002:";function LT(t,e,i){if(e){let s=i.filter(n=>n.tag===e),r=s.find(n=>!n.format)??s[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return i.find(s=>s.identify?.(t)&&!s.format)}function HT(t,e,i){if(oi.isDocument(t)&&(t=t.contents),oi.isNode(t))return t;if(oi.isPair(t)){let l=i.schema[oi.MAP].createNode?.(i.schema,null,i);return l.items.push(t),l}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:s,onAnchor:r,onTagObj:n,schema:o,sourceObjects:a}=i,p;if(s&&t&&typeof t=="object"){if(p=a.get(t),p)return p.anchor??(p.anchor=r(t)),new VT.Alias(p.anchor);p={anchor:null,node:null},a.set(t,p)}e?.startsWith("!!")&&(e=zT+e.slice(2));let c=LT(t,e,o.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let l=new Ug.Scalar(t);return p&&(p.node=l),l}c=t instanceof Map?o[oi.MAP]:Symbol.iterator in Object(t)?o[oi.SEQ]:o[oi.MAP]}n&&(n(c),delete i.onTagObj);let d=c?.createNode?c.createNode(i.schema,t,i):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(i.schema,t,i):new Ug.Scalar(t);return e?d.tag=e:c.default||(d.tag=c.tag),p&&(p.node=d),d}Ng.createNode=HT});var to=g(eo=>{"use strict";var BT=fr(),ut=F(),WT=Qn();function Hc(t,e,i){let s=i;for(let r=e.length-1;r>=0;--r){let n=e[r];if(typeof n=="number"&&Number.isInteger(n)&&n>=0){let o=[];o[n]=s,s=o}else s=new Map([[n,s]])}return BT.createNode(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var Vg=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Bc=class extends WT.NodeBase{constructor(e,i){super(e),Object.defineProperty(this,"schema",{value:i,configurable:!0,enumerable:!1,writable:!0})}clone(e){let i=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(i.schema=e),i.items=i.items.map(s=>ut.isNode(s)||ut.isPair(s)?s.clone(e):s),this.range&&(i.range=this.range.slice()),i}addIn(e,i){if(Vg(e))this.add(i);else{let[s,...r]=e,n=this.get(s,!0);if(ut.isCollection(n))n.addIn(r,i);else if(n===void 0&&this.schema)this.set(s,Hc(this.schema,r,i));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}deleteIn(e){let[i,...s]=e;if(s.length===0)return this.delete(i);let r=this.get(i,!0);if(ut.isCollection(r))return r.deleteIn(s);throw new Error(`Expected YAML collection at ${i}. Remaining path: ${s}`)}getIn(e,i){let[s,...r]=e,n=this.get(s,!0);return r.length===0?!i&&ut.isScalar(n)?n.value:n:ut.isCollection(n)?n.getIn(r,i):void 0}hasAllNullValues(e){return this.items.every(i=>{if(!ut.isPair(i))return!1;let s=i.value;return s==null||e&&ut.isScalar(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){let[i,...s]=e;if(s.length===0)return this.has(i);let r=this.get(i,!0);return ut.isCollection(r)?r.hasIn(s):!1}setIn(e,i){let[s,...r]=e;if(r.length===0)this.set(s,i);else{let n=this.get(s,!0);if(ut.isCollection(n))n.setIn(r,i);else if(n===void 0&&this.schema)this.set(s,Hc(this.schema,r,i));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${r}`)}}};eo.Collection=Bc;eo.collectionFromPath=Hc;eo.isEmptyPath=Vg});var yr=g(io=>{"use strict";var FT=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Wc(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var ZT=(t,e,i)=>t.endsWith(`
`)?Wc(i,e):i.includes(`
`)?`
`+Wc(i,e):(t.endsWith(" ")?"":" ")+i;io.indentComment=Wc;io.lineComment=ZT;io.stringifyComment=FT});var Lg=g(gr=>{"use strict";var KT="flow",Fc="block",so="quoted";function MT(t,e,i="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:n=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;r<n&&(n=0);let p=Math.max(1+n,1+r-e.length);if(t.length<=p)return t;let c=[],d={},l=r-e.length;typeof s=="number"&&(s>r-Math.max(2,n)?c.push(0):l=r-s);let u,y,h=!1,m=-1,f=-1,x=-1;i===Fc&&(m=zg(t,m,e.length),m!==-1&&(l=m+p));for(let I;I=t[m+=1];){if(i===so&&I==="\\"){switch(f=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}x=m}if(I===`
`)i===Fc&&(m=zg(t,m,e.length)),l=m+e.length+p,u=void 0;else{if(I===" "&&y&&y!==" "&&y!==`
`&&y!=="	"){let A=t[m+1];A&&A!==" "&&A!==`
`&&A!=="	"&&(u=m)}if(m>=l)if(u)c.push(u),l=u+p,u=void 0;else if(i===so){for(;y===" "||y==="	";)y=I,I=t[m+=1],h=!0;let A=m>x+1?m-2:f-1;if(d[A])return t;c.push(A),d[A]=!0,l=A+p,u=void 0}else h=!0}y=I}if(h&&a&&a(),c.length===0)return t;o&&o();let w=t.slice(0,c[0]);for(let I=0;I<c.length;++I){let A=c[I],q=c[I+1]||t.length;A===0?w=`
${e}${t.slice(0,q)}`:(i===so&&d[A]&&(w+=`${t[A]}\\`),w+=`
${e}${t.slice(A+1,q)}`)}return w}function zg(t,e,i){let s=e,r=e+1,n=t[r];for(;n===" "||n==="	";)if(e<r+i)n=t[++e];else{do n=t[++e];while(n&&n!==`
`);s=e,r=e+1,n=t[r]}return s}gr.FOLD_BLOCK=Fc;gr.FOLD_FLOW=KT;gr.FOLD_QUOTED=so;gr.foldFlowLines=MT});var xr=g(Hg=>{"use strict";var Xe=pe(),_t=Lg(),no=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),oo=t=>/^(%|---|\.\.\.)/m.test(t);function JT(t,e,i){if(!e||e<0)return!1;let s=e-i,r=t.length;if(r<=s)return!1;for(let n=0,o=0;n<r;++n)if(t[n]===`
`){if(n-o>s)return!0;if(o=n+1,r-o<=s)return!1}return!0}function br(t,e){let i=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return i;let{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,n=e.indent||(oo(t)?"  ":""),o="",a=0;for(let p=0,c=i[p];c;c=i[++p])if(c===" "&&i[p+1]==="\\"&&i[p+2]==="n"&&(o+=i.slice(a,p)+"\\ ",p+=1,a=p,c="\\"),c==="\\")switch(i[p+1]){case"u":{o+=i.slice(a,p);let d=i.substr(p+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=i.substr(p,6)}p+=5,a=p+1}break;case"n":if(s||i[p+2]==='"'||i.length<r)p+=1;else{for(o+=i.slice(a,p)+`

`;i[p+2]==="\\"&&i[p+3]==="n"&&i[p+4]!=='"';)o+=`
`,p+=2;o+=n,i[p+2]===" "&&(o+="\\"),p+=1,a=p+1}break;default:p+=1}return o=a?o+i.slice(a):i,s?o:_t.foldFlowLines(o,n,_t.FOLD_QUOTED,no(e,!1))}function Zc(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return br(t,e);let i=e.indent||(oo(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${i}`)+"'";return e.implicitKey?s:_t.foldFlowLines(s,i,_t.FOLD_FLOW,no(e,!1))}function Fi(t,e){let{singleQuote:i}=e.options,s;if(i===!1)s=br;else{let r=t.includes('"'),n=t.includes("'");r&&!n?s=Zc:n&&!r?s=br:s=i?Zc:br}return s(t,e)}var Kc;try{Kc=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Kc=/\n+(?!\n|$)/g}function ro({comment:t,type:e,value:i},s,r,n){let{blockQuote:o,commentString:a,lineWidth:p}=s.options;if(!o||/\n[\t ]+$/.test(i))return Fi(i,s);let c=s.indent||(s.forceBlockIndent||oo(i)?"  ":""),d=o==="literal"?!0:o==="folded"||e===Xe.Scalar.BLOCK_FOLDED?!1:e===Xe.Scalar.BLOCK_LITERAL?!0:!JT(i,p,c.length);if(!i)return d?`|
`:`>
`;let l,u;for(u=i.length;u>0;--u){let q=i[u-1];if(q!==`
`&&q!=="	"&&q!==" ")break}let y=i.substring(u),h=y.indexOf(`
`);h===-1?l="-":i===y||h!==y.length-1?(l="+",n&&n()):l="",y&&(i=i.slice(0,-y.length),y[y.length-1]===`
`&&(y=y.slice(0,-1)),y=y.replace(Kc,`$&${c}`));let m=!1,f,x=-1;for(f=0;f<i.length;++f){let q=i[f];if(q===" ")m=!0;else if(q===`
`)x=f;else break}let w=i.substring(0,x<f?x+1:f);w&&(i=i.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let A=(m?c?"2":"1":"")+l;if(t&&(A+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),!d){let q=i.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`),v=!1,O=no(s,!0);o!=="folded"&&e!==Xe.Scalar.BLOCK_FOLDED&&(O.onOverflow=()=>{v=!0});let k=_t.foldFlowLines(`${w}${q}${y}`,c,_t.FOLD_BLOCK,O);if(!v)return`>${A}
${c}${k}`}return i=i.replace(/\n+/g,`$&${c}`),`|${A}
${c}${w}${i}${y}`}function GT(t,e,i,s){let{type:r,value:n}=t,{actualString:o,implicitKey:a,indent:p,indentStep:c,inFlow:d}=e;if(a&&n.includes(`
`)||d&&/[[\]{},]/.test(n))return Fi(n,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(n))return a||d||!n.includes(`
`)?Fi(n,e):ro(t,e,i,s);if(!a&&!d&&r!==Xe.Scalar.PLAIN&&n.includes(`
`))return ro(t,e,i,s);if(oo(n)){if(p==="")return e.forceBlockIndent=!0,ro(t,e,i,s);if(a&&p===c)return Fi(n,e)}let l=n.replace(/\n+/g,`$&
${p}`);if(o){let u=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(l),{compat:y,tags:h}=e.doc.schema;if(h.some(u)||y?.some(u))return Fi(n,e)}return a?l:_t.foldFlowLines(l,p,_t.FOLD_FLOW,no(e,!1))}function YT(t,e,i,s){let{implicitKey:r,inFlow:n}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Xe.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Xe.Scalar.QUOTE_DOUBLE);let p=d=>{switch(d){case Xe.Scalar.BLOCK_FOLDED:case Xe.Scalar.BLOCK_LITERAL:return r||n?Fi(o.value,e):ro(o,e,i,s);case Xe.Scalar.QUOTE_DOUBLE:return br(o.value,e);case Xe.Scalar.QUOTE_SINGLE:return Zc(o.value,e);case Xe.Scalar.PLAIN:return GT(o,e,i,s);default:return null}},c=p(a);if(c===null){let{defaultKeyType:d,defaultStringType:l}=e.options,u=r&&d||l;if(c=p(u),c===null)throw new Error(`Unsupported default string type ${u}`)}return c}Hg.stringifyString=YT});var vr=g(Mc=>{"use strict";var QT=Yn(),Ut=F(),XT=yr(),eC=xr();function tC(t,e){let i=Object.assign({blockQuote:!0,commentString:XT.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),s;switch(i.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:i.flowCollectionPadding?" ":"",indent:"",indentStep:typeof i.indent=="number"?" ".repeat(i.indent):"  ",inFlow:s,options:i}}function iC(t,e){if(e.tag){let r=t.filter(n=>n.tag===e.tag);if(r.length>0)return r.find(n=>n.format===e.format)??r[0]}let i,s;if(Ut.isScalar(e)){s=e.value;let r=t.filter(n=>n.identify?.(s));if(r.length>1){let n=r.filter(o=>o.test);n.length>0&&(r=n)}i=r.find(n=>n.format===e.format)??r.find(n=>!n.format)}else s=e,i=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!i){let r=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${r} value`)}return i}function sC(t,e,{anchors:i,doc:s}){if(!s.directives)return"";let r=[],n=(Ut.isScalar(t)||Ut.isCollection(t))&&t.anchor;n&&QT.anchorIsValid(n)&&(i.add(n),r.push(`&${n}`));let o=t.tag??(e.default?null:e.tag);return o&&r.push(s.directives.tagString(o)),r.join(" ")}function rC(t,e,i,s){if(Ut.isPair(t))return t.toString(e,i,s);if(Ut.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r,n=Ut.isNode(t)?t:e.doc.createNode(t,{onTagObj:p=>r=p});r??(r=iC(e.doc.schema.tags,n));let o=sC(n,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(n,e,i,s):Ut.isScalar(n)?eC.stringifyString(n,e,i,s):n.toString(e,i,s);return o?Ut.isScalar(n)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}Mc.createStringifyContext=tC;Mc.stringify=rC});var Zg=g(Fg=>{"use strict";var wt=F(),Bg=pe(),Wg=vr(),wr=yr();function nC({key:t,value:e},i,s,r){let{allNullValues:n,doc:o,indent:a,indentStep:p,options:{commentString:c,indentSeq:d,simpleKeys:l}}=i,u=wt.isNode(t)&&t.comment||null;if(l){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(wt.isCollection(t)||!wt.isNode(t)&&typeof t=="object"){let O="With simple keys, collection cannot be used as a key value";throw new Error(O)}}let y=!l&&(!t||u&&e==null&&!i.inFlow||wt.isCollection(t)||(wt.isScalar(t)?t.type===Bg.Scalar.BLOCK_FOLDED||t.type===Bg.Scalar.BLOCK_LITERAL:typeof t=="object"));i=Object.assign({},i,{allNullValues:!1,implicitKey:!y&&(l||!n),indent:a+p});let h=!1,m=!1,f=Wg.stringify(t,i,()=>h=!0,()=>m=!0);if(!y&&!i.inFlow&&f.length>1024){if(l)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(i.inFlow){if(n||e==null)return h&&s&&s(),f===""?"?":y?`? ${f}`:f}else if(n&&!l||e==null&&y)return f=`? ${f}`,u&&!h?f+=wr.lineComment(f,i.indent,c(u)):m&&r&&r(),f;h&&(u=null),y?(u&&(f+=wr.lineComment(f,i.indent,c(u))),f=`? ${f}
${a}:`):(f=`${f}:`,u&&(f+=wr.lineComment(f,i.indent,c(u))));let x,w,I;wt.isNode(e)?(x=!!e.spaceBefore,w=e.commentBefore,I=e.comment):(x=!1,w=null,I=null,e&&typeof e=="object"&&(e=o.createNode(e))),i.implicitKey=!1,!y&&!u&&wt.isScalar(e)&&(i.indentAtStart=f.length+1),m=!1,!d&&p.length>=2&&!i.inFlow&&!y&&wt.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(i.indent=i.indent.substring(2));let A=!1,q=Wg.stringify(e,i,()=>A=!0,()=>m=!0),v=" ";if(u||x||w){if(v=x?`
`:"",w){let O=c(w);v+=`
${wr.indentComment(O,i.indent)}`}q===""&&!i.inFlow?v===`
`&&I&&(v=`

`):v+=`
${i.indent}`}else if(!y&&wt.isCollection(e)){let O=q[0],k=q.indexOf(`
`),T=k!==-1,N=i.inFlow??e.flow??e.items.length===0;if(T||!N){let L=!1;if(T&&(O==="&"||O==="!")){let S=q.indexOf(" ");O==="&"&&S!==-1&&S<k&&q[S+1]==="!"&&(S=q.indexOf(" ",S+1)),(S===-1||k<S)&&(L=!0)}L||(v=`
${i.indent}`)}}else(q===""||q[0]===`
`)&&(v="");return f+=v+q,i.inFlow?A&&s&&s():I&&!A?f+=wr.lineComment(f,i.indent,c(I)):m&&r&&r(),f}Fg.stringifyPair=nC});var Gc=g(Jc=>{"use strict";var Kg=require("process");function oC(t,...e){t==="debug"&&console.log(...e)}function aC(t,e){(t==="debug"||t==="warn")&&(typeof Kg.emitWarning=="function"?Kg.emitWarning(e):console.warn(e))}Jc.debug=oC;Jc.warn=aC});var lo=g(co=>{"use strict";var Ir=F(),Mg=pe(),ao="<<",po={identify:t=>t===ao||typeof t=="symbol"&&t.description===ao,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Mg.Scalar(Symbol(ao)),{addToJSMap:Jg}),stringify:()=>ao},pC=(t,e)=>(po.identify(e)||Ir.isScalar(e)&&(!e.type||e.type===Mg.Scalar.PLAIN)&&po.identify(e.value))&&t?.doc.schema.tags.some(i=>i.tag===po.tag&&i.default);function Jg(t,e,i){if(i=t&&Ir.isAlias(i)?i.resolve(t.doc):i,Ir.isSeq(i))for(let s of i.items)Yc(t,e,s);else if(Array.isArray(i))for(let s of i)Yc(t,e,s);else Yc(t,e,i)}function Yc(t,e,i){let s=t&&Ir.isAlias(i)?i.resolve(t.doc):i;if(!Ir.isMap(s))throw new Error("Merge sources must be maps or map aliases");let r=s.toJSON(null,t,Map);for(let[n,o]of r)e instanceof Map?e.has(n)||e.set(n,o):e instanceof Set?e.add(n):Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}co.addMergeToJSMap=Jg;co.isMergeKey=pC;co.merge=po});var Xc=g(Qg=>{"use strict";var cC=Gc(),Gg=lo(),dC=vr(),Yg=F(),Qc=Et();function lC(t,e,{key:i,value:s}){if(Yg.isNode(i)&&i.addToJSMap)i.addToJSMap(t,e,s);else if(Gg.isMergeKey(t,i))Gg.addMergeToJSMap(t,e,s);else{let r=Qc.toJS(i,"",t);if(e instanceof Map)e.set(r,Qc.toJS(s,r,t));else if(e instanceof Set)e.add(r);else{let n=uC(i,r,t),o=Qc.toJS(s,n,t);n in e?Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[n]=o}}return e}function uC(t,e,i){if(e===null)return"";if(typeof e!="object")return String(e);if(Yg.isNode(t)&&i?.doc){let s=dC.createStringifyContext(i.doc,{});s.anchors=new Set;for(let n of i.anchors.keys())s.anchors.add(n.anchor);s.inFlow=!0,s.inStringifyKey=!0;let r=t.toString(s);if(!i.mapKeyWarned){let n=JSON.stringify(r);n.length>40&&(n=n.substring(0,36)+'..."'),cC.warn(i.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${n}. Set mapAsMap: true to use object keys.`),i.mapKeyWarned=!0}return r}return JSON.stringify(e)}Qg.addPairToJSMap=lC});var Nt=g(ed=>{"use strict";var Xg=fr(),mC=Zg(),hC=Xc(),uo=F();function fC(t,e,i){let s=Xg.createNode(t,void 0,i),r=Xg.createNode(e,void 0,i);return new mo(s,r)}var mo=class t{constructor(e,i=null){Object.defineProperty(this,uo.NODE_TYPE,{value:uo.PAIR}),this.key=e,this.value=i}clone(e){let{key:i,value:s}=this;return uo.isNode(i)&&(i=i.clone(e)),uo.isNode(s)&&(s=s.clone(e)),new t(i,s)}toJSON(e,i){let s=i?.mapAsMap?new Map:{};return hC.addPairToJSMap(i,s,this)}toString(e,i,s){return e?.doc?mC.stringifyPair(this,e,i,s):JSON.stringify(this)}};ed.Pair=mo;ed.createPair=fC});var td=g(tb=>{"use strict";var ai=F(),eb=vr(),ho=yr();function yC(t,e,i){return(e.inFlow??t.flow?bC:gC)(t,e,i)}function gC({comment:t,items:e},i,{blockItemPrefix:s,flowChars:r,itemIndent:n,onChompKeep:o,onComment:a}){let{indent:p,options:{commentString:c}}=i,d=Object.assign({},i,{indent:n,type:null}),l=!1,u=[];for(let h=0;h<e.length;++h){let m=e[h],f=null;if(ai.isNode(m))!l&&m.spaceBefore&&u.push(""),fo(i,u,m.commentBefore,l),m.comment&&(f=m.comment);else if(ai.isPair(m)){let w=ai.isNode(m.key)?m.key:null;w&&(!l&&w.spaceBefore&&u.push(""),fo(i,u,w.commentBefore,l))}l=!1;let x=eb.stringify(m,d,()=>f=null,()=>l=!0);f&&(x+=ho.lineComment(x,n,c(f))),l&&f&&(l=!1),u.push(s+x)}let y;if(u.length===0)y=r.start+r.end;else{y=u[0];for(let h=1;h<u.length;++h){let m=u[h];y+=m?`
${p}${m}`:`
`}}return t?(y+=`
`+ho.indentComment(c(t),p),a&&a()):l&&o&&o(),y}function bC({items:t},e,{flowChars:i,itemIndent:s}){let{indent:r,indentStep:n,flowCollectionPadding:o,options:{commentString:a}}=e;s+=n;let p=Object.assign({},e,{indent:s,inFlow:!0,type:null}),c=!1,d=0,l=[];for(let h=0;h<t.length;++h){let m=t[h],f=null;if(ai.isNode(m))m.spaceBefore&&l.push(""),fo(e,l,m.commentBefore,!1),m.comment&&(f=m.comment);else if(ai.isPair(m)){let w=ai.isNode(m.key)?m.key:null;w&&(w.spaceBefore&&l.push(""),fo(e,l,w.commentBefore,!1),w.comment&&(c=!0));let I=ai.isNode(m.value)?m.value:null;I?(I.comment&&(f=I.comment),I.commentBefore&&(c=!0)):m.value==null&&w?.comment&&(f=w.comment)}f&&(c=!0);let x=eb.stringify(m,p,()=>f=null);h<t.length-1&&(x+=","),f&&(x+=ho.lineComment(x,s,a(f))),!c&&(l.length>d||x.includes(`
`))&&(c=!0),l.push(x),d=l.length}let{start:u,end:y}=i;if(l.length===0)return u+y;if(!c){let h=l.reduce((m,f)=>m+f.length+2,2);c=e.options.lineWidth>0&&h>e.options.lineWidth}if(c){let h=u;for(let m of l)h+=m?`
${n}${r}${m}`:`
`;return`${h}
${r}${y}`}else return`${u}${o}${l.join(" ")}${o}${y}`}function fo({indent:t,options:{commentString:e}},i,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){let n=ho.indentComment(e(s),t);i.push(n.trimStart())}}tb.stringifyCollection=yC});var zt=g(sd=>{"use strict";var xC=td(),vC=Xc(),wC=to(),Vt=F(),yo=Nt(),IC=pe();function kr(t,e){let i=Vt.isScalar(e)?e.value:e;for(let s of t)if(Vt.isPair(s)&&(s.key===e||s.key===i||Vt.isScalar(s.key)&&s.key.value===i))return s}var id=class extends wC.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Vt.MAP,e),this.items=[]}static from(e,i,s){let{keepUndefined:r,replacer:n}=s,o=new this(e),a=(p,c)=>{if(typeof n=="function")c=n.call(i,p,c);else if(Array.isArray(n)&&!n.includes(p))return;(c!==void 0||r)&&o.items.push(yo.createPair(p,c,s))};if(i instanceof Map)for(let[p,c]of i)a(p,c);else if(i&&typeof i=="object")for(let p of Object.keys(i))a(p,i[p]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,i){let s;Vt.isPair(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new yo.Pair(e,e?.value):s=new yo.Pair(e.key,e.value);let r=kr(this.items,s.key),n=this.schema?.sortMapEntries;if(r){if(!i)throw new Error(`Key ${s.key} already set`);Vt.isScalar(r.value)&&IC.isScalarValue(s.value)?r.value.value=s.value:r.value=s.value}else if(n){let o=this.items.findIndex(a=>n(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){let i=kr(this.items,e);return i?this.items.splice(this.items.indexOf(i),1).length>0:!1}get(e,i){let r=kr(this.items,e)?.value;return(!i&&Vt.isScalar(r)?r.value:r)??void 0}has(e){return!!kr(this.items,e)}set(e,i){this.add(new yo.Pair(e,i),!0)}toJSON(e,i,s){let r=s?new s:i?.mapAsMap?new Map:{};i?.onCreate&&i.onCreate(r);for(let n of this.items)vC.addPairToJSMap(i,r,n);return r}toString(e,i,s){if(!e)return JSON.stringify(this);for(let r of this.items)if(!Vt.isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),xC.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:i})}};sd.YAMLMap=id;sd.findPair=kr});var Zi=g(sb=>{"use strict";var kC=F(),ib=zt(),qC={collection:"map",default:!0,nodeClass:ib.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return kC.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,i)=>ib.YAMLMap.from(t,e,i)};sb.map=qC});var Lt=g(rb=>{"use strict";var AC=fr(),OC=td(),jC=to(),bo=F(),PC=pe(),SC=Et(),rd=class extends jC.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(bo.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let i=go(e);return typeof i!="number"?!1:this.items.splice(i,1).length>0}get(e,i){let s=go(e);if(typeof s!="number")return;let r=this.items[s];return!i&&bo.isScalar(r)?r.value:r}has(e){let i=go(e);return typeof i=="number"&&i<this.items.length}set(e,i){let s=go(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[s];bo.isScalar(r)&&PC.isScalarValue(i)?r.value=i:this.items[s]=i}toJSON(e,i){let s=[];i?.onCreate&&i.onCreate(s);let r=0;for(let n of this.items)s.push(SC.toJS(n,String(r++),i));return s}toString(e,i,s){return e?OC.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:i}):JSON.stringify(this)}static from(e,i,s){let{replacer:r}=s,n=new this(e);if(i&&Symbol.iterator in Object(i)){let o=0;for(let a of i){if(typeof r=="function"){let p=i instanceof Set?a:String(o++);a=r.call(i,p,a)}n.items.push(AC.createNode(a,void 0,s))}}return n}};function go(t){let e=bo.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}rb.YAMLSeq=rd});var Ki=g(ob=>{"use strict";var TC=F(),nb=Lt(),CC={collection:"seq",default:!0,nodeClass:nb.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return TC.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,i)=>nb.YAMLSeq.from(t,e,i)};ob.seq=CC});var qr=g(ab=>{"use strict";var DC=xr(),RC={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,i,s){return e=Object.assign({actualString:!0},e),DC.stringifyString(t,e,i,s)}};ab.string=RC});var xo=g(db=>{"use strict";var pb=pe(),cb={identify:t=>t==null,createNode:()=>new pb.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new pb.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&cb.test.test(t)?t:e.options.nullStr};db.nullTag=cb});var nd=g(ub=>{"use strict";var EC=pe(),lb={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new EC.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},i){if(t&&lb.test.test(t)){let s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?i.options.trueStr:i.options.falseStr}};ub.boolTag=lb});var Mi=g(mb=>{"use strict";function $C({format:t,minFractionDigits:e,tag:i,value:s}){if(typeof s=="bigint")return String(s);let r=typeof s=="number"?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let n=Object.is(s,-0)?"-0":JSON.stringify(s);if(!t&&e&&(!i||i==="tag:yaml.org,2002:float")&&/^\d/.test(n)){let o=n.indexOf(".");o<0&&(o=n.length,n+=".");let a=e-(n.length-o-1);for(;a-- >0;)n+="0"}return n}mb.stringifyNumber=$C});var ad=g(vo=>{"use strict";var _C=pe(),od=Mi(),UC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:od.stringifyNumber},NC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():od.stringifyNumber(t)}},VC={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new _C.Scalar(parseFloat(t)),i=t.indexOf(".");return i!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-i-1),e},stringify:od.stringifyNumber};vo.float=VC;vo.floatExp=NC;vo.floatNaN=UC});var cd=g(Io=>{"use strict";var hb=Mi(),wo=t=>typeof t=="bigint"||Number.isInteger(t),pd=(t,e,i,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),i);function fb(t,e,i){let{value:s}=t;return wo(s)&&s>=0?i+s.toString(e):hb.stringifyNumber(t)}var zC={identify:t=>wo(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,i)=>pd(t,2,8,i),stringify:t=>fb(t,8,"0o")},LC={identify:wo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,i)=>pd(t,0,10,i),stringify:hb.stringifyNumber},HC={identify:t=>wo(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,i)=>pd(t,2,16,i),stringify:t=>fb(t,16,"0x")};Io.int=LC;Io.intHex=HC;Io.intOct=zC});var gb=g(yb=>{"use strict";var BC=Zi(),WC=xo(),FC=Ki(),ZC=qr(),KC=nd(),dd=ad(),ld=cd(),MC=[BC.map,FC.seq,ZC.string,WC.nullTag,KC.boolTag,ld.intOct,ld.int,ld.intHex,dd.floatNaN,dd.floatExp,dd.float];yb.schema=MC});var vb=g(xb=>{"use strict";var JC=pe(),GC=Zi(),YC=Ki();function bb(t){return typeof t=="bigint"||Number.isInteger(t)}var ko=({value:t})=>JSON.stringify(t),QC=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:ko},{identify:t=>t==null,createNode:()=>new JC.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ko},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:ko},{identify:bb,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:i})=>i?BigInt(t):parseInt(t,10),stringify:({value:t})=>bb(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:ko}],XC={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},eD=[GC.map,YC.seq].concat(QC,XC);xb.schema=eD});var md=g(wb=>{"use strict";var Ar=require("buffer"),ud=pe(),tD=xr(),iD={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Ar.Buffer=="function")return Ar.Buffer.from(t,"base64");if(typeof atob=="function"){let i=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(i.length);for(let r=0;r<i.length;++r)s[r]=i.charCodeAt(r);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:i},s,r,n){if(!i)return"";let o=i,a;if(typeof Ar.Buffer=="function")a=o instanceof Ar.Buffer?o.toString("base64"):Ar.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let p="";for(let c=0;c<o.length;++c)p+=String.fromCharCode(o[c]);a=btoa(p)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=ud.Scalar.BLOCK_LITERAL),e!==ud.Scalar.QUOTE_DOUBLE){let p=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),c=Math.ceil(a.length/p),d=new Array(c);for(let l=0,u=0;l<c;++l,u+=p)d[l]=a.substr(u,p);a=d.join(e===ud.Scalar.BLOCK_LITERAL?`
`:" ")}return tD.stringifyString({comment:t,type:e,value:a},s,r,n)}};wb.binary=iD});var Oo=g(Ao=>{"use strict";var qo=F(),hd=Nt(),sD=pe(),rD=Lt();function Ib(t,e){if(qo.isSeq(t))for(let i=0;i<t.items.length;++i){let s=t.items[i];if(!qo.isPair(s)){if(qo.isMap(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");let r=s.items[0]||new hd.Pair(new sD.Scalar(null));if(s.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${s.commentBefore}
${r.key.commentBefore}`:s.commentBefore),s.comment){let n=r.value??r.key;n.comment=n.comment?`${s.comment}
${n.comment}`:s.comment}s=r}t.items[i]=qo.isPair(s)?s:new hd.Pair(s)}}else e("Expected a sequence for this tag");return t}function kb(t,e,i){let{replacer:s}=i,r=new rD.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";let n=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(n++),o));let a,p;if(Array.isArray(o))if(o.length===2)a=o[0],p=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],p=o[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=o;r.items.push(hd.createPair(a,p,i))}return r}var nD={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ib,createNode:kb};Ao.createPairs=kb;Ao.pairs=nD;Ao.resolvePairs=Ib});var gd=g(yd=>{"use strict";var qb=F(),fd=Et(),Or=zt(),oD=Lt(),Ab=Oo(),pi=class t extends oD.YAMLSeq{constructor(){super(),this.add=Or.YAMLMap.prototype.add.bind(this),this.delete=Or.YAMLMap.prototype.delete.bind(this),this.get=Or.YAMLMap.prototype.get.bind(this),this.has=Or.YAMLMap.prototype.has.bind(this),this.set=Or.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,i){if(!i)return super.toJSON(e);let s=new Map;i?.onCreate&&i.onCreate(s);for(let r of this.items){let n,o;if(qb.isPair(r)?(n=fd.toJS(r.key,"",i),o=fd.toJS(r.value,n,i)):n=fd.toJS(r,"",i),s.has(n))throw new Error("Ordered maps must not include duplicate keys");s.set(n,o)}return s}static from(e,i,s){let r=Ab.createPairs(e,i,s),n=new this;return n.items=r.items,n}};pi.tag="tag:yaml.org,2002:omap";var aD={collection:"seq",identify:t=>t instanceof Map,nodeClass:pi,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let i=Ab.resolvePairs(t,e),s=[];for(let{key:r}of i.items)qb.isScalar(r)&&(s.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):s.push(r.value));return Object.assign(new pi,i)},createNode:(t,e,i)=>pi.from(t,e,i)};yd.YAMLOMap=pi;yd.omap=aD});var Tb=g(bd=>{"use strict";var Ob=pe();function jb({value:t,source:e},i){return e&&(t?Pb:Sb).test.test(e)?e:t?i.options.trueStr:i.options.falseStr}var Pb={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ob.Scalar(!0),stringify:jb},Sb={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ob.Scalar(!1),stringify:jb};bd.falseTag=Sb;bd.trueTag=Pb});var Cb=g(jo=>{"use strict";var pD=pe(),xd=Mi(),cD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:xd.stringifyNumber},dD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():xd.stringifyNumber(t)}},lD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new pD.Scalar(parseFloat(t.replace(/_/g,""))),i=t.indexOf(".");if(i!==-1){let s=t.substring(i+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:xd.stringifyNumber};jo.float=lD;jo.floatExp=dD;jo.floatNaN=cD});var Rb=g(Pr=>{"use strict";var Db=Mi(),jr=t=>typeof t=="bigint"||Number.isInteger(t);function Po(t,e,i,{intAsBigInt:s}){let r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(i){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return r==="-"?BigInt(-1)*o:o}let n=parseInt(t,i);return r==="-"?-1*n:n}function vd(t,e,i){let{value:s}=t;if(jr(s)){let r=s.toString(e);return s<0?"-"+i+r.substr(1):i+r}return Db.stringifyNumber(t)}var uD={identify:jr,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,i)=>Po(t,2,2,i),stringify:t=>vd(t,2,"0b")},mD={identify:jr,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,i)=>Po(t,1,8,i),stringify:t=>vd(t,8,"0")},hD={identify:jr,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,i)=>Po(t,0,10,i),stringify:Db.stringifyNumber},fD={identify:jr,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,i)=>Po(t,2,16,i),stringify:t=>vd(t,16,"0x")};Pr.int=hD;Pr.intBin=uD;Pr.intHex=fD;Pr.intOct=mD});var Id=g(wd=>{"use strict";var Co=F(),So=Nt(),To=zt(),ci=class t extends To.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let i;Co.isPair(e)?i=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?i=new So.Pair(e.key,null):i=new So.Pair(e,null),To.findPair(this.items,i.key)||this.items.push(i)}get(e,i){let s=To.findPair(this.items,e);return!i&&Co.isPair(s)?Co.isScalar(s.key)?s.key.value:s.key:s}set(e,i){if(typeof i!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof i}`);let s=To.findPair(this.items,e);s&&!i?this.items.splice(this.items.indexOf(s),1):!s&&i&&this.items.push(new So.Pair(e))}toJSON(e,i){return super.toJSON(e,i,Set)}toString(e,i,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),i,s);throw new Error("Set items must all have null values")}static from(e,i,s){let{replacer:r}=s,n=new this(e);if(i&&Symbol.iterator in Object(i))for(let o of i)typeof r=="function"&&(o=r.call(i,o,o)),n.items.push(So.createPair(o,null,s));return n}};ci.tag="tag:yaml.org,2002:set";var yD={collection:"map",identify:t=>t instanceof Set,nodeClass:ci,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,i)=>ci.from(t,e,i),resolve(t,e){if(Co.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new ci,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};wd.YAMLSet=ci;wd.set=yD});var qd=g(Do=>{"use strict";var gD=Mi();function kd(t,e){let i=t[0],s=i==="-"||i==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),n=s.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return i==="-"?r(-1)*n:n}function Eb(t){let{value:e}=t,i=o=>o;if(typeof e=="bigint")i=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return gD.stringifyNumber(t);let s="";e<0&&(s="-",e*=i(-1));let r=i(60),n=[e%r];return e<60?n.unshift(0):(e=(e-n[0])/r,n.unshift(e%r),e>=60&&(e=(e-n[0])/r,n.unshift(e))),s+n.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var bD={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:i})=>kd(t,i),stringify:Eb},xD={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>kd(t,!1),stringify:Eb},$b={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match($b.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,i,s,r,n,o,a]=e.map(Number),p=e[7]?Number((e[7]+"00").substr(1,3)):0,c=Date.UTC(i,s-1,r,n||0,o||0,a||0,p),d=e[8];if(d&&d!=="Z"){let l=kd(d,!1);Math.abs(l)<30&&(l*=60),c-=6e4*l}return new Date(c)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};Do.floatTime=xD;Do.intTime=bD;Do.timestamp=$b});var Nb=g(Ub=>{"use strict";var vD=Zi(),wD=xo(),ID=Ki(),kD=qr(),qD=md(),_b=Tb(),Ad=Cb(),Ro=Rb(),AD=lo(),OD=gd(),jD=Oo(),PD=Id(),Od=qd(),SD=[vD.map,ID.seq,kD.string,wD.nullTag,_b.trueTag,_b.falseTag,Ro.intBin,Ro.intOct,Ro.int,Ro.intHex,Ad.floatNaN,Ad.floatExp,Ad.float,qD.binary,AD.merge,OD.omap,jD.pairs,PD.set,Od.intTime,Od.floatTime,Od.timestamp];Ub.schema=SD});var Mb=g(Sd=>{"use strict";var Hb=Zi(),TD=xo(),Bb=Ki(),CD=qr(),DD=nd(),jd=ad(),Pd=cd(),RD=gb(),ED=vb(),Wb=md(),Sr=lo(),Fb=gd(),Zb=Oo(),Vb=Nb(),Kb=Id(),Eo=qd(),zb=new Map([["core",RD.schema],["failsafe",[Hb.map,Bb.seq,CD.string]],["json",ED.schema],["yaml11",Vb.schema],["yaml-1.1",Vb.schema]]),Lb={binary:Wb.binary,bool:DD.boolTag,float:jd.float,floatExp:jd.floatExp,floatNaN:jd.floatNaN,floatTime:Eo.floatTime,int:Pd.int,intHex:Pd.intHex,intOct:Pd.intOct,intTime:Eo.intTime,map:Hb.map,merge:Sr.merge,null:TD.nullTag,omap:Fb.omap,pairs:Zb.pairs,seq:Bb.seq,set:Kb.set,timestamp:Eo.timestamp},$D={"tag:yaml.org,2002:binary":Wb.binary,"tag:yaml.org,2002:merge":Sr.merge,"tag:yaml.org,2002:omap":Fb.omap,"tag:yaml.org,2002:pairs":Zb.pairs,"tag:yaml.org,2002:set":Kb.set,"tag:yaml.org,2002:timestamp":Eo.timestamp};function _D(t,e,i){let s=zb.get(e);if(s&&!t)return i&&!s.includes(Sr.merge)?s.concat(Sr.merge):s.slice();let r=s;if(!r)if(Array.isArray(t))r=[];else{let n=Array.from(zb.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(t))for(let n of t)r=r.concat(n);else typeof t=="function"&&(r=t(r.slice()));return i&&(r=r.concat(Sr.merge)),r.reduce((n,o)=>{let a=typeof o=="string"?Lb[o]:o;if(!a){let p=JSON.stringify(o),c=Object.keys(Lb).map(d=>JSON.stringify(d)).join(", ");throw new Error(`Unknown custom tag ${p}; use one of ${c}`)}return n.includes(a)||n.push(a),n},[])}Sd.coreKnownTags=$D;Sd.getTags=_D});var Dd=g(Jb=>{"use strict";var Td=F(),UD=Zi(),ND=Ki(),VD=qr(),$o=Mb(),zD=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,Cd=class t{constructor({compat:e,customTags:i,merge:s,resolveKnownTags:r,schema:n,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?$o.getTags(e,"compat"):e?$o.getTags(null,e):null,this.name=typeof n=="string"&&n||"core",this.knownTags=r?$o.coreKnownTags:{},this.tags=$o.getTags(i,this.name,s),this.toStringOptions=a??null,Object.defineProperty(this,Td.MAP,{value:UD.map}),Object.defineProperty(this,Td.SCALAR,{value:VD.string}),Object.defineProperty(this,Td.SEQ,{value:ND.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?zD:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};Jb.Schema=Cd});var Yb=g(Gb=>{"use strict";var LD=F(),Rd=vr(),Tr=yr();function HD(t,e){let i=[],s=e.directives===!0;if(e.directives!==!1&&t.directives){let p=t.directives.toString(t);p?(i.push(p),s=!0):t.directives.docStart&&(s=!0)}s&&i.push("---");let r=Rd.createStringifyContext(t,e),{commentString:n}=r.options;if(t.commentBefore){i.length!==1&&i.unshift("");let p=n(t.commentBefore);i.unshift(Tr.indentComment(p,""))}let o=!1,a=null;if(t.contents){if(LD.isNode(t.contents)){if(t.contents.spaceBefore&&s&&i.push(""),t.contents.commentBefore){let d=n(t.contents.commentBefore);i.push(Tr.indentComment(d,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}let p=a?void 0:()=>o=!0,c=Rd.stringify(t.contents,r,()=>a=null,p);a&&(c+=Tr.lineComment(c,"",n(a))),(c[0]==="|"||c[0]===">")&&i[i.length-1]==="---"?i[i.length-1]=`--- ${c}`:i.push(c)}else i.push(Rd.stringify(t.contents,r));if(t.directives?.docEnd)if(t.comment){let p=n(t.comment);p.includes(`
`)?(i.push("..."),i.push(Tr.indentComment(p,""))):i.push(`... ${p}`)}else i.push("...");else{let p=t.comment;p&&o&&(p=p.replace(/^\n+/,"")),p&&((!o||a)&&i[i.length-1]!==""&&i.push(""),i.push(Tr.indentComment(n(p),"")))}return i.join(`
`)+`
`}Gb.stringifyDocument=HD});var Cr=g(Qb=>{"use strict";var BD=hr(),Ji=to(),We=F(),WD=Nt(),FD=Et(),ZD=Dd(),KD=Yb(),Ed=Yn(),MD=Nc(),JD=fr(),$d=Uc(),_d=class t{constructor(e,i,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,We.NODE_TYPE,{value:We.DOC});let r=null;typeof i=="function"||Array.isArray(i)?r=i:s===void 0&&i&&(s=i,i=void 0);let n=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},s);this.options=n;let{version:o}=n;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new $d.Directives({version:o}),this.setSchema(o,s),this.contents=e===void 0?null:this.createNode(e,r,s)}clone(){let e=Object.create(t.prototype,{[We.NODE_TYPE]:{value:We.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=We.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Gi(this.contents)&&this.contents.add(e)}addIn(e,i){Gi(this.contents)&&this.contents.addIn(e,i)}createAlias(e,i){if(!e.anchor){let s=Ed.anchorNames(this);e.anchor=!i||s.has(i)?Ed.findNewAnchor(i||"a",s):i}return new BD.Alias(e.anchor)}createNode(e,i,s){let r;if(typeof i=="function")e=i.call({"":e},"",e),r=i;else if(Array.isArray(i)){let f=w=>typeof w=="number"||w instanceof String||w instanceof Number,x=i.filter(f).map(String);x.length>0&&(i=i.concat(x)),r=i}else s===void 0&&i&&(s=i,i=void 0);let{aliasDuplicateObjects:n,anchorPrefix:o,flow:a,keepUndefined:p,onTagObj:c,tag:d}=s??{},{onAnchor:l,setAnchors:u,sourceObjects:y}=Ed.createNodeAnchors(this,o||"a"),h={aliasDuplicateObjects:n??!0,keepUndefined:p??!1,onAnchor:l,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:y},m=JD.createNode(e,d,h);return a&&We.isCollection(m)&&(m.flow=!0),u(),m}createPair(e,i,s={}){let r=this.createNode(e,null,s),n=this.createNode(i,null,s);return new WD.Pair(r,n)}delete(e){return Gi(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Ji.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Gi(this.contents)?this.contents.deleteIn(e):!1}get(e,i){return We.isCollection(this.contents)?this.contents.get(e,i):void 0}getIn(e,i){return Ji.isEmptyPath(e)?!i&&We.isScalar(this.contents)?this.contents.value:this.contents:We.isCollection(this.contents)?this.contents.getIn(e,i):void 0}has(e){return We.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Ji.isEmptyPath(e)?this.contents!==void 0:We.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,i){this.contents==null?this.contents=Ji.collectionFromPath(this.schema,[e],i):Gi(this.contents)&&this.contents.set(e,i)}setIn(e,i){Ji.isEmptyPath(e)?this.contents=i:this.contents==null?this.contents=Ji.collectionFromPath(this.schema,Array.from(e),i):Gi(this.contents)&&this.contents.setIn(e,i)}setSchema(e,i={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new $d.Directives({version:"1.1"}),s={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new $d.Directives({version:e}),s={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(i.schema instanceof Object)this.schema=i.schema;else if(s)this.schema=new ZD.Schema(Object.assign(s,i));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:i,mapAsMap:s,maxAliasCount:r,onAnchor:n,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},p=FD.toJS(this.contents,i??"",a);if(typeof n=="function")for(let{count:c,res:d}of a.anchors.values())n(d,c);return typeof o=="function"?MD.applyReviver(o,{"":p},"",p):p}toJSON(e,i){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:i})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let i=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${i}`)}return KD.stringifyDocument(this,e)}};function Gi(t){if(We.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}Qb.Document=_d});var Er=g(Rr=>{"use strict";var Dr=class extends Error{constructor(e,i,s,r){super(),this.name=e,this.code=s,this.message=r,this.pos=i}},Ud=class extends Dr{constructor(e,i,s){super("YAMLParseError",e,i,s)}},Nd=class extends Dr{constructor(e,i,s){super("YAMLWarning",e,i,s)}},GD=(t,e)=>i=>{if(i.pos[0]===-1)return;i.linePos=i.pos.map(a=>e.linePos(a));let{line:s,col:r}=i.linePos[0];i.message+=` at line ${s}, column ${r}`;let n=r-1,o=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(n>=60&&o.length>80){let a=Math.min(n-39,o.length-79);o="\u2026"+o.substring(a),n-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,n))){let a=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,p=i.linePos[1];p?.line===s&&p.col>r&&(a=Math.max(1,Math.min(p.col-r,80-n)));let c=" ".repeat(n)+"^".repeat(a);i.message+=`:

${o}
${c}
`}};Rr.YAMLError=Dr;Rr.YAMLParseError=Ud;Rr.YAMLWarning=Nd;Rr.prettifyError=GD});var $r=g(Xb=>{"use strict";function YD(t,{flow:e,indicator:i,next:s,offset:r,onError:n,parentIndent:o,startOnNewline:a}){let p=!1,c=a,d=a,l="",u="",y=!1,h=!1,m=null,f=null,x=null,w=null,I=null,A=null,q=null;for(let k of t)switch(h&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&n(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),m&&(c&&k.type!=="comment"&&k.type!=="newline"&&n(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),k.type){case"space":!e&&(i!=="doc-start"||s?.type!=="flow-collection")&&k.source.includes("	")&&(m=k),d=!0;break;case"comment":{d||n(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let T=k.source.substring(1)||" ";l?l+=u+T:l=T,u="",c=!1;break}case"newline":c?l?l+=k.source:(!A||i!=="seq-item-ind")&&(p=!0):u+=k.source,c=!0,y=!0,(f||x)&&(w=k),d=!0;break;case"anchor":f&&n(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&n(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),f=k,q??(q=k.offset),c=!1,d=!1,h=!0;break;case"tag":{x&&n(k,"MULTIPLE_TAGS","A node can have at most one tag"),x=k,q??(q=k.offset),c=!1,d=!1,h=!0;break}case i:(f||x)&&n(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),A&&n(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${e??"collection"}`),A=k,c=i==="seq-item-ind"||i==="explicit-key-ind",d=!1;break;case"comma":if(e){I&&n(k,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),I=k,c=!1,d=!1;break}default:n(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),c=!1,d=!1}let v=t[t.length-1],O=v?v.offset+v.source.length:r;return h&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&n(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(c&&m.indent<=o||s?.type==="block-map"||s?.type==="block-seq")&&n(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:I,found:A,spaceBefore:p,comment:l,hasNewline:y,anchor:f,tag:x,newlineAfterProp:w,end:O,start:q??O}}Xb.resolveProps=YD});var _o=g(ex=>{"use strict";function Vd(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let i of e.start)if(i.type==="newline")return!0;if(e.sep){for(let i of e.sep)if(i.type==="newline")return!0}if(Vd(e.key)||Vd(e.value))return!0}return!1;default:return!0}}ex.containsNewline=Vd});var zd=g(tx=>{"use strict";var QD=_o();function XD(t,e,i){if(e?.type==="flow-collection"){let s=e.end[0];s.indent===t&&(s.source==="]"||s.source==="}")&&QD.containsNewline(e)&&i(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}tx.flowIndentCheck=XD});var Ld=g(sx=>{"use strict";var ix=F();function eR(t,e,i){let{uniqueKeys:s}=t.options;if(s===!1)return!1;let r=typeof s=="function"?s:(n,o)=>n===o||ix.isScalar(n)&&ix.isScalar(o)&&n.value===o.value;return e.some(n=>r(n.key,i))}sx.mapIncludes=eR});var cx=g(px=>{"use strict";var rx=Nt(),tR=zt(),nx=$r(),iR=_o(),ox=zd(),sR=Ld(),ax="All mapping items must start at the same column";function rR({composeNode:t,composeEmptyNode:e},i,s,r,n){let o=n?.nodeClass??tR.YAMLMap,a=new o(i.schema);i.atRoot&&(i.atRoot=!1);let p=s.offset,c=null;for(let d of s.items){let{start:l,key:u,sep:y,value:h}=d,m=nx.resolveProps(l,{indicator:"explicit-key-ind",next:u??y?.[0],offset:p,onError:r,parentIndent:s.indent,startOnNewline:!0}),f=!m.found;if(f){if(u&&(u.type==="block-seq"?r(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&r(p,"BAD_INDENT",ax)),!m.anchor&&!m.tag&&!y){c=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||iR.containsNewline(u))&&r(u??l[l.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==s.indent&&r(p,"BAD_INDENT",ax);i.atKey=!0;let x=m.end,w=u?t(i,u,m,r):e(i,x,l,null,m,r);i.schema.compat&&ox.flowIndentCheck(s.indent,u,r),i.atKey=!1,sR.mapIncludes(i,a.items,w)&&r(x,"DUPLICATE_KEY","Map keys must be unique");let I=nx.resolveProps(y??[],{indicator:"map-value-ind",next:h,offset:w.range[2],onError:r,parentIndent:s.indent,startOnNewline:!u||u.type==="block-scalar"});if(p=I.end,I.found){f&&(h?.type==="block-map"&&!I.hasNewline&&r(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),i.options.strict&&m.start<I.found.offset-1024&&r(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let A=h?t(i,h,I,r):e(i,p,y,null,I,r);i.schema.compat&&ox.flowIndentCheck(s.indent,h,r),p=A.range[2];let q=new rx.Pair(w,A);i.options.keepSourceTokens&&(q.srcToken=d),a.items.push(q)}else{f&&r(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),I.comment&&(w.comment?w.comment+=`
`+I.comment:w.comment=I.comment);let A=new rx.Pair(w);i.options.keepSourceTokens&&(A.srcToken=d),a.items.push(A)}}return c&&c<p&&r(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[s.offset,p,c??p],a}px.resolveBlockMap=rR});var lx=g(dx=>{"use strict";var nR=Lt(),oR=$r(),aR=zd();function pR({composeNode:t,composeEmptyNode:e},i,s,r,n){let o=n?.nodeClass??nR.YAMLSeq,a=new o(i.schema);i.atRoot&&(i.atRoot=!1),i.atKey&&(i.atKey=!1);let p=s.offset,c=null;for(let{start:d,value:l}of s.items){let u=oR.resolveProps(d,{indicator:"seq-item-ind",next:l,offset:p,onError:r,parentIndent:s.indent,startOnNewline:!0});if(!u.found)if(u.anchor||u.tag||l)l?.type==="block-seq"?r(u.end,"BAD_INDENT","All sequence items must start at the same column"):r(p,"MISSING_CHAR","Sequence item without - indicator");else{c=u.end,u.comment&&(a.comment=u.comment);continue}let y=l?t(i,l,u,r):e(i,u.end,d,null,u,r);i.schema.compat&&aR.flowIndentCheck(s.indent,l,r),p=y.range[2],a.items.push(y)}return a.range=[s.offset,p,c??p],a}dx.resolveBlockSeq=pR});var Yi=g(ux=>{"use strict";function cR(t,e,i,s){let r="";if(t){let n=!1,o="";for(let a of t){let{source:p,type:c}=a;switch(c){case"space":n=!0;break;case"comment":{i&&!n&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let d=p.substring(1)||" ";r?r+=o+d:r=d,o="";break}case"newline":r&&(o+=p),n=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=p.length}}return{comment:r,offset:e}}ux.resolveEnd=cR});var yx=g(fx=>{"use strict";var dR=F(),lR=Nt(),mx=zt(),uR=Lt(),mR=Yi(),hx=$r(),hR=_o(),fR=Ld(),Hd="Block collections are not allowed within flow collections",Bd=t=>t&&(t.type==="block-map"||t.type==="block-seq");function yR({composeNode:t,composeEmptyNode:e},i,s,r,n){let o=s.start.source==="{",a=o?"flow map":"flow sequence",p=n?.nodeClass??(o?mx.YAMLMap:uR.YAMLSeq),c=new p(i.schema);c.flow=!0;let d=i.atRoot;d&&(i.atRoot=!1),i.atKey&&(i.atKey=!1);let l=s.offset+s.start.source.length;for(let f=0;f<s.items.length;++f){let x=s.items[f],{start:w,key:I,sep:A,value:q}=x,v=hx.resolveProps(w,{flow:a,indicator:"explicit-key-ind",next:I??A?.[0],offset:l,onError:r,parentIndent:s.indent,startOnNewline:!1});if(!v.found){if(!v.anchor&&!v.tag&&!A&&!q){f===0&&v.comma?r(v.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):f<s.items.length-1&&r(v.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),v.comment&&(c.comment?c.comment+=`
`+v.comment:c.comment=v.comment),l=v.end;continue}!o&&i.options.strict&&hR.containsNewline(I)&&r(I,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(f===0)v.comma&&r(v.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(v.comma||r(v.start,"MISSING_CHAR",`Missing , between ${a} items`),v.comment){let O="";e:for(let k of w)switch(k.type){case"comma":case"space":break;case"comment":O=k.source.substring(1);break e;default:break e}if(O){let k=c.items[c.items.length-1];dR.isPair(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+O:k.comment=O,v.comment=v.comment.substring(O.length+1)}}if(!o&&!A&&!v.found){let O=q?t(i,q,v,r):e(i,v.end,A,null,v,r);c.items.push(O),l=O.range[2],Bd(q)&&r(O.range,"BLOCK_IN_FLOW",Hd)}else{i.atKey=!0;let O=v.end,k=I?t(i,I,v,r):e(i,O,w,null,v,r);Bd(I)&&r(k.range,"BLOCK_IN_FLOW",Hd),i.atKey=!1;let T=hx.resolveProps(A??[],{flow:a,indicator:"map-value-ind",next:q,offset:k.range[2],onError:r,parentIndent:s.indent,startOnNewline:!1});if(T.found){if(!o&&!v.found&&i.options.strict){if(A)for(let S of A){if(S===T.found)break;if(S.type==="newline"){r(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}v.start<T.found.offset-1024&&r(T.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else q&&("source"in q&&q.source?.[0]===":"?r(q,"MISSING_CHAR",`Missing space after : in ${a}`):r(T.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let N=q?t(i,q,T,r):T.found?e(i,T.end,A,null,T,r):null;N?Bd(q)&&r(N.range,"BLOCK_IN_FLOW",Hd):T.comment&&(k.comment?k.comment+=`
`+T.comment:k.comment=T.comment);let L=new lR.Pair(k,N);if(i.options.keepSourceTokens&&(L.srcToken=x),o){let S=c;fR.mapIncludes(i,S.items,k)&&r(O,"DUPLICATE_KEY","Map keys must be unique"),S.items.push(L)}else{let S=new mx.YAMLMap(i.schema);S.flow=!0,S.items.push(L);let $=(N??k).range;S.range=[k.range[0],$[1],$[2]],c.items.push(S)}l=N?N.range[2]:T.end}}let u=o?"}":"]",[y,...h]=s.end,m=l;if(y?.source===u)m=y.offset+y.source.length;else{let f=a[0].toUpperCase()+a.substring(1),x=d?`${f} must end with a ${u}`:`${f} in block collection must be sufficiently indented and end with a ${u}`;r(l,d?"MISSING_CHAR":"BAD_INDENT",x),y&&y.source.length!==1&&h.unshift(y)}if(h.length>0){let f=mR.resolveEnd(h,m,i.options.strict,r);f.comment&&(c.comment?c.comment+=`
`+f.comment:c.comment=f.comment),c.range=[s.offset,m,f.offset]}else c.range=[s.offset,m,m];return c}fx.resolveFlowCollection=yR});var bx=g(gx=>{"use strict";var gR=F(),bR=pe(),xR=zt(),vR=Lt(),wR=cx(),IR=lx(),kR=yx();function Wd(t,e,i,s,r,n){let o=i.type==="block-map"?wR.resolveBlockMap(t,e,i,s,n):i.type==="block-seq"?IR.resolveBlockSeq(t,e,i,s,n):kR.resolveFlowCollection(t,e,i,s,n),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function qR(t,e,i,s,r){let n=s.tag,o=n?e.directives.tagName(n.source,u=>r(n,"TAG_RESOLVE_FAILED",u)):null;if(i.type==="block-seq"){let{anchor:u,newlineAfterProp:y}=s,h=u&&n?u.offset>n.offset?u:n:u??n;h&&(!y||y.offset<h.offset)&&r(h,"MISSING_CHAR","Missing newline after block sequence props")}let a=i.type==="block-map"?"map":i.type==="block-seq"?"seq":i.start.source==="{"?"map":"seq";if(!n||!o||o==="!"||o===xR.YAMLMap.tagName&&a==="map"||o===vR.YAMLSeq.tagName&&a==="seq")return Wd(t,e,i,r,o);let p=e.schema.tags.find(u=>u.tag===o&&u.collection===a);if(!p){let u=e.schema.knownTags[o];if(u?.collection===a)e.schema.tags.push(Object.assign({},u,{default:!1})),p=u;else return u?r(n,"BAD_COLLECTION_TYPE",`${u.tag} used for ${a} collection, but expects ${u.collection??"scalar"}`,!0):r(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),Wd(t,e,i,r,o)}let c=Wd(t,e,i,r,o,p),d=p.resolve?.(c,u=>r(n,"TAG_RESOLVE_FAILED",u),e.options)??c,l=gR.isNode(d)?d:new bR.Scalar(d);return l.range=c.range,l.tag=o,p?.format&&(l.format=p.format),l}gx.composeCollection=qR});var Zd=g(xx=>{"use strict";var Fd=pe();function AR(t,e,i){let s=e.offset,r=OR(e,t.options.strict,i);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};let n=r.mode===">"?Fd.Scalar.BLOCK_FOLDED:Fd.Scalar.BLOCK_LITERAL,o=e.source?jR(e.source):[],a=o.length;for(let m=o.length-1;m>=0;--m){let f=o[m][1];if(f===""||f==="\r")a=m;else break}if(a===0){let m=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",f=s+r.length;return e.source&&(f+=e.source.length),{value:m,type:n,comment:r.comment,range:[s,f,f]}}let p=e.indent+r.indent,c=e.offset+r.length,d=0;for(let m=0;m<a;++m){let[f,x]=o[m];if(x===""||x==="\r")r.indent===0&&f.length>p&&(p=f.length);else{f.length<p&&i(c+f.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),r.indent===0&&(p=f.length),d=m,p===0&&!t.atRoot&&i(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=f.length+x.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>p&&(a=m+1);let l="",u="",y=!1;for(let m=0;m<d;++m)l+=o[m][0].slice(p)+`
`;for(let m=d;m<a;++m){let[f,x]=o[m];c+=f.length+x.length+1;let w=x[x.length-1]==="\r";if(w&&(x=x.slice(0,-1)),x&&f.length<p){let A=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;i(c-x.length-(w?2:1),"BAD_INDENT",A),f=""}n===Fd.Scalar.BLOCK_LITERAL?(l+=u+f.slice(p)+x,u=`
`):f.length>p||x[0]==="	"?(u===" "?u=`
`:!y&&u===`
`&&(u=`

`),l+=u+f.slice(p)+x,u=`
`,y=!0):x===""?u===`
`?l+=`
`:u=`
`:(l+=u+x,u=" ",y=!1)}switch(r.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)l+=`
`+o[m][0].slice(p);l[l.length-1]!==`
`&&(l+=`
`);break;default:l+=`
`}let h=s+r.length+e.source.length;return{value:l,type:n,comment:r.comment,range:[s,h,h]}}function OR({offset:t,props:e},i,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],n=r[0],o=0,a="",p=-1;for(let u=1;u<r.length;++u){let y=r[u];if(!a&&(y==="-"||y==="+"))a=y;else{let h=Number(y);!o&&h?o=h:p===-1&&(p=t+u)}}p!==-1&&s(p,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let c=!1,d="",l=r.length;for(let u=1;u<e.length;++u){let y=e[u];switch(y.type){case"space":c=!0;case"newline":l+=y.source.length;break;case"comment":i&&!c&&s(y,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),l+=y.source.length,d=y.source.substring(1);break;case"error":s(y,"UNEXPECTED_TOKEN",y.message),l+=y.source.length;break;default:{let h=`Unexpected token in block scalar header: ${y.type}`;s(y,"UNEXPECTED_TOKEN",h);let m=y.source;m&&typeof m=="string"&&(l+=m.length)}}}return{mode:n,indent:o,chomp:a,comment:d,length:l}}function jR(t){let e=t.split(/\n( *)/),i=e[0],s=i.match(/^( *)/),n=[s?.[1]?[s[1],i.slice(s[1].length)]:["",i]];for(let o=1;o<e.length;o+=2)n.push([e[o],e[o+1]]);return n}xx.resolveBlockScalar=AR});var Md=g(wx=>{"use strict";var Kd=pe(),PR=Yi();function SR(t,e,i){let{offset:s,type:r,source:n,end:o}=t,a,p,c=(u,y,h)=>i(s+u,y,h);switch(r){case"scalar":a=Kd.Scalar.PLAIN,p=TR(n,c);break;case"single-quoted-scalar":a=Kd.Scalar.QUOTE_SINGLE,p=CR(n,c);break;case"double-quoted-scalar":a=Kd.Scalar.QUOTE_DOUBLE,p=DR(n,c);break;default:return i(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+n.length,s+n.length]}}let d=s+n.length,l=PR.resolveEnd(o,d,e,i);return{value:p,type:a,comment:l.comment,range:[s,d,l.offset]}}function TR(t,e){let i="";switch(t[0]){case"	":i="a tab character";break;case",":i="flow indicator character ,";break;case"%":i="directive indicator character %";break;case"|":case">":{i=`block scalar indicator ${t[0]}`;break}case"@":case"`":{i=`reserved character ${t[0]}`;break}}return i&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${i}`),vx(t)}function CR(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),vx(t.slice(1,-1)).replace(/''/g,"'")}function vx(t){let e,i;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),i=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,i=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],n=" ",o=e.lastIndex;for(i.lastIndex=o;s=i.exec(t);)s[1]===""?n===`
`?r+=n:n=`
`:(r+=n+s[1],n=" "),o=i.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(t),r+n+(s?.[1]??"")}function DR(t,e){let i="";for(let s=1;s<t.length-1;++s){let r=t[s];if(!(r==="\r"&&t[s+1]===`
`))if(r===`
`){let{fold:n,offset:o}=RR(t,s);i+=n,s=o}else if(r==="\\"){let n=t[++s],o=ER[n];if(o)i+=o;else if(n===`
`)for(n=t[s+1];n===" "||n==="	";)n=t[++s+1];else if(n==="\r"&&t[s+1]===`
`)for(n=t[++s+1];n===" "||n==="	";)n=t[++s+1];else if(n==="x"||n==="u"||n==="U"){let a={x:2,u:4,U:8}[n];i+=$R(t,s+1,a,e),s+=a}else{let a=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),i+=a}}else if(r===" "||r==="	"){let n=s,o=t[s+1];for(;o===" "||o==="	";)o=t[++s+1];o!==`
`&&!(o==="\r"&&t[s+2]===`
`)&&(i+=s>n?t.slice(n,s+1):r)}else i+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),i}function RR(t,e){let i="",s=t[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&t[e+2]!==`
`);)s===`
`&&(i+=`
`),e+=1,s=t[e+1];return i||(i=" "),{fold:i,offset:e}}var ER={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function $R(t,e,i,s){let r=t.substr(e,i),o=r.length===i&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=t.substr(e-2,i+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}wx.resolveFlowScalar=SR});var qx=g(kx=>{"use strict";var di=F(),Ix=pe(),_R=Zd(),UR=Md();function NR(t,e,i,s){let{value:r,type:n,comment:o,range:a}=e.type==="block-scalar"?_R.resolveBlockScalar(t,e,s):UR.resolveFlowScalar(e,t.options.strict,s),p=i?t.directives.tagName(i.source,l=>s(i,"TAG_RESOLVE_FAILED",l)):null,c;t.options.stringKeys&&t.atKey?c=t.schema[di.SCALAR]:p?c=VR(t.schema,r,p,i,s):e.type==="scalar"?c=zR(t,r,e,s):c=t.schema[di.SCALAR];let d;try{let l=c.resolve(r,u=>s(i??e,"TAG_RESOLVE_FAILED",u),t.options);d=di.isScalar(l)?l:new Ix.Scalar(l)}catch(l){let u=l instanceof Error?l.message:String(l);s(i??e,"TAG_RESOLVE_FAILED",u),d=new Ix.Scalar(r)}return d.range=a,d.source=r,n&&(d.type=n),p&&(d.tag=p),c.format&&(d.format=c.format),o&&(d.comment=o),d}function VR(t,e,i,s,r){if(i==="!")return t[di.SCALAR];let n=[];for(let a of t.tags)if(!a.collection&&a.tag===i)if(a.default&&a.test)n.push(a);else return a;for(let a of n)if(a.test?.test(e))return a;let o=t.knownTags[i];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,i!=="tag:yaml.org,2002:str"),t[di.SCALAR])}function zR({atKey:t,directives:e,schema:i},s,r,n){let o=i.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(s))||i[di.SCALAR];if(i.compat){let a=i.compat.find(p=>p.default&&p.test?.test(s))??i[di.SCALAR];if(o.tag!==a.tag){let p=e.tagString(o.tag),c=e.tagString(a.tag),d=`Value may be parsed as either ${p} or ${c}`;n(r,"TAG_RESOLVE_FAILED",d,!0)}}return o}kx.composeScalar=NR});var Ox=g(Ax=>{"use strict";function LR(t,e,i){if(e){i??(i=e.length);for(let s=i-1;s>=0;--s){let r=e[s];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++s];r?.type==="space";)t+=r.source.length,r=e[++s];break}}return t}Ax.emptyScalarPosition=LR});var Sx=g(Gd=>{"use strict";var HR=hr(),BR=F(),WR=bx(),jx=qx(),FR=Yi(),ZR=Ox(),KR={composeNode:Px,composeEmptyNode:Jd};function Px(t,e,i,s){let r=t.atKey,{spaceBefore:n,comment:o,anchor:a,tag:p}=i,c,d=!0;switch(e.type){case"alias":c=MR(t,e,s),(a||p)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=jx.composeScalar(t,e,p,s),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=WR.composeCollection(KR,t,e,i,s),a&&(c.anchor=a.source.substring(1));break;default:{let l=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",l),c=Jd(t,e.offset,void 0,null,i,s),d=!1}}return a&&c.anchor===""&&s(a,"BAD_ALIAS","Anchor cannot be an empty string"),r&&t.options.stringKeys&&(!BR.isScalar(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&s(p??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),n&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&d&&(c.srcToken=e),c}function Jd(t,e,i,s,{spaceBefore:r,comment:n,anchor:o,tag:a,end:p},c){let d={type:"scalar",offset:ZR.emptyScalarPosition(e,i,s),indent:-1,source:""},l=jx.composeScalar(t,d,a,c);return o&&(l.anchor=o.source.substring(1),l.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(l.spaceBefore=!0),n&&(l.comment=n,l.range[2]=p),l}function MR({options:t},{offset:e,source:i,end:s},r){let n=new HR.Alias(i.substring(1));n.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),n.source.endsWith(":")&&r(e+i.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+i.length,a=FR.resolveEnd(s,o,t.strict,r);return n.range=[e,o,a.offset],a.comment&&(n.comment=a.comment),n}Gd.composeEmptyNode=Jd;Gd.composeNode=Px});var Dx=g(Cx=>{"use strict";var JR=Cr(),Tx=Sx(),GR=Yi(),YR=$r();function QR(t,e,{offset:i,start:s,value:r,end:n},o){let a=Object.assign({_directives:e},t),p=new JR.Document(void 0,a),c={atKey:!1,atRoot:!0,directives:p.directives,options:p.options,schema:p.schema},d=YR.resolveProps(s,{indicator:"doc-start",next:r??n?.[0],offset:i,onError:o,parentIndent:0,startOnNewline:!0});d.found&&(p.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),p.contents=r?Tx.composeNode(c,r,d,o):Tx.composeEmptyNode(c,d.end,s,null,d,o);let l=p.contents.range[2],u=GR.resolveEnd(n,l,!1,o);return u.comment&&(p.comment=u.comment),p.range=[i,l,u.offset],p}Cx.composeDoc=QR});var Qd=g($x=>{"use strict";var XR=require("process"),eE=Uc(),tE=Cr(),_r=Er(),Rx=F(),iE=Dx(),sE=Yi();function Ur(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:i}=t;return[e,e+(typeof i=="string"?i.length:1)]}function Ex(t){let e="",i=!1,s=!1;for(let r=0;r<t.length;++r){let n=t[r];switch(n[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(n.substring(1)||" "),i=!0,s=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),i=!1;break;default:i||(s=!0),i=!1}}return{comment:e,afterEmptyLine:s}}var Yd=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(i,s,r,n)=>{let o=Ur(i);n?this.warnings.push(new _r.YAMLWarning(o,s,r)):this.errors.push(new _r.YAMLParseError(o,s,r))},this.directives=new eE.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,i){let{comment:s,afterEmptyLine:r}=Ex(this.prelude);if(s){let n=e.contents;if(i)e.comment=e.comment?`${e.comment}
${s}`:s;else if(r||e.directives.docStart||!n)e.commentBefore=s;else if(Rx.isCollection(n)&&!n.flow&&n.items.length>0){let o=n.items[0];Rx.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{let o=n.commentBefore;n.commentBefore=o?`${s}
${o}`:s}}i?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Ex(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,i=!1,s=-1){for(let r of e)yield*this.next(r);yield*this.end(i,s)}*next(e){switch(XR.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(i,s,r)=>{let n=Ur(e);n[0]+=i,this.onError(n,"BAD_DIRECTIVE",s,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let i=iE.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!i.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(i,!1),this.doc&&(yield this.doc),this.doc=i,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let i=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new _r.YAMLParseError(Ur(e),"UNEXPECTED_TOKEN",i);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){let s="Unexpected doc-end without preceding document";this.errors.push(new _r.YAMLParseError(Ur(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;let i=sE.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),i.comment){let s=this.doc.comment;this.doc.comment=s?`${s}
${i.comment}`:i.comment}this.doc.range[2]=i.offset;break}default:this.errors.push(new _r.YAMLParseError(Ur(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,i=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let s=Object.assign({_directives:this.directives},this.options),r=new tE.Document(void 0,s);this.atDirectives&&this.onError(i,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,i,i],this.decorate(r,!1),yield r}}};$x.Composer=Yd});var Nx=g(Uo=>{"use strict";var rE=Zd(),nE=Md(),oE=Er(),_x=xr();function aE(t,e=!0,i){if(t){let s=(r,n,o)=>{let a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(i)i(a,n,o);else throw new oE.YAMLParseError([a,a+1],n,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return nE.resolveFlowScalar(t,e,s);case"block-scalar":return rE.resolveBlockScalar({options:{strict:e}},t,s)}}return null}function pE(t,e){let{implicitKey:i=!1,indent:s,inFlow:r=!1,offset:n=-1,type:o="PLAIN"}=e,a=_x.stringifyString({type:o,value:t},{implicitKey:i,indent:s>0?" ".repeat(s):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),p=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{let c=a.indexOf(`
`),d=a.substring(0,c),l=a.substring(c+1)+`
`,u=[{type:"block-scalar-header",offset:n,indent:s,source:d}];return Ux(u,p)||u.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:n,indent:s,props:u,source:l}}case'"':return{type:"double-quoted-scalar",offset:n,indent:s,source:a,end:p};case"'":return{type:"single-quoted-scalar",offset:n,indent:s,source:a,end:p};default:return{type:"scalar",offset:n,indent:s,source:a,end:p}}}function cE(t,e,i={}){let{afterKey:s=!1,implicitKey:r=!1,inFlow:n=!1,type:o}=i,a="indent"in t?t.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let c=t.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let p=_x.stringifyString({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:n,options:{blockQuote:!0,lineWidth:-1}});switch(p[0]){case"|":case">":dE(t,p);break;case'"':Xd(t,p,"double-quoted-scalar");break;case"'":Xd(t,p,"single-quoted-scalar");break;default:Xd(t,p,"scalar")}}function dE(t,e){let i=e.indexOf(`
`),s=e.substring(0,i),r=e.substring(i+1)+`
`;if(t.type==="block-scalar"){let n=t.props[0];if(n.type!=="block-scalar-header")throw new Error("Invalid block scalar header");n.source=s,t.source=r}else{let{offset:n}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:n,indent:o,source:s}];Ux(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let p of Object.keys(t))p!=="type"&&p!=="offset"&&delete t[p];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function Ux(t,e){if(e)for(let i of e)switch(i.type){case"space":case"comment":t.push(i);break;case"newline":return t.push(i),!0}return!1}function Xd(t,e,i){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=i,t.source=e;break;case"block-scalar":{let s=t.props.slice(1),r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(let n of s)n.offset+=r;delete t.props,Object.assign(t,{type:i,source:e,end:s});break}case"block-map":case"block-seq":{let r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:i,source:e,end:[r]});break}default:{let s="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(n=>n.type==="space"||n.type==="comment"||n.type==="newline"):[];for(let n of Object.keys(t))n!=="type"&&n!=="offset"&&delete t[n];Object.assign(t,{type:i,indent:s,source:e,end:r})}}}Uo.createScalarToken=pE;Uo.resolveAsScalar=aE;Uo.setScalarValue=cE});var zx=g(Vx=>{"use strict";var lE=t=>"type"in t?Vo(t):No(t);function Vo(t){switch(t.type){case"block-scalar":{let e="";for(let i of t.props)e+=Vo(i);return e+t.source}case"block-map":case"block-seq":{let e="";for(let i of t.items)e+=No(i);return e}case"flow-collection":{let e=t.start.source;for(let i of t.items)e+=No(i);for(let i of t.end)e+=i.source;return e}case"document":{let e=No(t);if(t.end)for(let i of t.end)e+=i.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let i of t.end)e+=i.source;return e}}}function No({start:t,key:e,sep:i,value:s}){let r="";for(let n of t)r+=n.source;if(e&&(r+=Vo(e)),i)for(let n of i)r+=n.source;return s&&(r+=Vo(s)),r}Vx.stringify=lE});var Wx=g(Bx=>{"use strict";var el=Symbol("break visit"),uE=Symbol("skip children"),Lx=Symbol("remove item");function li(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Hx(Object.freeze([]),t,e)}li.BREAK=el;li.SKIP=uE;li.REMOVE=Lx;li.itemAtPath=(t,e)=>{let i=t;for(let[s,r]of e){let n=i?.[s];if(n&&"items"in n)i=n.items[r];else return}return i};li.parentCollection=(t,e)=>{let i=li.itemAtPath(t,e.slice(0,-1)),s=e[e.length-1][0],r=i?.[s];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function Hx(t,e,i){let s=i(e,t);if(typeof s=="symbol")return s;for(let r of["key","value"]){let n=e[r];if(n&&"items"in n){for(let o=0;o<n.items.length;++o){let a=Hx(Object.freeze(t.concat([[r,o]])),n.items[o],i);if(typeof a=="number")o=a-1;else{if(a===el)return el;a===Lx&&(n.items.splice(o,1),o-=1)}}typeof s=="function"&&r==="key"&&(s=s(e,t))}}return typeof s=="function"?s(e,t):s}Bx.visit=li});var zo=g(De=>{"use strict";var tl=Nx(),mE=zx(),hE=Wx(),il="\uFEFF",sl="",rl="",nl="",fE=t=>!!t&&"items"in t,yE=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function gE(t){switch(t){case il:return"<BOM>";case sl:return"<DOC>";case rl:return"<FLOW_END>";case nl:return"<SCALAR>";default:return JSON.stringify(t)}}function bE(t){switch(t){case il:return"byte-order-mark";case sl:return"doc-mode";case rl:return"flow-error-end";case nl:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}De.createScalarToken=tl.createScalarToken;De.resolveAsScalar=tl.resolveAsScalar;De.setScalarValue=tl.setScalarValue;De.stringify=mE.stringify;De.visit=hE.visit;De.BOM=il;De.DOCUMENT=sl;De.FLOW_END=rl;De.SCALAR=nl;De.isCollection=fE;De.isScalar=yE;De.prettyToken=gE;De.tokenType=bE});var pl=g(Zx=>{"use strict";var Nr=zo();function et(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var Fx=new Set("0123456789ABCDEFabcdef"),xE=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Lo=new Set(",[]{}"),vE=new Set(` ,[]{}
\r	`),ol=t=>!t||vE.has(t),al=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,i=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!i;let s=this.next??"stream";for(;s&&(i||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,i=this.buffer[e];for(;i===" "||i==="	";)i=this.buffer[++e];return!i||i==="#"||i===`
`?!0:i==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let i=this.buffer[e];if(this.indentNext>0){let s=0;for(;i===" ";)i=this.buffer[++s+e];if(i==="\r"){let r=this.buffer[s+e+1];if(r===`
`||!r&&!this.atEnd)return e+s+1}return i===`
`||s>=this.indentNext||!i&&!this.atEnd?e+s:-1}if(i==="-"||i==="."){let s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&et(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Nr.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let i=e.length,s=e.indexOf("#");for(;s!==-1;){let n=e[s-1];if(n===" "||n==="	"){i=s-1;break}else s=e.indexOf("#",s+1)}for(;;){let n=e[i-1];if(n===" "||n==="	")i-=1;else break}let r=(yield*this.pushCount(i))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let i=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-i),yield*this.pushNewline(),"stream"}return yield Nr.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let i=this.peek(3);if((i==="---"||i==="...")&&et(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,i==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!et(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,i]=this.peek(2);if(!i&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&et(i)){let s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let i=yield*this.pushIndicators();switch(e[i]){case"#":yield*this.pushCount(e.length-i);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(ol),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return i+=yield*this.parseBlockScalarHeader(),i+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-i),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,i,s=-1;do e=yield*this.pushNewline(),e>0?(i=yield*this.pushSpaces(!1),this.indentValue=s=i):i=0,i+=yield*this.pushSpaces(!0);while(e+i>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&r[0]!=="#"||s===0&&(r.startsWith("---")||r.startsWith("..."))&&et(r[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield Nr.FLOW_END,yield*this.parseLineStart();let n=0;for(;r[n]===",";)n+=yield*this.pushCount(1),n+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(n+=yield*this.pushIndicators(),r[n]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-n),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(ol),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||et(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),i=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;i!==-1&&this.buffer[i+1]==="'";)i=this.buffer.indexOf("'",i+2);else for(;i!==-1;){let n=0;for(;this.buffer[i-1-n]==="\\";)n+=1;if(n%2===0)break;i=this.buffer.indexOf('"',i+1)}let s=this.buffer.substring(0,i),r=s.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let n=this.continueScalar(r+1);if(n===-1)break;r=s.indexOf(`
`,n)}r!==-1&&(i=r-(s[r-1]==="\r"?2:1))}if(i===-1){if(!this.atEnd)return this.setNext("quoted-scalar");i=this.buffer.length}return yield*this.pushToIndex(i+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let i=this.buffer[++e];if(i==="+")this.blockScalarKeep=!0;else if(i>"0"&&i<="9")this.blockScalarIndent=Number(i)-1;else if(i!=="-")break}return yield*this.pushUntil(i=>et(i)||i==="#")}*parseBlockScalar(){let e=this.pos-1,i=0,s;e:for(let n=this.pos;s=this.buffer[n];++n)switch(s){case" ":i+=1;break;case`
`:e=n,i=0;break;case"\r":{let o=this.buffer[n+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(i>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=i:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let n=this.continueScalar(e+1);if(n===-1)break;e=this.buffer.indexOf(`
`,n)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let r=e+1;for(s=this.buffer[r];s===" ";)s=this.buffer[++r];if(s==="	"){for(;s==="	"||s===" "||s==="\r"||s===`
`;)s=this.buffer[++r];e=r-1}else if(!this.blockScalarKeep)do{let n=e-1,o=this.buffer[n];o==="\r"&&(o=this.buffer[--n]);let a=n;for(;o===" ";)o=this.buffer[--n];if(o===`
`&&n>=this.pos&&n+1+i>a)e=n;else break}while(!0);return yield Nr.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,i=this.pos-1,s=this.pos-1,r;for(;r=this.buffer[++s];)if(r===":"){let n=this.buffer[s+1];if(et(n)||e&&Lo.has(n))break;i=s}else if(et(r)){let n=this.buffer[s+1];if(r==="\r"&&(n===`
`?(s+=1,r=`
`,n=this.buffer[s+1]):i=s),n==="#"||e&&Lo.has(n))break;if(r===`
`){let o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&Lo.has(r))break;i=s}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield Nr.SCALAR,yield*this.pushToIndex(i+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,i){let s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(i&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(ol))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,i=this.charAt(1);if(et(i)||e&&Lo.has(i))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,i=this.buffer[e];for(;!et(i)&&i!==">";)i=this.buffer[++e];return yield*this.pushToIndex(i===">"?e+1:e,!1)}else{let e=this.pos+1,i=this.buffer[e];for(;i;)if(xE.has(i))i=this.buffer[++e];else if(i==="%"&&Fx.has(this.buffer[e+1])&&Fx.has(this.buffer[e+2]))i=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let i=this.pos-1,s;do s=this.buffer[++i];while(s===" "||e&&s==="	");let r=i-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=i),r}*pushUntil(e){let i=this.pos,s=this.buffer[i];for(;!e(s);)s=this.buffer[++i];return yield*this.pushToIndex(i,!1)}};Zx.Lexer=al});var dl=g(Kx=>{"use strict";var cl=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let i=0,s=this.lineStarts.length;for(;i<s;){let n=i+s>>1;this.lineStarts[n]<e?i=n+1:s=n}if(this.lineStarts[i]===e)return{line:i+1,col:1};if(i===0)return{line:0,col:e};let r=this.lineStarts[i-1];return{line:i,col:e-r+1}}}};Kx.LineCounter=cl});var ul=g(Qx=>{"use strict";var wE=require("process"),Mx=zo(),IE=pl();function Ht(t,e){for(let i=0;i<t.length;++i)if(t[i].type===e)return!0;return!1}function Jx(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Yx(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ho(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Qi(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function Gx(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!Ht(e.start,"explicit-key-ind")&&!Ht(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Yx(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var ll=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new IE.Lexer,this.onNewLine=e}*parse(e,i=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let s of this.lexer.lex(e,i))yield*this.next(s);i||(yield*this.end())}*next(e){if(this.source=e,wE.env.LOG_TOKENS&&console.log("|",Mx.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let i=Mx.tokenType(e);if(i)if(i==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=i,yield*this.step(),i){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&e?.type!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let i=e??this.stack.pop();if(!i)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield i;else{let s=this.peek(1);switch(i.type==="block-scalar"?i.indent="indent"in s?s.indent:0:i.type==="flow-collection"&&s.type==="document"&&(i.indent=0),i.type==="flow-collection"&&Gx(i),s.type){case"document":s.value=i;break;case"block-scalar":s.props.push(i);break;case"block-map":{let r=s.items[s.items.length-1];if(r.value){s.items.push({start:[],key:i,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=i;else{Object.assign(r,{key:i,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{let r=s.items[s.items.length-1];r.value?s.items.push({start:[],value:i}):r.value=i;break}case"flow-collection":{let r=s.items[s.items.length-1];!r||r.value?s.items.push({start:[],key:i,sep:[]}):r.sep?r.value=i:Object.assign(r,{key:i,sep:[]});return}default:yield*this.pop(),yield*this.pop(i)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(i.type==="block-map"||i.type==="block-seq")){let r=i.items[i.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&Jx(r.start)===-1&&(i.indent===0||r.start.every(n=>n.type!=="comment"||n.indent<i.indent))&&(s.type==="document"?s.end=r.start:s.items.push({start:r.start}),i.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Jx(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let i=this.startBlockValue(e);i?this.stack.push(i):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let i=Ho(this.peek(2)),s=Qi(i),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let n={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let i=this.source.indexOf(`
`)+1;for(;i!==0;)this.onNewLine(this.offset+i),i=this.source.indexOf(`
`,i)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let i=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,i.value){let s="end"in i.value?i.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else i.sep?i.sep.push(this.sourceToken):i.start.push(this.sourceToken);return;case"space":case"comment":if(i.value)e.items.push({start:[this.sourceToken]});else if(i.sep)i.sep.push(this.sourceToken);else{if(this.atIndentedComment(i.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,i.start),r.push(this.sourceToken),e.items.pop();return}}i.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let s=!this.onKeyLine&&this.indent===e.indent,r=s&&(i.sep||i.explicitKey)&&this.type!=="seq-item-ind",n=[];if(r&&i.sep&&!i.value){let o=[];for(let a=0;a<i.sep.length;++a){let p=i.sep[a];switch(p.type){case"newline":o.push(a);break;case"space":break;case"comment":p.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(n=i.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":r||i.value?(n.push(this.sourceToken),e.items.push({start:n}),this.onKeyLine=!0):i.sep?i.sep.push(this.sourceToken):i.start.push(this.sourceToken);return;case"explicit-key-ind":!i.sep&&!i.explicitKey?(i.start.push(this.sourceToken),i.explicitKey=!0):r||i.value?(n.push(this.sourceToken),e.items.push({start:n,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(i.explicitKey)if(i.sep)if(i.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ht(i.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]});else if(Yx(i.key)&&!Ht(i.sep,"newline")){let o=Qi(i.start),a=i.key,p=i.sep;p.push(this.sourceToken),delete i.key,delete i.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:p}]})}else n.length>0?i.sep=i.sep.concat(n,this.sourceToken):i.sep.push(this.sourceToken);else if(Ht(i.start,"newline"))Object.assign(i,{key:null,sep:[this.sourceToken]});else{let o=Qi(i.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else i.sep?i.value||r?e.items.push({start:n,key:null,sep:[this.sourceToken]}):Ht(i.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):i.sep.push(this.sourceToken):Object.assign(i,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);r||i.value?(e.items.push({start:n,key:o,sep:[]}),this.onKeyLine=!0):i.sep?this.stack.push(o):(Object.assign(i,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!i.explicitKey&&i.sep&&!Ht(i.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:n});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let i=e.items[e.items.length-1];switch(this.type){case"newline":if(i.value){let s="end"in i.value?i.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else i.start.push(this.sourceToken);return;case"space":case"comment":if(i.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(i.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,i.start),r.push(this.sourceToken),e.items.pop();return}}i.start.push(this.sourceToken)}return;case"anchor":case"tag":if(i.value||this.indent<=e.indent)break;i.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;i.value||Ht(i.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):i.start.push(this.sourceToken);return}if(this.indent>e.indent){let s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let i=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s?.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!i||i.sep?e.items.push({start:[this.sourceToken]}):i.start.push(this.sourceToken);return;case"map-value-ind":!i||i.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):i.sep?i.sep.push(this.sourceToken):Object.assign(i,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!i||i.value?e.items.push({start:[this.sourceToken]}):i.sep?i.sep.push(this.sourceToken):i.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!i||i.value?e.items.push({start:[],key:r,sep:[]}):i.sep?this.stack.push(r):Object.assign(i,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{let s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){let r=Ho(s),n=Qi(r);Gx(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let i=this.source.indexOf(`
`)+1;for(;i!==0;)this.onNewLine(this.offset+i),i=this.source.indexOf(`
`,i)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let i=Ho(e),s=Qi(i);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let i=Ho(e),s=Qi(i);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,i){return this.type!=="comment"||this.indent<=i?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};Qx.Parser=ll});var sv=g(zr=>{"use strict";var Xx=Qd(),kE=Cr(),Vr=Er(),qE=Gc(),AE=F(),OE=dl(),ev=ul();function tv(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new OE.LineCounter||null,prettyErrors:e}}function jE(t,e={}){let{lineCounter:i,prettyErrors:s}=tv(e),r=new ev.Parser(i?.addNewLine),n=new Xx.Composer(e),o=Array.from(n.compose(r.parse(t)));if(s&&i)for(let a of o)a.errors.forEach(Vr.prettifyError(t,i)),a.warnings.forEach(Vr.prettifyError(t,i));return o.length>0?o:Object.assign([],{empty:!0},n.streamInfo())}function iv(t,e={}){let{lineCounter:i,prettyErrors:s}=tv(e),r=new ev.Parser(i?.addNewLine),n=new Xx.Composer(e),o=null;for(let a of n.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Vr.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&i&&(o.errors.forEach(Vr.prettifyError(t,i)),o.warnings.forEach(Vr.prettifyError(t,i))),o}function PE(t,e,i){let s;typeof e=="function"?s=e:i===void 0&&e&&typeof e=="object"&&(i=e);let r=iv(t,i);if(!r)return null;if(r.warnings.forEach(n=>qE.warn(r.options.logLevel,n)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},i))}function SE(t,e,i){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:i===void 0&&e&&(i=e),typeof i=="string"&&(i=i.length),typeof i=="number"){let r=Math.round(i);i=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){let{keepUndefined:r}=i??e??{};if(!r)return}return AE.isDocument(t)&&!s?t.toString(i):new kE.Document(t,s,i).toString(i)}zr.parse=PE;zr.parseAllDocuments=jE;zr.parseDocument=iv;zr.stringify=SE});var nv=g(J=>{"use strict";var TE=Qd(),CE=Cr(),DE=Dd(),ml=Er(),RE=hr(),Bt=F(),EE=Nt(),$E=pe(),_E=zt(),UE=Lt(),NE=zo(),VE=pl(),zE=dl(),LE=ul(),Bo=sv(),rv=dr();J.Composer=TE.Composer;J.Document=CE.Document;J.Schema=DE.Schema;J.YAMLError=ml.YAMLError;J.YAMLParseError=ml.YAMLParseError;J.YAMLWarning=ml.YAMLWarning;J.Alias=RE.Alias;J.isAlias=Bt.isAlias;J.isCollection=Bt.isCollection;J.isDocument=Bt.isDocument;J.isMap=Bt.isMap;J.isNode=Bt.isNode;J.isPair=Bt.isPair;J.isScalar=Bt.isScalar;J.isSeq=Bt.isSeq;J.Pair=EE.Pair;J.Scalar=$E.Scalar;J.YAMLMap=_E.YAMLMap;J.YAMLSeq=UE.YAMLSeq;J.CST=NE;J.Lexer=VE.Lexer;J.LineCounter=zE.LineCounter;J.Parser=LE.Parser;J.parse=Bo.parse;J.parseAllDocuments=Bo.parseAllDocuments;J.parseDocument=Bo.parseDocument;J.stringify=Bo.stringify;J.visit=rv.visit;J.visitAsync=rv.visitAsync});var pv=g((I2,av)=>{var ov=require("stream").Stream,HE=require("util");av.exports=tt;function tt(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}HE.inherits(tt,ov);tt.create=function(t,e){var i=new this;e=e||{};for(var s in e)i[s]=e[s];i.source=t;var r=t.emit;return t.emit=function(){return i._handleEmit(arguments),r.apply(t,arguments)},t.on("error",function(){}),i.pauseStream&&t.pause(),i};Object.defineProperty(tt.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});tt.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};tt.prototype.resume=function(){this._released||this.release(),this.source.resume()};tt.prototype.pause=function(){this.source.pause()};tt.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};tt.prototype.pipe=function(){var t=ov.prototype.pipe.apply(this,arguments);return this.resume(),t};tt.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};tt.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var uv=g((k2,lv)=>{var BE=require("util"),dv=require("stream").Stream,cv=pv();lv.exports=se;function se(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}BE.inherits(se,dv);se.create=function(t){var e=new this;t=t||{};for(var i in t)e[i]=t[i];return e};se.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};se.prototype.append=function(t){var e=se.isStreamLike(t);if(e){if(!(t instanceof cv)){var i=cv.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=i}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};se.prototype.pipe=function(t,e){return dv.prototype.pipe.call(this,t,e),this.resume(),t};se.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};se.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(i){var s=se.isStreamLike(i);s&&(i.on("data",this._checkDataSize.bind(this)),this._handleErrors(i)),this._pipeNext(i)}.bind(this))};se.prototype._pipeNext=function(t){this._currentStream=t;var e=se.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var i=t;this.write(i),this._getNext()};se.prototype._handleErrors=function(t){var e=this;t.on("error",function(i){e._emitError(i)})};se.prototype.write=function(t){this.emit("data",t)};se.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};se.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};se.prototype.end=function(){this._reset(),this.emit("end")};se.prototype.destroy=function(){this._reset(),this.emit("close")};se.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};se.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};se.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};se.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var mv=g((q2,WE)=>{WE.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var fv=g((A2,hv)=>{hv.exports=mv()});var bv=g(Re=>{"use strict";var Wo=fv(),FE=require("path").extname,yv=/^\s*([^;\s]*)(?:;|\s|$)/,ZE=/^text\//i;Re.charset=gv;Re.charsets={lookup:gv};Re.contentType=KE;Re.extension=ME;Re.extensions=Object.create(null);Re.lookup=JE;Re.types=Object.create(null);GE(Re.extensions,Re.types);function gv(t){if(!t||typeof t!="string")return!1;var e=yv.exec(t),i=e&&Wo[e[1].toLowerCase()];return i&&i.charset?i.charset:e&&ZE.test(e[1])?"UTF-8":!1}function KE(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Re.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var i=Re.charset(e);i&&(e+="; charset="+i.toLowerCase())}return e}function ME(t){if(!t||typeof t!="string")return!1;var e=yv.exec(t),i=e&&Re.extensions[e[1].toLowerCase()];return!i||!i.length?!1:i[0]}function JE(t){if(!t||typeof t!="string")return!1;var e=FE("x."+t).toLowerCase().substr(1);return e&&Re.types[e]||!1}function GE(t,e){var i=["nginx","apache",void 0,"iana"];Object.keys(Wo).forEach(function(r){var n=Wo[r],o=n.extensions;if(!(!o||!o.length)){t[r]=o;for(var a=0;a<o.length;a++){var p=o[a];if(e[p]){var c=i.indexOf(Wo[e[p]].source),d=i.indexOf(n.source);if(e[p]!=="application/octet-stream"&&(c>d||c===d&&e[p].substr(0,12)==="application/"))continue}e[p]=r}}})}});var vv=g((j2,xv)=>{xv.exports=YE;function YE(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var hl=g((P2,Iv)=>{var wv=vv();Iv.exports=QE;function QE(t){var e=!1;return wv(function(){e=!0}),function(s,r){e?t(s,r):wv(function(){t(s,r)})}}});var fl=g((S2,kv)=>{kv.exports=XE;function XE(t){Object.keys(t.jobs).forEach(e$.bind(t)),t.jobs={}}function e$(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var yl=g((T2,Av)=>{var qv=hl(),t$=fl();Av.exports=i$;function i$(t,e,i,s){var r=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[r]=s$(e,r,t[r],function(n,o){r in i.jobs&&(delete i.jobs[r],n?t$(i):i.results[r]=o,s(n,i.results))})}function s$(t,e,i,s){var r;return t.length==2?r=t(i,qv(s)):r=t(i,e,qv(s)),r}});var gl=g((C2,Ov)=>{Ov.exports=r$;function r$(t,e){var i=!Array.isArray(t),s={index:0,keyedList:i||e?Object.keys(t):null,jobs:{},results:i?{}:[],size:i?Object.keys(t).length:t.length};return e&&s.keyedList.sort(i?e:function(r,n){return e(t[r],t[n])}),s}});var bl=g((D2,jv)=>{var n$=fl(),o$=hl();jv.exports=a$;function a$(t){Object.keys(this.jobs).length&&(this.index=this.size,n$(this),o$(t)(null,this.results))}});var Sv=g((R2,Pv)=>{var p$=yl(),c$=gl(),d$=bl();Pv.exports=l$;function l$(t,e,i){for(var s=c$(t);s.index<(s.keyedList||t).length;)p$(t,e,s,function(r,n){if(r){i(r,n);return}if(Object.keys(s.jobs).length===0){i(null,s.results);return}}),s.index++;return d$.bind(s,i)}});var xl=g((E2,Fo)=>{var Tv=yl(),u$=gl(),m$=bl();Fo.exports=h$;Fo.exports.ascending=Cv;Fo.exports.descending=f$;function h$(t,e,i,s){var r=u$(t,i);return Tv(t,e,r,function n(o,a){if(o){s(o,a);return}if(r.index++,r.index<(r.keyedList||t).length){Tv(t,e,r,n);return}s(null,r.results)}),m$.bind(r,s)}function Cv(t,e){return t<e?-1:t>e?1:0}function f$(t,e){return-1*Cv(t,e)}});var Rv=g(($2,Dv)=>{var y$=xl();Dv.exports=g$;function g$(t,e,i){return y$(t,e,null,i)}});var $v=g((_2,Ev)=>{Ev.exports={parallel:Sv(),serial:Rv(),serialOrdered:xl()}});var vl=g((U2,_v)=>{"use strict";_v.exports=Object});var Nv=g((N2,Uv)=>{"use strict";Uv.exports=Error});var zv=g((V2,Vv)=>{"use strict";Vv.exports=EvalError});var Hv=g((z2,Lv)=>{"use strict";Lv.exports=RangeError});var Wv=g((L2,Bv)=>{"use strict";Bv.exports=ReferenceError});var Zv=g((H2,Fv)=>{"use strict";Fv.exports=SyntaxError});var Zo=g((B2,Kv)=>{"use strict";Kv.exports=TypeError});var Jv=g((W2,Mv)=>{"use strict";Mv.exports=URIError});var Yv=g((F2,Gv)=>{"use strict";Gv.exports=Math.abs});var Xv=g((Z2,Qv)=>{"use strict";Qv.exports=Math.floor});var tw=g((K2,ew)=>{"use strict";ew.exports=Math.max});var sw=g((M2,iw)=>{"use strict";iw.exports=Math.min});var nw=g((J2,rw)=>{"use strict";rw.exports=Math.pow});var aw=g((G2,ow)=>{"use strict";ow.exports=Math.round});var cw=g((Y2,pw)=>{"use strict";pw.exports=Number.isNaN||function(e){return e!==e}});var lw=g((Q2,dw)=>{"use strict";var b$=cw();dw.exports=function(e){return b$(e)||e===0?e:e<0?-1:1}});var mw=g((X2,uw)=>{"use strict";uw.exports=Object.getOwnPropertyDescriptor});var wl=g((eL,hw)=>{"use strict";var Ko=mw();if(Ko)try{Ko([],"length")}catch{Ko=null}hw.exports=Ko});var yw=g((tL,fw)=>{"use strict";var Mo=Object.defineProperty||!1;if(Mo)try{Mo({},"a",{value:1})}catch{Mo=!1}fw.exports=Mo});var Il=g((iL,gw)=>{"use strict";gw.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},i=Symbol("test"),s=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var r=42;e[i]=r;for(var n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==i||!Object.prototype.propertyIsEnumerable.call(e,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,i);if(a.value!==r||a.enumerable!==!0)return!1}return!0}});var vw=g((sL,xw)=>{"use strict";var bw=typeof Symbol<"u"&&Symbol,x$=Il();xw.exports=function(){return typeof bw!="function"||typeof Symbol!="function"||typeof bw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:x$()}});var kl=g((rL,ww)=>{"use strict";ww.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var ql=g((nL,Iw)=>{"use strict";var v$=vl();Iw.exports=v$.getPrototypeOf||null});var Aw=g((oL,qw)=>{"use strict";var w$="Function.prototype.bind called on incompatible ",I$=Object.prototype.toString,k$=Math.max,q$="[object Function]",kw=function(e,i){for(var s=[],r=0;r<e.length;r+=1)s[r]=e[r];for(var n=0;n<i.length;n+=1)s[n+e.length]=i[n];return s},A$=function(e,i){for(var s=[],r=i||0,n=0;r<e.length;r+=1,n+=1)s[n]=e[r];return s},O$=function(t,e){for(var i="",s=0;s<t.length;s+=1)i+=t[s],s+1<t.length&&(i+=e);return i};qw.exports=function(e){var i=this;if(typeof i!="function"||I$.apply(i)!==q$)throw new TypeError(w$+i);for(var s=A$(arguments,1),r,n=function(){if(this instanceof r){var d=i.apply(this,kw(s,arguments));return Object(d)===d?d:this}return i.apply(e,kw(s,arguments))},o=k$(0,i.length-s.length),a=[],p=0;p<o;p++)a[p]="$"+p;if(r=Function("binder","return function ("+O$(a,",")+"){ return binder.apply(this,arguments); }")(n),i.prototype){var c=function(){};c.prototype=i.prototype,r.prototype=new c,c.prototype=null}return r}});var Lr=g((aL,Ow)=>{"use strict";var j$=Aw();Ow.exports=Function.prototype.bind||j$});var Jo=g((pL,jw)=>{"use strict";jw.exports=Function.prototype.call});var Al=g((cL,Pw)=>{"use strict";Pw.exports=Function.prototype.apply});var Tw=g((dL,Sw)=>{"use strict";Sw.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var Dw=g((lL,Cw)=>{"use strict";var P$=Lr(),S$=Al(),T$=Jo(),C$=Tw();Cw.exports=C$||P$.call(T$,S$)});var Ew=g((uL,Rw)=>{"use strict";var D$=Lr(),R$=Zo(),E$=Jo(),$$=Dw();Rw.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new R$("a function is required");return $$(D$,E$,e)}});var zw=g((mL,Vw)=>{"use strict";var _$=Ew(),$w=wl(),Uw;try{Uw=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Ol=!!Uw&&$w&&$w(Object.prototype,"__proto__"),Nw=Object,_w=Nw.getPrototypeOf;Vw.exports=Ol&&typeof Ol.get=="function"?_$([Ol.get]):typeof _w=="function"?function(e){return _w(e==null?e:Nw(e))}:!1});var Fw=g((hL,Ww)=>{"use strict";var Lw=kl(),Hw=ql(),Bw=zw();Ww.exports=Lw?function(e){return Lw(e)}:Hw?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return Hw(e)}:Bw?function(e){return Bw(e)}:null});var Go=g((fL,Zw)=>{"use strict";var U$=Function.prototype.call,N$=Object.prototype.hasOwnProperty,V$=Lr();Zw.exports=V$.call(U$,N$)});var Xw=g((yL,Qw)=>{"use strict";var H,z$=vl(),L$=Nv(),H$=zv(),B$=Hv(),W$=Wv(),is=Zv(),ts=Zo(),F$=Jv(),Z$=Yv(),K$=Xv(),M$=tw(),J$=sw(),G$=nw(),Y$=aw(),Q$=lw(),Gw=Function,jl=function(t){try{return Gw('"use strict"; return ('+t+").constructor;")()}catch{}},Hr=wl(),X$=yw(),Pl=function(){throw new ts},e_=Hr?(function(){try{return arguments.callee,Pl}catch{try{return Hr(arguments,"callee").get}catch{return Pl}}})():Pl,Xi=vw()(),le=Fw(),t_=ql(),i_=kl(),Yw=Al(),Br=Jo(),es={},s_=typeof Uint8Array>"u"||!le?H:le(Uint8Array),ui={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?H:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?H:ArrayBuffer,"%ArrayIteratorPrototype%":Xi&&le?le([][Symbol.iterator]()):H,"%AsyncFromSyncIteratorPrototype%":H,"%AsyncFunction%":es,"%AsyncGenerator%":es,"%AsyncGeneratorFunction%":es,"%AsyncIteratorPrototype%":es,"%Atomics%":typeof Atomics>"u"?H:Atomics,"%BigInt%":typeof BigInt>"u"?H:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?H:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?H:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?H:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L$,"%eval%":eval,"%EvalError%":H$,"%Float16Array%":typeof Float16Array>"u"?H:Float16Array,"%Float32Array%":typeof Float32Array>"u"?H:Float32Array,"%Float64Array%":typeof Float64Array>"u"?H:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?H:FinalizationRegistry,"%Function%":Gw,"%GeneratorFunction%":es,"%Int8Array%":typeof Int8Array>"u"?H:Int8Array,"%Int16Array%":typeof Int16Array>"u"?H:Int16Array,"%Int32Array%":typeof Int32Array>"u"?H:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xi&&le?le(le([][Symbol.iterator]())):H,"%JSON%":typeof JSON=="object"?JSON:H,"%Map%":typeof Map>"u"?H:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xi||!le?H:le(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":z$,"%Object.getOwnPropertyDescriptor%":Hr,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?H:Promise,"%Proxy%":typeof Proxy>"u"?H:Proxy,"%RangeError%":B$,"%ReferenceError%":W$,"%Reflect%":typeof Reflect>"u"?H:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?H:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xi||!le?H:le(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?H:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xi&&le?le(""[Symbol.iterator]()):H,"%Symbol%":Xi?Symbol:H,"%SyntaxError%":is,"%ThrowTypeError%":e_,"%TypedArray%":s_,"%TypeError%":ts,"%Uint8Array%":typeof Uint8Array>"u"?H:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?H:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?H:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?H:Uint32Array,"%URIError%":F$,"%WeakMap%":typeof WeakMap>"u"?H:WeakMap,"%WeakRef%":typeof WeakRef>"u"?H:WeakRef,"%WeakSet%":typeof WeakSet>"u"?H:WeakSet,"%Function.prototype.call%":Br,"%Function.prototype.apply%":Yw,"%Object.defineProperty%":X$,"%Object.getPrototypeOf%":t_,"%Math.abs%":Z$,"%Math.floor%":K$,"%Math.max%":M$,"%Math.min%":J$,"%Math.pow%":G$,"%Math.round%":Y$,"%Math.sign%":Q$,"%Reflect.getPrototypeOf%":i_};if(le)try{null.error}catch(t){Kw=le(le(t)),ui["%Error.prototype%"]=Kw}var Kw,r_=function t(e){var i;if(e==="%AsyncFunction%")i=jl("async function () {}");else if(e==="%GeneratorFunction%")i=jl("function* () {}");else if(e==="%AsyncGeneratorFunction%")i=jl("async function* () {}");else if(e==="%AsyncGenerator%"){var s=t("%AsyncGeneratorFunction%");s&&(i=s.prototype)}else if(e==="%AsyncIteratorPrototype%"){var r=t("%AsyncGenerator%");r&&le&&(i=le(r.prototype))}return ui[e]=i,i},Mw={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wr=Lr(),Yo=Go(),n_=Wr.call(Br,Array.prototype.concat),o_=Wr.call(Yw,Array.prototype.splice),Jw=Wr.call(Br,String.prototype.replace),Qo=Wr.call(Br,String.prototype.slice),a_=Wr.call(Br,RegExp.prototype.exec),p_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c_=/\\(\\)?/g,d_=function(e){var i=Qo(e,0,1),s=Qo(e,-1);if(i==="%"&&s!=="%")throw new is("invalid intrinsic syntax, expected closing `%`");if(s==="%"&&i!=="%")throw new is("invalid intrinsic syntax, expected opening `%`");var r=[];return Jw(e,p_,function(n,o,a,p){r[r.length]=a?Jw(p,c_,"$1"):o||n}),r},l_=function(e,i){var s=e,r;if(Yo(Mw,s)&&(r=Mw[s],s="%"+r[0]+"%"),Yo(ui,s)){var n=ui[s];if(n===es&&(n=r_(s)),typeof n>"u"&&!i)throw new ts("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:s,value:n}}throw new is("intrinsic "+e+" does not exist!")};Qw.exports=function(e,i){if(typeof e!="string"||e.length===0)throw new ts("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof i!="boolean")throw new ts('"allowMissing" argument must be a boolean');if(a_(/^%?[^%]*%?$/,e)===null)throw new is("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var s=d_(e),r=s.length>0?s[0]:"",n=l_("%"+r+"%",i),o=n.name,a=n.value,p=!1,c=n.alias;c&&(r=c[0],o_(s,n_([0,1],c)));for(var d=1,l=!0;d<s.length;d+=1){var u=s[d],y=Qo(u,0,1),h=Qo(u,-1);if((y==='"'||y==="'"||y==="`"||h==='"'||h==="'"||h==="`")&&y!==h)throw new is("property names with quotes must have matching quotes");if((u==="constructor"||!l)&&(p=!0),r+="."+u,o="%"+r+"%",Yo(ui,o))a=ui[o];else if(a!=null){if(!(u in a)){if(!i)throw new ts("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hr&&d+1>=s.length){var m=Hr(a,u);l=!!m,l&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[u]}else l=Yo(a,u),a=a[u];l&&!p&&(ui[o]=a)}}return a}});var tI=g((gL,eI)=>{"use strict";var u_=Il();eI.exports=function(){return u_()&&!!Symbol.toStringTag}});var rI=g((bL,sI)=>{"use strict";var m_=Xw(),iI=m_("%Object.defineProperty%",!0),h_=tI()(),f_=Go(),y_=Zo(),Xo=h_?Symbol.toStringTag:null;sI.exports=function(e,i){var s=arguments.length>2&&!!arguments[2]&&arguments[2].force,r=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof s<"u"&&typeof s!="boolean"||typeof r<"u"&&typeof r!="boolean")throw new y_("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Xo&&(s||!f_(e,Xo))&&(iI?iI(e,Xo,{configurable:!r,enumerable:!1,value:i,writable:!1}):e[Xo]=i)}});var oI=g((xL,nI)=>{"use strict";nI.exports=function(t,e){return Object.keys(e).forEach(function(i){t[i]=t[i]||e[i]}),t}});var pI=g((vL,aI)=>{"use strict";var Dl=uv(),g_=require("util"),Sl=require("path"),b_=require("http"),x_=require("https"),v_=require("url").parse,w_=require("fs"),I_=require("stream").Stream,k_=require("crypto"),Tl=bv(),q_=$v(),A_=rI(),Wt=Go(),Cl=oI();function Z(t){if(!(this instanceof Z))return new Z(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Dl.call(this),t=t||{};for(var e in t)this[e]=t[e]}g_.inherits(Z,Dl);Z.LINE_BREAK=`\r
`;Z.DEFAULT_CONTENT_TYPE="application/octet-stream";Z.prototype.append=function(t,e,i){i=i||{},typeof i=="string"&&(i={filename:i});var s=Dl.prototype.append.bind(this);if((typeof e=="number"||e==null)&&(e=String(e)),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var r=this._multiPartHeader(t,e,i),n=this._multiPartFooter();s(r),s(e),s(n),this._trackLength(r,e,i)};Z.prototype._trackLength=function(t,e,i){var s=0;i.knownLength!=null?s+=Number(i.knownLength):Buffer.isBuffer(e)?s=e.length:typeof e=="string"&&(s=Buffer.byteLength(e)),this._valueLength+=s,this._overheadLength+=Buffer.byteLength(t)+Z.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Wt(e,"httpVersion"))&&!(e instanceof I_))&&(i.knownLength||this._valuesToMeasure.push(e))};Z.prototype._lengthRetriever=function(t,e){Wt(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):w_.stat(t.path,function(i,s){if(i){e(i);return}var r=s.size-(t.start?t.start:0);e(null,r)}):Wt(t,"httpVersion")?e(null,Number(t.headers["content-length"])):Wt(t,"httpModule")?(t.on("response",function(i){t.pause(),e(null,Number(i.headers["content-length"]))}),t.resume()):e("Unknown stream")};Z.prototype._multiPartHeader=function(t,e,i){if(typeof i.header=="string")return i.header;var s=this._getContentDisposition(e,i),r=this._getContentType(e,i),n="",o={"Content-Disposition":["form-data",'name="'+t+'"'].concat(s||[]),"Content-Type":[].concat(r||[])};typeof i.header=="object"&&Cl(o,i.header);var a;for(var p in o)if(Wt(o,p)){if(a=o[p],a==null)continue;Array.isArray(a)||(a=[a]),a.length&&(n+=p+": "+a.join("; ")+Z.LINE_BREAK)}return"--"+this.getBoundary()+Z.LINE_BREAK+n+Z.LINE_BREAK};Z.prototype._getContentDisposition=function(t,e){var i;if(typeof e.filepath=="string"?i=Sl.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t&&(t.name||t.path)?i=Sl.basename(e.filename||t&&(t.name||t.path)):t&&t.readable&&Wt(t,"httpVersion")&&(i=Sl.basename(t.client._httpMessage.path||"")),i)return'filename="'+i+'"'};Z.prototype._getContentType=function(t,e){var i=e.contentType;return!i&&t&&t.name&&(i=Tl.lookup(t.name)),!i&&t&&t.path&&(i=Tl.lookup(t.path)),!i&&t&&t.readable&&Wt(t,"httpVersion")&&(i=t.headers["content-type"]),!i&&(e.filepath||e.filename)&&(i=Tl.lookup(e.filepath||e.filename)),!i&&t&&typeof t=="object"&&(i=Z.DEFAULT_CONTENT_TYPE),i};Z.prototype._multiPartFooter=function(){return function(t){var e=Z.LINE_BREAK,i=this._streams.length===0;i&&(e+=this._lastBoundary()),t(e)}.bind(this)};Z.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Z.LINE_BREAK};Z.prototype.getHeaders=function(t){var e,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Wt(t,e)&&(i[e.toLowerCase()]=t[e]);return i};Z.prototype.setBoundary=function(t){if(typeof t!="string")throw new TypeError("FormData boundary must be a string");this._boundary=t};Z.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Z.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),i=0,s=this._streams.length;i<s;i++)typeof this._streams[i]!="function"&&(Buffer.isBuffer(this._streams[i])?t=Buffer.concat([t,this._streams[i]]):t=Buffer.concat([t,Buffer.from(this._streams[i])]),(typeof this._streams[i]!="string"||this._streams[i].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(Z.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};Z.prototype._generateBoundary=function(){this._boundary="--------------------------"+k_.randomBytes(12).toString("hex")};Z.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};Z.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};Z.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}q_.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,s){if(i){t(i);return}s.forEach(function(r){e+=r}),t(null,e)})};Z.prototype.submit=function(t,e){var i,s,r={method:"post"};return typeof t=="string"?(t=v_(t),s=Cl({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},r)):(s=Cl(t,r),s.port||(s.port=s.protocol==="https:"?443:80)),s.headers=this.getHeaders(t.headers),s.protocol==="https:"?i=x_.request(s):i=b_.request(s),this.getLength(function(n,o){if(n&&n!=="Unknown stream"){this._error(n);return}if(o&&i.setHeader("Content-Length",o),this.pipe(i),e){var a,p=function(c,d){return i.removeListener("error",p),i.removeListener("response",a),e.call(this,c,d)};a=p.bind(this,null),i.on("error",p),i.on("response",a)}}.bind(this)),i};Z.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};Z.prototype.toString=function(){return"[object FormData]"};A_(Z.prototype,"FormData");aI.exports=Z});var dI=g(cI=>{"use strict";var O_=require("url").parse,j_={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},P_=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function S_(t){var e=typeof t=="string"?O_(t):t||{},i=e.protocol,s=e.host,r=e.port;if(typeof s!="string"||!s||typeof i!="string"||(i=i.split(":",1)[0],s=s.replace(/:\d*$/,""),r=parseInt(r)||j_[i]||0,!T_(s,r)))return"";var n=ss("npm_config_"+i+"_proxy")||ss(i+"_proxy")||ss("npm_config_proxy")||ss("all_proxy");return n&&n.indexOf("://")===-1&&(n=i+"://"+n),n}function T_(t,e){var i=(ss("npm_config_no_proxy")||ss("no_proxy")).toLowerCase();return i?i==="*"?!1:i.split(/[,\s]/).every(function(s){if(!s)return!0;var r=s.match(/^(.+):(\d+)$/),n=r?r[1]:s,o=r?parseInt(r[2]):0;return o&&o!==e?!0:/^[.*]/.test(n)?(n.charAt(0)==="*"&&(n=n.slice(1)),!P_.call(t,n)):t!==n}):!0}function ss(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}cI.getProxyForUrl=S_});var uI=g((IL,lI)=>{var rs=1e3,ns=rs*60,os=ns*60,mi=os*24,C_=mi*7,D_=mi*365.25;lI.exports=function(t,e){e=e||{};var i=typeof t;if(i==="string"&&t.length>0)return R_(t);if(i==="number"&&isFinite(t))return e.long?$_(t):E_(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function R_(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*D_;case"weeks":case"week":case"w":return i*C_;case"days":case"day":case"d":return i*mi;case"hours":case"hour":case"hrs":case"hr":case"h":return i*os;case"minutes":case"minute":case"mins":case"min":case"m":return i*ns;case"seconds":case"second":case"secs":case"sec":case"s":return i*rs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function E_(t){var e=Math.abs(t);return e>=mi?Math.round(t/mi)+"d":e>=os?Math.round(t/os)+"h":e>=ns?Math.round(t/ns)+"m":e>=rs?Math.round(t/rs)+"s":t+"ms"}function $_(t){var e=Math.abs(t);return e>=mi?ea(t,e,mi,"day"):e>=os?ea(t,e,os,"hour"):e>=ns?ea(t,e,ns,"minute"):e>=rs?ea(t,e,rs,"second"):t+" ms"}function ea(t,e,i,s){var r=e>=i*1.5;return Math.round(t/i)+" "+s+(r?"s":"")}});var Rl=g((kL,mI)=>{function __(t){i.debug=i,i.default=i,i.coerce=p,i.disable=o,i.enable=r,i.enabled=a,i.humanize=uI(),i.destroy=c,Object.keys(t).forEach(d=>{i[d]=t[d]}),i.names=[],i.skips=[],i.formatters={};function e(d){let l=0;for(let u=0;u<d.length;u++)l=(l<<5)-l+d.charCodeAt(u),l|=0;return i.colors[Math.abs(l)%i.colors.length]}i.selectColor=e;function i(d){let l,u=null,y,h;function m(...f){if(!m.enabled)return;let x=m,w=Number(new Date),I=w-(l||w);x.diff=I,x.prev=l,x.curr=w,l=w,f[0]=i.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let A=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(v,O)=>{if(v==="%%")return"%";A++;let k=i.formatters[O];if(typeof k=="function"){let T=f[A];v=k.call(x,T),f.splice(A,1),A--}return v}),i.formatArgs.call(x,f),(x.log||i.log).apply(x,f)}return m.namespace=d,m.useColors=i.useColors(),m.color=i.selectColor(d),m.extend=s,m.destroy=i.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>u!==null?u:(y!==i.namespaces&&(y=i.namespaces,h=i.enabled(d)),h),set:f=>{u=f}}),typeof i.init=="function"&&i.init(m),m}function s(d,l){let u=i(this.namespace+(typeof l>"u"?":":l)+d);return u.log=this.log,u}function r(d){i.save(d),i.namespaces=d,i.names=[],i.skips=[];let l=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let u of l)u[0]==="-"?i.skips.push(u.slice(1)):i.names.push(u)}function n(d,l){let u=0,y=0,h=-1,m=0;for(;u<d.length;)if(y<l.length&&(l[y]===d[u]||l[y]==="*"))l[y]==="*"?(h=y,m=u,y++):(u++,y++);else if(h!==-1)y=h+1,m++,u=m;else return!1;for(;y<l.length&&l[y]==="*";)y++;return y===l.length}function o(){let d=[...i.names,...i.skips.map(l=>"-"+l)].join(",");return i.enable(""),d}function a(d){for(let l of i.skips)if(n(d,l))return!1;for(let l of i.names)if(n(d,l))return!0;return!1}function p(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}mI.exports=__});var hI=g((Ee,ta)=>{Ee.formatArgs=N_;Ee.save=V_;Ee.load=z_;Ee.useColors=U_;Ee.storage=L_();Ee.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ee.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function U_(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function N_(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ta.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let i=0,s=0;t[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(i++,r==="%c"&&(s=i))}),t.splice(s,0,e)}Ee.log=console.debug||console.log||(()=>{});function V_(t){try{t?Ee.storage.setItem("debug",t):Ee.storage.removeItem("debug")}catch{}}function z_(){let t;try{t=Ee.storage.getItem("debug")||Ee.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function L_(){try{return localStorage}catch{}}ta.exports=Rl()(Ee);var{formatters:H_}=ta.exports;H_.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var yI=g((qL,fI)=>{"use strict";fI.exports=(t,e=process.argv)=>{let i=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(i+t),r=e.indexOf("--");return s!==-1&&(r===-1||s<r)}});var xI=g((AL,bI)=>{"use strict";var B_=require("os"),gI=require("tty"),Fe=yI(),{env:ue}=process,Ft;Fe("no-color")||Fe("no-colors")||Fe("color=false")||Fe("color=never")?Ft=0:(Fe("color")||Fe("colors")||Fe("color=true")||Fe("color=always"))&&(Ft=1);"FORCE_COLOR"in ue&&(ue.FORCE_COLOR==="true"?Ft=1:ue.FORCE_COLOR==="false"?Ft=0:Ft=ue.FORCE_COLOR.length===0?1:Math.min(parseInt(ue.FORCE_COLOR,10),3));function El(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function $l(t,e){if(Ft===0)return 0;if(Fe("color=16m")||Fe("color=full")||Fe("color=truecolor"))return 3;if(Fe("color=256"))return 2;if(t&&!e&&Ft===void 0)return 0;let i=Ft||0;if(ue.TERM==="dumb")return i;if(process.platform==="win32"){let s=B_.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in ue)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in ue)||ue.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in ue)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ue.TEAMCITY_VERSION)?1:0;if(ue.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ue){let s=parseInt((ue.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ue.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ue.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ue.TERM)||"COLORTERM"in ue?1:i}function W_(t){let e=$l(t,t&&t.isTTY);return El(e)}bI.exports={supportsColor:W_,stdout:El($l(!0,gI.isatty(1))),stderr:El($l(!0,gI.isatty(2)))}});var wI=g((me,sa)=>{var F_=require("tty"),ia=require("util");me.init=Q_;me.log=J_;me.formatArgs=K_;me.save=G_;me.load=Y_;me.useColors=Z_;me.destroy=ia.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");me.colors=[6,2,3,4,5,1];try{let t=xI();t&&(t.stderr||t).level>=2&&(me.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}me.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let i=e.substring(6).toLowerCase().replace(/_([a-z])/g,(r,n)=>n.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[i]=s,t},{});function Z_(){return"colors"in me.inspectOpts?!!me.inspectOpts.colors:F_.isatty(process.stderr.fd)}function K_(t){let{namespace:e,useColors:i}=this;if(i){let s=this.color,r="\x1B[3"+(s<8?s:"8;5;"+s),n=`  ${r};1m${e} \x1B[0m`;t[0]=n+t[0].split(`
`).join(`
`+n),t.push(r+"m+"+sa.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=M_()+e+" "+t[0]}function M_(){return me.inspectOpts.hideDate?"":new Date().toISOString()+" "}function J_(...t){return process.stderr.write(ia.formatWithOptions(me.inspectOpts,...t)+`
`)}function G_(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Y_(){return process.env.DEBUG}function Q_(t){t.inspectOpts={};let e=Object.keys(me.inspectOpts);for(let i=0;i<e.length;i++)t.inspectOpts[e[i]]=me.inspectOpts[e[i]]}sa.exports=Rl()(me);var{formatters:vI}=sa.exports;vI.o=function(t){return this.inspectOpts.colors=this.useColors,ia.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};vI.O=function(t){return this.inspectOpts.colors=this.useColors,ia.inspect(t,this.inspectOpts)}});var II=g((OL,_l)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?_l.exports=hI():_l.exports=wI()});var qI=g((jL,kI)=>{var Fr;kI.exports=function(){if(!Fr){try{Fr=II()("follow-redirects")}catch{}typeof Fr!="function"&&(Fr=function(){})}Fr.apply(null,arguments)}});var SI=g((PL,Ml)=>{var Kr=require("url"),Zr=Kr.URL,X_=require("http"),eU=require("https"),Ll=require("stream").Writable,Hl=require("assert"),AI=qI();(function(){var e=typeof process<"u",i=typeof window<"u"&&typeof document<"u",s=fi(Error.captureStackTrace);!e&&(i||!s)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var Bl=!1;try{Hl(new Zr(""))}catch(t){Bl=t.code==="ERR_INVALID_URL"}var tU=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Wl=["abort","aborted","connect","error","socket","timeout"],Fl=Object.create(null);Wl.forEach(function(t){Fl[t]=function(e,i,s){this._redirectable.emit(t,e,i,s)}});var Nl=Mr("ERR_INVALID_URL","Invalid URL",TypeError),Vl=Mr("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),iU=Mr("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Vl),sU=Mr("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),rU=Mr("ERR_STREAM_WRITE_AFTER_END","write after end"),nU=Ll.prototype.destroy||jI;function $e(t,e){Ll.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var i=this;this._onNativeResponse=function(s){try{i._processResponse(s)}catch(r){i.emit("error",r instanceof Vl?r:new Vl({cause:r}))}},this._performRequest()}$e.prototype=Object.create(Ll.prototype);$e.prototype.abort=function(){Kl(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};$e.prototype.destroy=function(t){return Kl(this._currentRequest,t),nU.call(this,t),this};$e.prototype.write=function(t,e,i){if(this._ending)throw new rU;if(!hi(t)&&!pU(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(fi(e)&&(i=e,e=null),t.length===0){i&&i();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,i)):(this.emit("error",new sU),this.abort())};$e.prototype.end=function(t,e,i){if(fi(t)?(i=t,t=e=null):fi(e)&&(i=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,i);else{var s=this,r=this._currentRequest;this.write(t,e,function(){s._ended=!0,r.end(null,null,i)}),this._ending=!0}};$e.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};$e.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};$e.prototype.setTimeout=function(t,e){var i=this;function s(o){o.setTimeout(t),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function r(o){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),n()},t),s(o)}function n(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",n),i.removeListener("error",n),i.removeListener("response",n),i.removeListener("close",n),e&&i.removeListener("timeout",e),i.socket||i._currentRequest.removeListener("socket",r)}return e&&this.on("timeout",e),this.socket?r(this.socket):this._currentRequest.once("socket",r),this.on("socket",s),this.on("abort",n),this.on("error",n),this.on("response",n),this.on("close",n),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){$e.prototype[t]=function(e,i){return this._currentRequest[t](e,i)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty($e.prototype,t,{get:function(){return this._currentRequest[t]}})});$e.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};$e.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var i=t.slice(0,-1);this._options.agent=this._options.agents[i]}var s=this._currentRequest=e.request(this._options,this._onNativeResponse);s._redirectable=this;for(var r of Wl)s.on(r,Fl[r]);if(this._currentUrl=/^\//.test(this._options.path)?Kr.format(this._options):this._options.path,this._isRedirect){var n=0,o=this,a=this._requestBodyBuffers;(function p(c){if(s===o._currentRequest)if(c)o.emit("error",c);else if(n<a.length){var d=a[n++];s.finished||s.write(d.data,d.encoding,p)}else o._ended&&s.end()})()}};$e.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var i=t.headers.location;if(!i||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(Kl(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new iU;var s,r=this._options.beforeRedirect;r&&(s=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var n=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Ul(/^content-/i,this._options.headers));var o=Ul(/^host$/i,this._options.headers),a=Zl(this._currentUrl),p=o||a.host,c=/^\w+:/.test(i)?this._currentUrl:Kr.format(Object.assign(a,{host:p})),d=oU(i,c);if(AI("redirecting to",d.href),this._isRedirect=!0,zl(d,this._options),(d.protocol!==a.protocol&&d.protocol!=="https:"||d.host!==p&&!aU(d.host,p))&&Ul(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),fi(r)){var l={headers:t.headers,statusCode:e},u={url:c,method:n,headers:s};r(this._options,l,u),this._sanitizeOptions(this._options)}this._performRequest()};function OI(t){var e={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(t).forEach(function(s){var r=s+":",n=i[r]=t[s],o=e[s]=Object.create(n);function a(c,d,l){return cU(c)?c=zl(c):hi(c)?c=zl(Zl(c)):(l=d,d=PI(c),c={protocol:r}),fi(d)&&(l=d,d=null),d=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,d),d.nativeProtocols=i,!hi(d.host)&&!hi(d.hostname)&&(d.hostname="::1"),Hl.equal(d.protocol,r,"protocol mismatch"),AI("options",d),new $e(d,l)}function p(c,d,l){var u=o.request(c,d,l);return u.end(),u}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:p,configurable:!0,enumerable:!0,writable:!0}})}),e}function jI(){}function Zl(t){var e;if(Bl)e=new Zr(t);else if(e=PI(Kr.parse(t)),!hi(e.protocol))throw new Nl({input:t});return e}function oU(t,e){return Bl?new Zr(t,e):Zl(Kr.resolve(e,t))}function PI(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Nl({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Nl({input:t.href||t});return t}function zl(t,e){var i=e||{};for(var s of tU)i[s]=t[s];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),i.port!==""&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function Ul(t,e){var i;for(var s in e)t.test(s)&&(i=e[s],delete e[s]);return i===null||typeof i>"u"?void 0:String(i).trim()}function Mr(t,e,i){function s(r){fi(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,r||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return s.prototype=new(i||Error),Object.defineProperties(s.prototype,{constructor:{value:s,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),s}function Kl(t,e){for(var i of Wl)t.removeListener(i,Fl[i]);t.on("error",jI),t.destroy(e)}function aU(t,e){Hl(hi(t)&&hi(e));var i=t.length-e.length-1;return i>0&&t[i]==="."&&t.endsWith(e)}function hi(t){return typeof t=="string"||t instanceof String}function fi(t){return typeof t=="function"}function pU(t){return typeof t=="object"&&"length"in t}function cU(t){return Zr&&t instanceof Zr}Ml.exports=OI({http:X_,https:eU});Ml.exports.wrap=OI});var Ak=g((SL,qk)=>{"use strict";var dU=pI(),lU=require("crypto"),uU=require("url"),mU=dI(),hU=require("http"),fU=require("https"),yU=require("http2"),gU=require("util"),bU=SI(),xU=require("zlib"),QI=require("stream"),vU=require("events");function it(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var XI=it(dU),wU=it(lU),IU=it(uU),kU=it(mU),qU=it(hU),AU=it(fU),ek=it(yU),du=it(gU),OU=it(bU),Zt=it(xU),ht=it(QI);function tk(t,e){return function(){return t.apply(e,arguments)}}var{toString:jU}=Object.prototype,{getPrototypeOf:lu}=Object,{iterator:ua,toStringTag:ik}=Symbol,ma=(t=>e=>{let i=jU.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),st=t=>(t=t.toLowerCase(),e=>ma(e)===t),ha=t=>e=>typeof e===t,{isArray:us}=Array,ps=ha("undefined");function Yr(t){return t!==null&&!ps(t)&&t.constructor!==null&&!ps(t.constructor)&&_e(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var sk=st("ArrayBuffer");function PU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sk(t.buffer),e}var SU=ha("string"),_e=ha("function"),rk=ha("number"),Qr=t=>t!==null&&typeof t=="object",TU=t=>t===!0||t===!1,na=t=>{if(ma(t)!=="object")return!1;let e=lu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ik in t)&&!(ua in t)},CU=t=>{if(!Qr(t)||Yr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},DU=st("Date"),RU=st("File"),EU=st("Blob"),$U=st("FileList"),_U=t=>Qr(t)&&_e(t.pipe),UU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_e(t.append)&&((e=ma(t))==="formdata"||e==="object"&&_e(t.toString)&&t.toString()==="[object FormData]"))},NU=st("URLSearchParams"),[VU,zU,LU,HU]=["ReadableStream","Request","Response","Headers"].map(st),BU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xr(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),us(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Yr(t))return;let n=i?Object.getOwnPropertyNames(t):Object.keys(t),o=n.length,a;for(s=0;s<o;s++)a=n[s],e.call(null,t[a],a,t)}}function nk(t,e){if(Yr(t))return null;e=e.toLowerCase();let i=Object.keys(t),s=i.length,r;for(;s-- >0;)if(r=i[s],e===r.toLowerCase())return r;return null}var yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ok=t=>!ps(t)&&t!==yi;function eu(){let{caseless:t,skipUndefined:e}=ok(this)&&this||{},i={},s=(r,n)=>{let o=t&&nk(i,n)||n;na(i[o])&&na(r)?i[o]=eu(i[o],r):na(r)?i[o]=eu({},r):us(r)?i[o]=r.slice():(!e||!ps(r))&&(i[o]=r)};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Xr(arguments[r],s);return i}var WU=(t,e,i,{allOwnKeys:s}={})=>(Xr(e,(r,n)=>{i&&_e(r)?t[n]=tk(r,i):t[n]=r},{allOwnKeys:s}),t),FU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZU=(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},KU=(t,e,i,s)=>{let r,n,o,a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=i!==!1&&lu(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},MU=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;let s=t.indexOf(e,i);return s!==-1&&s===i},JU=t=>{if(!t)return null;if(us(t))return t;let e=t.length;if(!rk(e))return null;let i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},GU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lu(Uint8Array)),YU=(t,e)=>{let s=(t&&t[ua]).call(t),r;for(;(r=s.next())&&!r.done;){let n=r.value;e.call(t,n[0],n[1])}},QU=(t,e)=>{let i,s=[];for(;(i=t.exec(e))!==null;)s.push(i);return s},XU=st("HTMLFormElement"),e1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,r){return s.toUpperCase()+r}),TI=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),t1=st("RegExp"),ak=(t,e)=>{let i=Object.getOwnPropertyDescriptors(t),s={};Xr(i,(r,n)=>{let o;(o=e(r,n,t))!==!1&&(s[n]=o||r)}),Object.defineProperties(t,s)},i1=t=>{ak(t,(e,i)=>{if(_e(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;let s=t[i];if(_e(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},s1=(t,e)=>{let i={},s=r=>{r.forEach(n=>{i[n]=!0})};return us(t)?s(t):s(String(t).split(e)),i},r1=()=>{},n1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function o1(t){return!!(t&&_e(t.append)&&t[ik]==="FormData"&&t[ua])}var a1=t=>{let e=new Array(10),i=(s,r)=>{if(Qr(s)){if(e.indexOf(s)>=0)return;if(Yr(s))return s;if(!("toJSON"in s)){e[r]=s;let n=us(s)?[]:{};return Xr(s,(o,a)=>{let p=i(o,r+1);!ps(p)&&(n[a]=p)}),e[r]=void 0,n}}return s};return i(t,0)},p1=st("AsyncFunction"),c1=t=>t&&(Qr(t)||_e(t))&&_e(t.then)&&_e(t.catch),pk=((t,e)=>t?setImmediate:e?((i,s)=>(yi.addEventListener("message",({source:r,data:n})=>{r===yi&&n===i&&s.length&&s.shift()()},!1),r=>{s.push(r),yi.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",_e(yi.postMessage)),d1=typeof queueMicrotask<"u"?queueMicrotask.bind(yi):typeof process<"u"&&process.nextTick||pk,l1=t=>t!=null&&_e(t[ua]),b={isArray:us,isArrayBuffer:sk,isBuffer:Yr,isFormData:UU,isArrayBufferView:PU,isString:SU,isNumber:rk,isBoolean:TU,isObject:Qr,isPlainObject:na,isEmptyObject:CU,isReadableStream:VU,isRequest:zU,isResponse:LU,isHeaders:HU,isUndefined:ps,isDate:DU,isFile:RU,isBlob:EU,isRegExp:t1,isFunction:_e,isStream:_U,isURLSearchParams:NU,isTypedArray:GU,isFileList:$U,forEach:Xr,merge:eu,extend:WU,trim:BU,stripBOM:FU,inherits:ZU,toFlatObject:KU,kindOf:ma,kindOfTest:st,endsWith:MU,toArray:JU,forEachEntry:YU,matchAll:QU,isHTMLForm:XU,hasOwnProperty:TI,hasOwnProp:TI,reduceDescriptors:ak,freezeMethods:i1,toObjectSet:s1,toCamelCase:e1,noop:r1,toFiniteNumber:n1,findKey:nk,global:yi,isContextDefined:ok,isSpecCompliantForm:o1,toJSONObject:a1,isAsyncFn:p1,isThenable:c1,setImmediate:pk,asap:d1,isIterable:l1};function P(t,e,i,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}b.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});var ck=P.prototype,dk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dk[t]={value:t}});Object.defineProperties(P,dk);Object.defineProperty(ck,"isAxiosError",{value:!0});P.from=(t,e,i,s,r,n)=>{let o=Object.create(ck);b.toFlatObject(t,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");let a=t&&t.message?t.message:"Error",p=e==null&&t?t.code:e;return P.call(o,a,p,i,s,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",n&&Object.assign(o,n),o};function tu(t){return b.isPlainObject(t)||b.isArray(t)}function lk(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function CI(t,e,i){return t?t.concat(e).map(function(r,n){return r=lk(r),!i&&n?"["+r+"]":r}).join(i?".":""):e}function u1(t){return b.isArray(t)&&!t.some(tu)}var m1=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function fa(t,e,i){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new(XI.default||FormData),i=b.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,f){return!b.isUndefined(f[m])});let s=i.metaTokens,r=i.visitor||d,n=i.dots,o=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(b.isDate(h))return h.toISOString();if(b.isBoolean(h))return h.toString();if(!p&&b.isBlob(h))throw new P("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(h)||b.isTypedArray(h)?p&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,m,f){let x=h;if(h&&!f&&typeof h=="object"){if(b.endsWith(m,"{}"))m=s?m:m.slice(0,-2),h=JSON.stringify(h);else if(b.isArray(h)&&u1(h)||(b.isFileList(h)||b.endsWith(m,"[]"))&&(x=b.toArray(h)))return m=lk(m),x.forEach(function(I,A){!(b.isUndefined(I)||I===null)&&e.append(o===!0?CI([m],A,n):o===null?m:m+"[]",c(I))}),!1}return tu(h)?!0:(e.append(CI(f,m,n),c(h)),!1)}let l=[],u=Object.assign(m1,{defaultVisitor:d,convertValue:c,isVisitable:tu});function y(h,m){if(!b.isUndefined(h)){if(l.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));l.push(h),b.forEach(h,function(x,w){(!(b.isUndefined(x)||x===null)&&r.call(e,x,b.isString(w)?w.trim():w,m,u))===!0&&y(x,m?m.concat(w):[w])}),l.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return y(t),e}function DI(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function uk(t,e){this._pairs=[],t&&fa(t,this,e)}var mk=uk.prototype;mk.append=function(e,i){this._pairs.push([e,i])};mk.toString=function(e){let i=e?function(s){return e.call(this,s,DI)}:DI;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function h1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uu(t,e,i){if(!e)return t;let s=i&&i.encode||h1;b.isFunction(i)&&(i={serialize:i});let r=i&&i.serialize,n;if(r?n=r(e,i):n=b.isURLSearchParams(e)?e.toString():new uk(e,i).toString(s),n){let o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}var iu=class{constructor(){this.handlers=[]}use(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(s){s!==null&&e(s)})}},RI=iu,mu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f1=IU.default.URLSearchParams,Jl="abcdefghijklmnopqrstuvwxyz",EI="0123456789",hk={DIGIT:EI,ALPHA:Jl,ALPHA_DIGIT:Jl+Jl.toUpperCase()+EI},y1=(t=16,e=hk.ALPHA_DIGIT)=>{let i="",{length:s}=e,r=new Uint32Array(t);wU.default.randomFillSync(r);for(let n=0;n<t;n++)i+=e[r[n]%s];return i},g1={isNode:!0,classes:{URLSearchParams:f1,FormData:XI.default,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:hk,generateString:y1,protocols:["http","https","file","data"]},hu=typeof window<"u"&&typeof document<"u",su=typeof navigator=="object"&&navigator||void 0,b1=hu&&(!su||["ReactNative","NativeScript","NS"].indexOf(su.product)<0),x1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v1=hu&&window.location.href||"http://localhost",w1=Object.freeze({__proto__:null,hasBrowserEnv:hu,hasStandardBrowserWebWorkerEnv:x1,hasStandardBrowserEnv:b1,navigator:su,origin:v1}),re={...w1,...g1};function I1(t,e){return fa(t,new re.classes.URLSearchParams,{visitor:function(i,s,r,n){return re.isNode&&b.isBuffer(i)?(this.append(s,i.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...e})}function k1(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q1(t){let e={},i=Object.keys(t),s,r=i.length,n;for(s=0;s<r;s++)n=i[s],e[n]=t[n];return e}function fk(t){function e(i,s,r,n){let o=i[n++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),p=n>=i.length;return o=!o&&b.isArray(r)?r.length:o,p?(b.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!b.isObject(r[o]))&&(r[o]=[]),e(i,s,r[o],n)&&b.isArray(r[o])&&(r[o]=q1(r[o])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){let i={};return b.forEachEntry(t,(s,r)=>{e(k1(s),r,i,0)}),i}return null}function A1(t,e,i){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(t)}var fu={transitional:mu,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){let s=i.getContentType()||"",r=s.indexOf("application/json")>-1,n=b.isObject(e);if(n&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return r?JSON.stringify(fk(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return I1(e,this.formSerializer).toString();if((a=b.isFileList(e))||s.indexOf("multipart/form-data")>-1){let p=this.env&&this.env.FormData;return fa(a?{"files[]":e}:e,p&&new p,this.formSerializer)}}return n||r?(i.setContentType("application/json",!1),A1(e)):e}],transformResponse:[function(e){let i=this.transitional||fu.transitional,s=i&&i.forcedJSONParsing,r=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(s&&!this.responseType||r)){let o=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?P.from(a,P.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{fu.headers[t]={}});var yu=fu,O1=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1=t=>{let e={},i,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),i=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!i||e[i]&&O1[i])&&(i==="set-cookie"?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)}),e},$I=Symbol("internals");function Jr(t){return t&&String(t).trim().toLowerCase()}function oa(t){return t===!1||t==null?t:b.isArray(t)?t.map(oa):String(t)}function P1(t){let e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}var S1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gl(t,e,i,s,r){if(b.isFunction(s))return s.call(this,e,i);if(r&&(e=i),!!b.isString(e)){if(b.isString(s))return e.indexOf(s)!==-1;if(b.isRegExp(s))return s.test(e)}}function T1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,s)=>i.toUpperCase()+s)}function C1(t,e){let i=b.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(r,n,o){return this[s].call(this,e,r,n,o)},configurable:!0})})}var cs=class{constructor(e){e&&this.set(e)}set(e,i,s){let r=this;function n(a,p,c){let d=Jr(p);if(!d)throw new Error("header name must be a non-empty string");let l=b.findKey(r,d);(!l||r[l]===void 0||c===!0||c===void 0&&r[l]!==!1)&&(r[l||p]=oa(a))}let o=(a,p)=>b.forEach(a,(c,d)=>n(c,d,p));if(b.isPlainObject(e)||e instanceof this.constructor)o(e,i);else if(b.isString(e)&&(e=e.trim())&&!S1(e))o(j1(e),i);else if(b.isObject(e)&&b.isIterable(e)){let a={},p,c;for(let d of e){if(!b.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(p=a[c])?b.isArray(p)?[...p,d[1]]:[p,d[1]]:d[1]}o(a,i)}else e!=null&&n(i,e,s);return this}get(e,i){if(e=Jr(e),e){let s=b.findKey(this,e);if(s){let r=this[s];if(!i)return r;if(i===!0)return P1(r);if(b.isFunction(i))return i.call(this,r,s);if(b.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=Jr(e),e){let s=b.findKey(this,e);return!!(s&&this[s]!==void 0&&(!i||Gl(this,this[s],s,i)))}return!1}delete(e,i){let s=this,r=!1;function n(o){if(o=Jr(o),o){let a=b.findKey(s,o);a&&(!i||Gl(s,s[a],a,i))&&(delete s[a],r=!0)}}return b.isArray(e)?e.forEach(n):n(e),r}clear(e){let i=Object.keys(this),s=i.length,r=!1;for(;s--;){let n=i[s];(!e||Gl(this,this[n],n,e,!0))&&(delete this[n],r=!0)}return r}normalize(e){let i=this,s={};return b.forEach(this,(r,n)=>{let o=b.findKey(s,n);if(o){i[o]=oa(r),delete i[n];return}let a=e?T1(n):String(n).trim();a!==n&&delete i[n],i[a]=oa(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let i=Object.create(null);return b.forEach(this,(s,r)=>{s!=null&&s!==!1&&(i[r]=e&&b.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){let s=new this(e);return i.forEach(r=>s.set(r)),s}static accessor(e){let s=(this[$I]=this[$I]={accessors:{}}).accessors,r=this.prototype;function n(o){let a=Jr(o);s[a]||(C1(r,o),s[a]=!0)}return b.isArray(e)?e.forEach(n):n(e),this}};cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(cs.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[i]=s}}});b.freezeMethods(cs);var Ue=cs;function Yl(t,e){let i=this||yu,s=e||i,r=Ue.from(s.headers),n=s.data;return b.forEach(t,function(a){n=a.call(i,n,r.normalize(),e?e.status:void 0)}),r.normalize(),n}function yk(t){return!!(t&&t.__CANCEL__)}function Kt(t,e,i){P.call(this,t??"canceled",P.ERR_CANCELED,e,i),this.name="CanceledError"}b.inherits(Kt,P,{__CANCEL__:!0});function as(t,e,i){let s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new P("Request failed with status code "+i.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function D1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R1(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gu(t,e,i){let s=!D1(e);return t&&(s||i==!1)?R1(t,e):e}var ca="1.13.2";function gk(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var E1=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function $1(t,e,i){let s=i&&i.Blob||re.classes.Blob,r=gk(t);if(e===void 0&&s&&(e=!0),r==="data"){t=r.length?t.slice(r.length+1):t;let n=E1.exec(t);if(!n)throw new P("Invalid URL",P.ERR_INVALID_URL);let o=n[1],a=n[2],p=n[3],c=Buffer.from(decodeURIComponent(p),a?"base64":"utf8");if(e){if(!s)throw new P("Blob is not supported",P.ERR_NOT_SUPPORT);return new s([c],{type:o})}return c}throw new P("Unsupported protocol "+r,P.ERR_NOT_SUPPORT)}var Ql=Symbol("internals"),ru=class extends ht.default.Transform{constructor(e){e=b.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(s,r)=>!b.isUndefined(r[s])),super({readableHighWaterMark:e.chunkSize});let i=this[Ql]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",s=>{s==="progress"&&(i.isCaptured||(i.isCaptured=!0))})}_read(e){let i=this[Ql];return i.onReadCallback&&i.onReadCallback(),super._read(e)}_transform(e,i,s){let r=this[Ql],n=r.maxRate,o=this.readableHighWaterMark,a=r.timeWindow,p=1e3/a,c=n/p,d=r.minChunkSize!==!1?Math.max(r.minChunkSize,c*.01):0,l=(y,h)=>{let m=Buffer.byteLength(y);r.bytesSeen+=m,r.bytes+=m,r.isCaptured&&this.emit("progress",r.bytesSeen),this.push(y)?process.nextTick(h):r.onReadCallback=()=>{r.onReadCallback=null,process.nextTick(h)}},u=(y,h)=>{let m=Buffer.byteLength(y),f=null,x=o,w,I=0;if(n){let A=Date.now();(!r.ts||(I=A-r.ts)>=a)&&(r.ts=A,w=c-r.bytes,r.bytes=w<0?-w:0,I=0),w=c-r.bytes}if(n){if(w<=0)return setTimeout(()=>{h(null,y)},a-I);w<x&&(x=w)}x&&m>x&&m-x>d&&(f=y.subarray(x),y=y.subarray(0,x)),l(y,f?()=>{process.nextTick(h,null,f)}:h)};u(e,function y(h,m){if(h)return s(h);m?u(m,y):s(null)})}},_I=ru,{asyncIterator:UI}=Symbol,_1=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[UI]?yield*t[UI]():yield t},bk=_1,U1=re.ALPHABET.ALPHA_DIGIT+"-_",Gr=typeof TextEncoder=="function"?new TextEncoder:new du.default.TextEncoder,gi=`\r
`,N1=Gr.encode(gi),V1=2,nu=class{constructor(e,i){let{escapeName:s}=this.constructor,r=b.isString(i),n=`Content-Disposition: form-data; name="${s(e)}"${!r&&i.name?`; filename="${s(i.name)}"`:""}${gi}`;r?i=Gr.encode(String(i).replace(/\r?\n|\r\n?/g,gi)):n+=`Content-Type: ${i.type||"application/octet-stream"}${gi}`,this.headers=Gr.encode(n+gi),this.contentLength=r?i.byteLength:i.size,this.size=this.headers.byteLength+this.contentLength+V1,this.name=e,this.value=i}async*encode(){yield this.headers;let{value:e}=this;b.isTypedArray(e)?yield e:yield*bk(e),yield N1}static escapeName(e){return String(e).replace(/[\r\n"]/g,i=>({"\r":"%0D","\n":"%0A",'"':"%22"})[i])}},z1=(t,e,i)=>{let{tag:s="form-data-boundary",size:r=25,boundary:n=s+"-"+re.generateString(r,U1)}=i||{};if(!b.isFormData(t))throw TypeError("FormData instance required");if(n.length<1||n.length>70)throw Error("boundary must be 10-70 characters long");let o=Gr.encode("--"+n+gi),a=Gr.encode("--"+n+"--"+gi),p=a.byteLength,c=Array.from(t.entries()).map(([l,u])=>{let y=new nu(l,u);return p+=y.size,y});p+=o.byteLength*c.length,p=b.toFiniteNumber(p);let d={"Content-Type":`multipart/form-data; boundary=${n}`};return Number.isFinite(p)&&(d["Content-Length"]=p),e&&e(d),QI.Readable.from((async function*(){for(let l of c)yield o,yield*l.encode();yield a})())},L1=z1,ou=class extends ht.default.Transform{__transform(e,i,s){this.push(e),s()}_transform(e,i,s){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let r=Buffer.alloc(2);r[0]=120,r[1]=156,this.push(r,i)}this.__transform(e,i,s)}},H1=ou,B1=(t,e)=>b.isAsyncFn(t)?function(...i){let s=i.pop();t.apply(this,i).then(r=>{try{e?s(null,...e(r)):s(null,r)}catch(n){s(n)}},s)}:t,W1=B1;function F1(t,e){t=t||10;let i=new Array(t),s=new Array(t),r=0,n=0,o;return e=e!==void 0?e:1e3,function(p){let c=Date.now(),d=s[n];o||(o=c),i[r]=p,s[r]=c;let l=n,u=0;for(;l!==r;)u+=i[l++],l=l%t;if(r=(r+1)%t,r===n&&(n=(n+1)%t),c-o<e)return;let y=d&&c-d;return y?Math.round(u*1e3/y):void 0}}function Z1(t,e){let i=0,s=1e3/e,r,n,o=(c,d=Date.now())=>{i=d,r=null,n&&(clearTimeout(n),n=null),t(...c)};return[(...c)=>{let d=Date.now(),l=d-i;l>=s?o(c,d):(r=c,n||(n=setTimeout(()=>{n=null,o(r)},s-l)))},()=>r&&o(r)]}var ds=(t,e,i=3)=>{let s=0,r=F1(50,250);return Z1(n=>{let o=n.loaded,a=n.lengthComputable?n.total:void 0,p=o-s,c=r(p),d=o<=a;s=o;let l={loaded:o,total:a,progress:a?o/a:void 0,bytes:p,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:n,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(l)},i)},da=(t,e)=>{let i=t!=null;return[s=>e[0]({lengthComputable:i,total:t,loaded:s}),e[1]]},la=t=>(...e)=>b.asap(()=>t(...e));function K1(t){if(!t||typeof t!="string"||!t.startsWith("data:"))return 0;let e=t.indexOf(",");if(e<0)return 0;let i=t.slice(5,e),s=t.slice(e+1);if(/;base64/i.test(i)){let n=s.length,o=s.length;for(let u=0;u<o;u++)if(s.charCodeAt(u)===37&&u+2<o){let y=s.charCodeAt(u+1),h=s.charCodeAt(u+2);(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102)&&(h>=48&&h<=57||h>=65&&h<=70||h>=97&&h<=102)&&(n-=2,u+=2)}let a=0,p=o-1,c=u=>u>=2&&s.charCodeAt(u-2)===37&&s.charCodeAt(u-1)===51&&(s.charCodeAt(u)===68||s.charCodeAt(u)===100);p>=0&&(s.charCodeAt(p)===61?(a++,p--):c(p)&&(a++,p-=3)),a===1&&p>=0&&(s.charCodeAt(p)===61||c(p))&&a++;let l=Math.floor(n/4)*3-(a||0);return l>0?l:0}return Buffer.byteLength(s,"utf8")}var NI={flush:Zt.default.constants.Z_SYNC_FLUSH,finishFlush:Zt.default.constants.Z_SYNC_FLUSH},M1={flush:Zt.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Zt.default.constants.BROTLI_OPERATION_FLUSH},VI=b.isFunction(Zt.default.createBrotliDecompress),{http:J1,https:G1}=OU.default,Y1=/https:?/,zI=re.protocols.map(t=>t+":"),LI=(t,[e,i])=>(t.on("end",i).on("error",i),e),au=class{constructor(){this.sessions=Object.create(null)}getSession(e,i){i=Object.assign({sessionTimeout:1e3},i);let s=this.sessions[e];if(s){let d=s.length;for(let l=0;l<d;l++){let[u,y]=s[l];if(!u.destroyed&&!u.closed&&du.default.isDeepStrictEqual(y,i))return u}}let r=ek.default.connect(e,i),n,o=()=>{if(n)return;n=!0;let d=s,l=d.length,u=l;for(;u--;)if(d[u][0]===r){l===1?delete this.sessions[e]:d.splice(u,1);return}},a=r.request,{sessionTimeout:p}=i;if(p!=null){let d,l=0;r.request=function(){let u=a.apply(this,arguments);return l++,d&&(clearTimeout(d),d=null),u.once("close",()=>{--l||(d=setTimeout(()=>{d=null,o()},p))}),u}}r.once("close",o);let c=[r,i];return s?s.push(c):s=this.sessions[e]=[c],r}},Q1=new au;function X1(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function xk(t,e,i){let s=e;if(!s&&s!==!1){let r=kU.default.getProxyForUrl(i);r&&(s=new URL(r))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let n=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.headers.host=t.hostname+(t.port?":"+t.port:"");let r=s.hostname||s.host;t.hostname=r,t.host=r,t.port=s.port,t.path=i,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(n){xk(n,e,n.href)}}var eN=typeof process<"u"&&b.kindOf(process)==="process",tN=t=>new Promise((e,i)=>{let s,r,n=(p,c)=>{r||(r=!0,s&&s(p,c))},o=p=>{n(p),e(p)},a=p=>{n(p,!0),i(p)};t(o,a,p=>s=p).catch(a)}),iN=({address:t,family:e})=>{if(!b.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},HI=(t,e)=>iN(b.isObject(t)?t:{address:t,family:e}),sN={request(t,e){let i=t.protocol+"//"+t.hostname+":"+(t.port||80),{http2Options:s,headers:r}=t,n=Q1.getSession(i,s),{HTTP2_HEADER_SCHEME:o,HTTP2_HEADER_METHOD:a,HTTP2_HEADER_PATH:p,HTTP2_HEADER_STATUS:c}=ek.default.constants,d={[o]:t.protocol.replace(":",""),[a]:t.method,[p]:t.path};b.forEach(r,(u,y)=>{y.charAt(0)!==":"&&(d[y]=u)});let l=n.request(d);return l.once("response",u=>{let y=l;u=Object.assign({},u);let h=u[c];delete u[c],y.headers=u,y.statusCode=+h,e(y)}),l}},rN=eN&&function(e){return tN(async function(s,r,n){let{data:o,lookup:a,family:p,httpVersion:c=1,http2Options:d}=e,{responseType:l,responseEncoding:u}=e,y=e.method.toUpperCase(),h,m=!1,f;if(c=+c,Number.isNaN(c))throw TypeError(`Invalid protocol version: '${e.httpVersion}' is not a number`);if(c!==1&&c!==2)throw TypeError(`Unsupported protocol version '${c}'`);let x=c===2;if(a){let _=W1(a,D=>b.isArray(D)?D:[D]);a=(D,G,Ne)=>{_(D,G,(oe,Ze,It)=>{if(oe)return Ne(oe);let Oe=b.isArray(Ze)?Ze.map(en=>HI(en)):[HI(Ze,It)];G.all?Ne(oe,Oe):Ne(oe,Oe[0].address,Oe[0].family)})}}let w=new vU.EventEmitter;function I(_){try{w.emit("abort",!_||_.type?new Kt(null,e,f):_)}catch(D){console.warn("emit error",D)}}w.once("abort",r);let A=()=>{e.cancelToken&&e.cancelToken.unsubscribe(I),e.signal&&e.signal.removeEventListener("abort",I),w.removeAllListeners()};(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(I),e.signal&&(e.signal.aborted?I():e.signal.addEventListener("abort",I))),n((_,D)=>{if(h=!0,D){m=!0,A();return}let{data:G}=_;if(G instanceof ht.default.Readable||G instanceof ht.default.Duplex){let Ne=ht.default.finished(G,()=>{Ne(),A()})}else A()});let q=gu(e.baseURL,e.url,e.allowAbsoluteUrls),v=new URL(q,re.hasBrowserEnv?re.origin:void 0),O=v.protocol||zI[0];if(O==="data:"){if(e.maxContentLength>-1){let D=String(e.url||q||"");if(K1(D)>e.maxContentLength)return r(new P("maxContentLength size of "+e.maxContentLength+" exceeded",P.ERR_BAD_RESPONSE,e))}let _;if(y!=="GET")return as(s,r,{status:405,statusText:"method not allowed",headers:{},config:e});try{_=$1(e.url,l==="blob",{Blob:e.env&&e.env.Blob})}catch(D){throw P.from(D,P.ERR_BAD_REQUEST,e)}return l==="text"?(_=_.toString(u),(!u||u==="utf8")&&(_=b.stripBOM(_))):l==="stream"&&(_=ht.default.Readable.from(_)),as(s,r,{data:_,status:200,statusText:"OK",headers:new Ue,config:e})}if(zI.indexOf(O)===-1)return r(new P("Unsupported protocol "+O,P.ERR_BAD_REQUEST,e));let k=Ue.from(e.headers).normalize();k.set("User-Agent","axios/"+ca,!1);let{onUploadProgress:T,onDownloadProgress:N}=e,L=e.maxRate,S,$;if(b.isSpecCompliantForm(o)){let _=k.getContentType(/boundary=([-_\w\d]{10,70})/i);o=L1(o,D=>{k.set(D)},{tag:`axios-${ca}-boundary`,boundary:_&&_[1]||void 0})}else if(b.isFormData(o)&&b.isFunction(o.getHeaders)){if(k.set(o.getHeaders()),!k.hasContentLength())try{let _=await du.default.promisify(o.getLength).call(o);Number.isFinite(_)&&_>=0&&k.setContentLength(_)}catch{}}else if(b.isBlob(o)||b.isFile(o))o.size&&k.setContentType(o.type||"application/octet-stream"),k.setContentLength(o.size||0),o=ht.default.Readable.from(bk(o));else if(o&&!b.isStream(o)){if(!Buffer.isBuffer(o))if(b.isArrayBuffer(o))o=Buffer.from(new Uint8Array(o));else if(b.isString(o))o=Buffer.from(o,"utf-8");else return r(new P("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",P.ERR_BAD_REQUEST,e));if(k.setContentLength(o.length,!1),e.maxBodyLength>-1&&o.length>e.maxBodyLength)return r(new P("Request body larger than maxBodyLength limit",P.ERR_BAD_REQUEST,e))}let ie=b.toFiniteNumber(k.getContentLength());b.isArray(L)?(S=L[0],$=L[1]):S=$=L,o&&(T||S)&&(b.isStream(o)||(o=ht.default.Readable.from(o,{objectMode:!1})),o=ht.default.pipeline([o,new _I({maxRate:b.toFiniteNumber(S)})],b.noop),T&&o.on("progress",LI(o,da(ie,ds(la(T),!1,3)))));let ge;if(e.auth){let _=e.auth.username||"",D=e.auth.password||"";ge=_+":"+D}if(!ge&&v.username){let _=v.username,D=v.password;ge=_+":"+D}ge&&k.delete("authorization");let Q;try{Q=uu(v.pathname+v.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(_){let D=new Error(_.message);return D.config=e,D.url=e.url,D.exists=!0,r(D)}k.set("Accept-Encoding","gzip, compress, deflate"+(VI?", br":""),!1);let ne={path:Q,method:y,headers:k.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:ge,protocol:O,family:p,beforeRedirect:X1,beforeRedirects:{},http2Options:d};!b.isUndefined(a)&&(ne.lookup=a),e.socketPath?ne.socketPath=e.socketPath:(ne.hostname=v.hostname.startsWith("[")?v.hostname.slice(1,-1):v.hostname,ne.port=v.port,xk(ne,e.proxy,O+"//"+v.hostname+(v.port?":"+v.port:"")+ne.path));let Ae,xi=Y1.test(ne.protocol);if(ne.agent=xi?e.httpsAgent:e.httpAgent,x?Ae=sN:e.transport?Ae=e.transport:e.maxRedirects===0?Ae=xi?AU.default:qU.default:(e.maxRedirects&&(ne.maxRedirects=e.maxRedirects),e.beforeRedirect&&(ne.beforeRedirects.config=e.beforeRedirect),Ae=xi?G1:J1),e.maxBodyLength>-1?ne.maxBodyLength=e.maxBodyLength:ne.maxBodyLength=1/0,e.insecureHTTPParser&&(ne.insecureHTTPParser=e.insecureHTTPParser),f=Ae.request(ne,function(D){if(f.destroyed)return;let G=[D],Ne=b.toFiniteNumber(D.headers["content-length"]);if(N||$){let Oe=new _I({maxRate:b.toFiniteNumber($)});N&&Oe.on("progress",LI(Oe,da(Ne,ds(la(N),!0,3)))),G.push(Oe)}let oe=D,Ze=D.req||f;if(e.decompress!==!1&&D.headers["content-encoding"])switch((y==="HEAD"||D.statusCode===204)&&delete D.headers["content-encoding"],(D.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":G.push(Zt.default.createUnzip(NI)),delete D.headers["content-encoding"];break;case"deflate":G.push(new H1),G.push(Zt.default.createUnzip(NI)),delete D.headers["content-encoding"];break;case"br":VI&&(G.push(Zt.default.createBrotliDecompress(M1)),delete D.headers["content-encoding"])}oe=G.length>1?ht.default.pipeline(G,b.noop):G[0];let It={status:D.statusCode,statusText:D.statusMessage,headers:new Ue(D.headers),config:e,request:Ze};if(l==="stream")It.data=oe,as(s,r,It);else{let Oe=[],en=0;oe.on("data",function(Ie){Oe.push(Ie),en+=Ie.length,e.maxContentLength>-1&&en>e.maxContentLength&&(m=!0,oe.destroy(),I(new P("maxContentLength size of "+e.maxContentLength+" exceeded",P.ERR_BAD_RESPONSE,e,Ze)))}),oe.on("aborted",function(){if(m)return;let Ie=new P("stream has been aborted",P.ERR_BAD_RESPONSE,e,Ze);oe.destroy(Ie),r(Ie)}),oe.on("error",function(Ie){f.destroyed||r(P.from(Ie,null,e,Ze))}),oe.on("end",function(){try{let Ie=Oe.length===1?Oe[0]:Buffer.concat(Oe);l!=="arraybuffer"&&(Ie=Ie.toString(u),(!u||u==="utf8")&&(Ie=b.stripBOM(Ie))),It.data=Ie}catch(Ie){return r(P.from(Ie,null,e,It.request,It))}as(s,r,It)})}w.once("abort",Oe=>{oe.destroyed||(oe.emit("error",Oe),oe.destroy())})}),w.once("abort",_=>{f.close?f.close():f.destroy(_)}),f.on("error",function(D){r(P.from(D,null,e,f))}),f.on("socket",function(D){D.setKeepAlive(!0,1e3*60)}),e.timeout){let _=parseInt(e.timeout,10);if(Number.isNaN(_)){I(new P("error trying to parse `config.timeout` to int",P.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(_,function(){if(h)return;let G=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Ne=e.transitional||mu;e.timeoutErrorMessage&&(G=e.timeoutErrorMessage),I(new P(G,Ne.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,e,f))})}else f.setTimeout(0);if(b.isStream(o)){let _=!1,D=!1;o.on("end",()=>{_=!0}),o.once("error",G=>{D=!0,f.destroy(G)}),o.on("close",()=>{!_&&!D&&I(new Kt("Request stream has been aborted",e,f))}),o.pipe(f)}else o&&f.write(o),f.end()})},nN=re.hasStandardBrowserEnv?((t,e)=>i=>(i=new URL(i,re.origin),t.protocol===i.protocol&&t.host===i.host&&(e||t.port===i.port)))(new URL(re.origin),re.navigator&&/(msie|trident)/i.test(re.navigator.userAgent)):()=>!0,oN=re.hasStandardBrowserEnv?{write(t,e,i,s,r,n,o){if(typeof document>"u")return;let a=[`${t}=${encodeURIComponent(e)}`];b.isNumber(i)&&a.push(`expires=${new Date(i).toUTCString()}`),b.isString(s)&&a.push(`path=${s}`),b.isString(r)&&a.push(`domain=${r}`),n===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;let e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}},BI=t=>t instanceof Ue?{...t}:t;function bi(t,e){e=e||{};let i={};function s(c,d,l,u){return b.isPlainObject(c)&&b.isPlainObject(d)?b.merge.call({caseless:u},c,d):b.isPlainObject(d)?b.merge({},d):b.isArray(d)?d.slice():d}function r(c,d,l,u){if(b.isUndefined(d)){if(!b.isUndefined(c))return s(void 0,c,l,u)}else return s(c,d,l,u)}function n(c,d){if(!b.isUndefined(d))return s(void 0,d)}function o(c,d){if(b.isUndefined(d)){if(!b.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function a(c,d,l){if(l in e)return s(c,d);if(l in t)return s(void 0,c)}let p={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,l)=>r(BI(c),BI(d),l,!0)};return b.forEach(Object.keys({...t,...e}),function(d){let l=p[d]||r,u=l(t[d],e[d],d);b.isUndefined(u)&&l!==a||(i[d]=u)}),i}var vk=t=>{let e=bi({},t),{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:n,headers:o,auth:a}=e;if(e.headers=o=Ue.from(o),e.url=uu(gu(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(i)){if(re.hasStandardBrowserEnv||re.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(i.getHeaders)){let p=i.getHeaders(),c=["content-type","content-length"];Object.entries(p).forEach(([d,l])=>{c.includes(d.toLowerCase())&&o.set(d,l)})}}if(re.hasStandardBrowserEnv&&(s&&b.isFunction(s)&&(s=s(e)),s||s!==!1&&nN(e.url))){let p=r&&n&&oN.read(n);p&&o.set(r,p)}return e},aN=typeof XMLHttpRequest<"u",pN=aN&&function(t){return new Promise(function(i,s){let r=vk(t),n=r.data,o=Ue.from(r.headers).normalize(),{responseType:a,onUploadProgress:p,onDownloadProgress:c}=r,d,l,u,y,h;function m(){y&&y(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let f=new XMLHttpRequest;f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout;function x(){if(!f)return;let I=Ue.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),q={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:I,config:t,request:f};as(function(O){i(O),m()},function(O){s(O),m()},q),f=null}"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(x)},f.onabort=function(){f&&(s(new P("Request aborted",P.ECONNABORTED,t,f)),f=null)},f.onerror=function(A){let q=A&&A.message?A.message:"Network Error",v=new P(q,P.ERR_NETWORK,t,f);v.event=A||null,s(v),f=null},f.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",q=r.transitional||mu;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),s(new P(A,q.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,t,f)),f=null},n===void 0&&o.setContentType(null),"setRequestHeader"in f&&b.forEach(o.toJSON(),function(A,q){f.setRequestHeader(q,A)}),b.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),a&&a!=="json"&&(f.responseType=r.responseType),c&&([u,h]=ds(c,!0),f.addEventListener("progress",u)),p&&f.upload&&([l,y]=ds(p),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(d=I=>{f&&(s(!I||I.type?new Kt(null,t,f):I),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));let w=gk(r.url);if(w&&re.protocols.indexOf(w)===-1){s(new P("Unsupported protocol "+w+":",P.ERR_BAD_REQUEST,t));return}f.send(n||null)})},cN=(t,e)=>{let{length:i}=t=t?t.filter(Boolean):[];if(e||i){let s=new AbortController,r,n=function(c){if(!r){r=!0,a();let d=c instanceof Error?c:this.reason;s.abort(d instanceof P?d:new Kt(d instanceof Error?d.message:d))}},o=e&&setTimeout(()=>{o=null,n(new P(`timeout ${e} of ms exceeded`,P.ETIMEDOUT))},e),a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(n):c.removeEventListener("abort",n)}),t=null)};t.forEach(c=>c.addEventListener("abort",n));let{signal:p}=s;return p.unsubscribe=()=>b.asap(a),p}},dN=cN,lN=function*(t,e){let i=t.byteLength;if(!e||i<e){yield t;return}let s=0,r;for(;s<i;)r=s+e,yield t.slice(s,r),s=r},uN=async function*(t,e){for await(let i of mN(t))yield*lN(i,e)},mN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:i,value:s}=await e.read();if(i)break;yield s}}finally{await e.cancel()}},WI=(t,e,i,s)=>{let r=uN(t,e),n=0,o,a=p=>{o||(o=!0,s&&s(p))};return new ReadableStream({async pull(p){try{let{done:c,value:d}=await r.next();if(c){a(),p.close();return}let l=d.byteLength;if(i){let u=n+=l;i(u)}p.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(p){return a(p),r.return()}},{highWaterMark:2})},FI=64*1024,{isFunction:ra}=b,hN=(({Request:t,Response:e})=>({Request:t,Response:e}))(b.global),{ReadableStream:ZI,TextEncoder:KI}=b.global,MI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fN=t=>{t=b.merge.call({skipUndefined:!0},hN,t);let{fetch:e,Request:i,Response:s}=t,r=e?ra(e):typeof fetch=="function",n=ra(i),o=ra(s);if(!r)return!1;let a=r&&ra(ZI),p=r&&(typeof KI=="function"?(h=>m=>h.encode(m))(new KI):async h=>new Uint8Array(await new i(h).arrayBuffer())),c=n&&a&&MI(()=>{let h=!1,m=new i(re.origin,{body:new ZI,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!m}),d=o&&a&&MI(()=>b.isReadableStream(new s("").body)),l={stream:d&&(h=>h.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!l[h]&&(l[h]=(m,f)=>{let x=m&&m[h];if(x)return x.call(m);throw new P(`Response type '${h}' is not supported`,P.ERR_NOT_SUPPORT,f)})});let u=async h=>{if(h==null)return 0;if(b.isBlob(h))return h.size;if(b.isSpecCompliantForm(h))return(await new i(re.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(b.isArrayBufferView(h)||b.isArrayBuffer(h))return h.byteLength;if(b.isURLSearchParams(h)&&(h=h+""),b.isString(h))return(await p(h)).byteLength},y=async(h,m)=>{let f=b.toFiniteNumber(h.getContentLength());return f??u(m)};return async h=>{let{url:m,method:f,data:x,signal:w,cancelToken:I,timeout:A,onDownloadProgress:q,onUploadProgress:v,responseType:O,headers:k,withCredentials:T="same-origin",fetchOptions:N}=vk(h),L=e||fetch;O=O?(O+"").toLowerCase():"text";let S=dN([w,I&&I.toAbortSignal()],A),$=null,ie=S&&S.unsubscribe&&(()=>{S.unsubscribe()}),ge;try{if(v&&c&&f!=="get"&&f!=="head"&&(ge=await y(k,x))!==0){let D=new i(m,{method:"POST",body:x,duplex:"half"}),G;if(b.isFormData(x)&&(G=D.headers.get("content-type"))&&k.setContentType(G),D.body){let[Ne,oe]=da(ge,ds(la(v)));x=WI(D.body,FI,Ne,oe)}}b.isString(T)||(T=T?"include":"omit");let Q=n&&"credentials"in i.prototype,ne={...N,signal:S,method:f.toUpperCase(),headers:k.normalize().toJSON(),body:x,duplex:"half",credentials:Q?T:void 0};$=n&&new i(m,ne);let Ae=await(n?L($,N):L(m,ne)),xi=d&&(O==="stream"||O==="response");if(d&&(q||xi&&ie)){let D={};["status","statusText","headers"].forEach(Ze=>{D[Ze]=Ae[Ze]});let G=b.toFiniteNumber(Ae.headers.get("content-length")),[Ne,oe]=q&&da(G,ds(la(q),!0))||[];Ae=new s(WI(Ae.body,FI,Ne,()=>{oe&&oe(),ie&&ie()}),D)}O=O||"text";let _=await l[b.findKey(l,O)||"text"](Ae,h);return!xi&&ie&&ie(),await new Promise((D,G)=>{as(D,G,{data:_,headers:Ue.from(Ae.headers),status:Ae.status,statusText:Ae.statusText,config:h,request:$})})}catch(Q){throw ie&&ie(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,h,$),{cause:Q.cause||Q}):P.from(Q,Q&&Q.code,h,$)}}},yN=new Map,wk=t=>{let e=t&&t.env||{},{fetch:i,Request:s,Response:r}=e,n=[s,r,i],o=n.length,a=o,p,c,d=yN;for(;a--;)p=n[a],c=d.get(p),c===void 0&&d.set(p,c=a?new Map:fN(e)),d=c;return c};wk();var bu={http:rN,xhr:pN,fetch:{get:wk}};b.forEach(bu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var JI=t=>`- ${t}`,gN=t=>b.isFunction(t)||t===null||t===!1;function bN(t,e){t=b.isArray(t)?t:[t];let{length:i}=t,s,r,n={};for(let o=0;o<i;o++){s=t[o];let a;if(r=s,!gN(s)&&(r=bu[(a=String(s)).toLowerCase()],r===void 0))throw new P(`Unknown adapter '${a}'`);if(r&&(b.isFunction(r)||(r=r.get(e))))break;n[a||"#"+o]=r}if(!r){let o=Object.entries(n).map(([p,c])=>`adapter ${p} `+(c===!1?"is not supported by the environment":"is not available in the build")),a=i?o.length>1?`since :
`+o.map(JI).join(`
`):" "+JI(o[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r}var Ik={getAdapter:bN,adapters:bu};function Xl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kt(null,t)}function GI(t){return Xl(t),t.headers=Ue.from(t.headers),t.data=Yl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ik.getAdapter(t.adapter||yu.adapter,t)(t).then(function(s){return Xl(t),s.data=Yl.call(t,t.transformResponse,s),s.headers=Ue.from(s.headers),s},function(s){return yk(s)||(Xl(t),s&&s.response&&(s.response.data=Yl.call(t,t.transformResponse,s.response),s.response.headers=Ue.from(s.response.headers))),Promise.reject(s)})}var ya={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ya[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});var YI={};ya.transitional=function(e,i,s){function r(n,o){return"[Axios v"+ca+"] Transitional option '"+n+"'"+o+(s?". "+s:"")}return(n,o,a)=>{if(e===!1)throw new P(r(o," has been removed"+(i?" in "+i:"")),P.ERR_DEPRECATED);return i&&!YI[o]&&(YI[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(n,o,a):!0}};ya.spelling=function(e){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function xN(t,e,i){if(typeof t!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),r=s.length;for(;r-- >0;){let n=s[r],o=e[n];if(o){let a=t[n],p=a===void 0||o(a,n,t);if(p!==!0)throw new P("option "+n+" must be "+p,P.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new P("Unknown option "+n,P.ERR_BAD_OPTION)}}var aa={assertOptions:xN,validators:ya},mt=aa.validators,ls=class{constructor(e){this.defaults=e||{},this.interceptors={request:new RI,response:new RI}}async request(e,i){try{return await this._request(e,i)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;let n=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?n&&!String(s.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+n):s.stack=n}catch{}}throw s}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=bi(this.defaults,i);let{transitional:s,paramsSerializer:r,headers:n}=i;s!==void 0&&aa.assertOptions(s,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),r!=null&&(b.isFunction(r)?i.paramsSerializer={serialize:r}:aa.assertOptions(r,{encode:mt.function,serialize:mt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),aa.assertOptions(i,{baseUrl:mt.spelling("baseURL"),withXsrfToken:mt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=n&&b.merge(n.common,n[i.method]);n&&b.forEach(["delete","get","head","post","put","patch","common"],h=>{delete n[h]}),i.headers=Ue.concat(o,n);let a=[],p=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(i)===!1||(p=p&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});let c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let d,l=0,u;if(!p){let h=[GI.bind(this),void 0];for(h.unshift(...a),h.push(...c),u=h.length,d=Promise.resolve(i);l<u;)d=d.then(h[l++],h[l++]);return d}u=a.length;let y=i;for(;l<u;){let h=a[l++],m=a[l++];try{y=h(y)}catch(f){m.call(this,f);break}}try{d=GI.call(this,y)}catch(h){return Promise.reject(h)}for(l=0,u=c.length;l<u;)d=d.then(c[l++],c[l++]);return d}getUri(e){e=bi(this.defaults,e);let i=gu(e.baseURL,e.url,e.allowAbsoluteUrls);return uu(i,e.params,e.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(e){ls.prototype[e]=function(i,s){return this.request(bi(s||{},{method:e,url:i,data:(s||{}).data}))}});b.forEach(["post","put","patch"],function(e){function i(s){return function(n,o,a){return this.request(bi(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}ls.prototype[e]=i(),ls.prototype[e+"Form"]=i(!0)});var pa=ls,pu=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(n){i=n});let s=this;this.promise.then(r=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](r);s._listeners=null}),this.promise.then=r=>{let n,o=new Promise(a=>{s.subscribe(a),n=a}).then(r);return o.cancel=function(){s.unsubscribe(n)},o},e(function(n,o,a){s.reason||(s.reason=new Kt(n,o,a),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){let e=new AbortController,i=s=>{e.abort(s)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new t(function(r){e=r}),cancel:e}}},vN=pu;function wN(t){return function(i){return t.apply(null,i)}}function IN(t){return b.isObject(t)&&t.isAxiosError===!0}var cu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cu).forEach(([t,e])=>{cu[e]=t});var kN=cu;function kk(t){let e=new pa(t),i=tk(pa.prototype.request,e);return b.extend(i,pa.prototype,e,{allOwnKeys:!0}),b.extend(i,e,null,{allOwnKeys:!0}),i.create=function(r){return kk(bi(t,r))},i}var ce=kk(yu);ce.Axios=pa;ce.CanceledError=Kt;ce.CancelToken=vN;ce.isCancel=yk;ce.VERSION=ca;ce.toFormData=fa;ce.AxiosError=P;ce.Cancel=ce.CanceledError;ce.all=function(e){return Promise.all(e)};ce.spread=wN;ce.isAxiosError=IN;ce.mergeConfig=bi;ce.AxiosHeaders=Ue;ce.formToJSON=t=>fk(b.isHTMLForm(t)?new FormData(t):t);ce.getAdapter=Ik.getAdapter;ce.HttpStatusCode=kN;ce.default=ce;qk.exports=ce});var jk=g((TL,Ok)=>{var qN=require("fs"),AN=nv(),ON=Ak(),{URL:jN}=require("url");async function PN({fileURLOrPath:t}){if(!t)throw new Error("fileURLOrPath is required");if(typeof t!="string")throw new Error("fileURLOrPath must be a string");if(t.trim()==="")throw new Error("fileURLOrPath cannot be an empty string");let e,i=!1;try{let r=new jN(t);i=r.protocol==="http:"||r.protocol==="https:"}catch{}if(i)try{e=(await ON.get(t)).data}catch(r){return console.warn(`Error reading remote file from ${t}: ${r.message}`),null}else try{e=await qN.promises.readFile(t,"utf8")}catch(r){return r.code==="ENOENT"?console.warn(`File not found: ${t}`):console.warn(`Error reading file: ${r.message}`),null}let s=t.split(".").pop().toLowerCase();if(s==="json")try{return JSON.parse(e)}catch(r){return console.warn(`Failed to parse JSON: ${r.message}`),e}else if(s==="yaml"||s==="yml")try{return AN.parse(e)}catch(r){return console.warn(`Failed to parse YAML: ${r.message}`),e}else return e}Ok.exports={readFile:PN}});var Sk=g((CL,Pk)=>{var{schemas:SN}=ba(),{validate:TN,transformToSchemaKey:CN}=Rc(),{resolvePaths:DN}=gg(),{readFile:RN}=jk();Pk.exports={schemas:SN,validate:TN,resolvePaths:DN,readFile:RN,transformToSchemaKey:CN}});var Tk=require("fs"),EN=require("path"),xu=["checkLink","click","dragAndDrop","find","goTo","httpRequest","loadCookie","loadVariables","record","runCode","runShell","saveCookie","screenshot","stopRecord","type","wait"],Dk=null,vu=!1;try{Dk=Sk(),vu=!0}catch{}function Rk(t){let e=Object.keys(t).find(r=>r!=="description"&&r!=="stepId");if(!e)return{valid:!1,errors:[{message:"Step has no action defined"}],action:null};if(!xu.includes(e))return{valid:!1,errors:[{message:`Unknown action: "${e}". Known actions: ${xu.join(", ")}`}],action:e};let i=t[e],s=[];switch(e){case"goTo":typeof i!="string"&&(typeof i!="object"||!i.url)&&s.push({message:"goTo requires a URL string or object with url property"});break;case"click":case"find":typeof i!="string"&&typeof i!="object"&&s.push({message:`${e} requires a string (text) or object (with selector)`});break;case"type":(typeof i!="object"||!i.keys)&&s.push({message:"type requires an object with keys property"});break;case"httpRequest":(typeof i!="object"||!i.url)&&s.push({message:"httpRequest requires an object with url property"});break;case"wait":typeof i!="number"&&typeof i!="object"&&s.push({message:"wait requires a number (ms) or object (with selector/state)"});break;case"runShell":(typeof i!="object"||!i.command)&&s.push({message:"runShell requires an object with command property"});break;case"screenshot":typeof i!="string"&&typeof i!="object"&&s.push({message:"screenshot requires a string (path) or object (with path)"});break;case"checkLink":typeof i!="string"&&(typeof i!="object"||!i.url)&&s.push({message:"checkLink requires a URL string or object with url property"});break;case"loadVariables":case"loadCookie":case"saveCookie":typeof i!="string"&&s.push({message:`${e} requires a file path string`});break;case"record":typeof i!="string"&&typeof i!="object"&&s.push({message:"record requires a string (path) or object"});break;case"stopRecord":break}return{valid:s.length===0,errors:s,action:e}}function $N(t){let e=Object.keys(t).find(s=>s!=="description"&&s!=="stepId");if(!e)return{valid:!1,errors:[{message:"Step has no action defined"}],action:null};let i=[`${e}_v2`,`${e}_v1`,e];for(let s of i)try{let r=Dk.validate(s,t);return{valid:r.valid,errors:r.errors||[],action:e}}catch{}return Rk(t)}function Ek(t){return vu?$N(t):Rk(t)}function $k(t){let e={valid:!0,errors:[],schemaValidation:vu,summary:{testsValidated:0,stepsValidated:0,stepsPassed:0,stepsFailed:0}};return!t||typeof t!="object"?(e.valid=!1,e.errors.push({message:"Test specification must be an object"}),e):!t.tests||!Array.isArray(t.tests)?(e.valid=!1,e.errors.push({message:'Test specification must have a "tests" array'}),e):t.tests.length===0?(e.valid=!1,e.errors.push({message:"Test specification must have at least one test"}),e):(t.tests.forEach((i,s)=>{if(e.summary.testsValidated++,!i.steps||!Array.isArray(i.steps)){e.valid=!1,e.errors.push({message:`Test ${s} (${i.testId||"unnamed"}) must have a "steps" array`,testIndex:s,testId:i.testId});return}if(i.steps.length===0){e.valid=!1,e.errors.push({message:`Test ${s} (${i.testId||"unnamed"}) must have at least one step`,testIndex:s,testId:i.testId});return}i.steps.forEach((r,n)=>{e.summary.stepsValidated++;let o=Ek(r);o.valid?e.summary.stepsPassed++:(e.summary.stepsFailed++,e.valid=!1,o.errors.forEach(a=>{e.errors.push({message:a.message||String(a),testIndex:s,testId:i.testId,stepIndex:n,stepId:r.stepId,action:o.action})}))})}),e)}function _k(t){let e=[];t.valid?e.push("\u2713 Validation PASSED"):e.push("\u2717 Validation FAILED");let i=t.schemaValidation?"schema":"structural";return e.push(`  Mode: ${i} validation`),e.push(`  Tests validated: ${t.summary.testsValidated}`),e.push(`  Steps validated: ${t.summary.stepsValidated}`),e.push(`  Steps passed: ${t.summary.stepsPassed}`),e.push(`  Steps failed: ${t.summary.stepsFailed}`),t.errors.length>0&&(e.push(`
Errors:`),t.errors.forEach((s,r)=>{e.push(`
  ${r+1}. ${s.message}`),s.testId&&e.push(`     Test: ${s.testId}`),s.stepId&&e.push(`     Step: ${s.stepId}`),s.action&&e.push(`     Action: ${s.action}`)})),t.schemaValidation||(e.push(`
Note: Using structural validation only.`),e.push("Install doc-detective-common for full schema validation:"),e.push("  npm install doc-detective-common")),e.join(`
`)}function _N(){let t=process.argv.slice(2);t.length===0&&(console.error("Usage: node validate-test.js <test-file.json>"),console.error("       node validate-test.js --stdin < test-spec.json"),process.exit(2));let e;if(t[0]==="--stdin"){let i=[];process.stdin.setEncoding("utf8"),process.stdin.on("data",s=>i.push(s)),process.stdin.on("end",()=>{try{e=JSON.parse(i.join("")),Ck(e)}catch(s){console.error(`Error parsing JSON from stdin: ${s.message}`),process.exit(2)}})}else{let i=EN.resolve(t[0]);Tk.existsSync(i)||(console.error(`Error: File not found: ${i}`),process.exit(2));try{let s=Tk.readFileSync(i,"utf8");e=JSON.parse(s),Ck(e)}catch(s){console.error(`Error reading/parsing file: ${s.message}`),process.exit(2)}}}function Ck(t){let e=$k(t);console.log(_k(e)),console.error(JSON.stringify(e,null,2)),process.exit(e.valid?0:1)}module.exports={validateTestSpec:$k,validateStep:Ek,formatResults:_k,KNOWN_ACTIONS:xu};require.main===module&&_N();
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

axios/dist/node/axios.cjs:
  (*! Axios v1.13.2 Copyright (c) 2025 Matt Zabriskie and contributors *)
*/
